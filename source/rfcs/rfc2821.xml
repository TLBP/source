<?xml version="1.0" encoding="UTF-8"?>
<!-- ********************************************************************
     $Id: rfc2821.xml,v 1.8 2002/12/20 22:46:09 nilgun Exp $
     ********************************************************************-->
<article xml:id="rfc2821">
  <articleinfo>
    <title>Basit Posta Aktarım Protokolü (SMTP)</title>
    <subtitle>RFC 2821</subtitle>
    <titleabbrev>RFC 2821</titleabbrev>
    <authorgroup>
      <author role="editor">
        <firstname>J. Klensin</firstname>
        <contrib>AT&amp;T Laboratories</contrib>
      </author><author role="translator">
        <firstname>Sanem Uçan</firstname>
        <contrib>ÇOMÜ, Bilgisayar Mühendisliği öğrencisi</contrib>
      </author><author role="editor">
        <firstname>Nilgün Belma Bugüner</firstname>
        <contrib>belgeler.org</contrib>
      </author>
    </authorgroup>
    <pubdate>Mayıs 2006</pubdate>
    <revhistory>
      <revision>
        <revnumber>1.1</revnumber>
        <date>Ağustos 2006</date>
        <authorinitials>NBB</authorinitials>
        <revremark>Çeviriye *ZORUNLU*, *ÖNERİ* ve *SEÇİMLİK* imlerini yerleştirdi ve çeviri metninin bazı yerlerini buna göre düzeltti.</revremark>
      </revision><revision>
        <revnumber>1.0</revnumber>
        <date>Mayıs 2006</date>
        <authorinitials>SU</authorinitials>
        <revremark>İlk çeviri</revremark>
      </revision><revision>
        <revnumber>Standart Aday Adayı</revnumber>
        <date>Nisan 2001</date>
        <authorinitials>JK</authorinitials>
        <revremark>Özgün sürüm</revremark>
      </revision>
    </revhistory>
    <releaseinfo>
Ağ Çalışma Grubu 
Açıklama İsteği: 2821 
Geçersiz kıldığı RFC'ler: 821, 974, 1869 
Geçersiz kıldığı STD: 10 
Güncellediği RFC: 1123 
Durumu: Standart Aday Adayı
    </releaseinfo>
    <legalnotice><title>Yasal Uyarı</title><para>
RFC'lerin yazarlarının hakları <link xl:href="ftp://ftp.rfc-editor.org/in-notes/bcp/bcp78.txt">BCP 78</link> ile düzenlenmiştir. Dolayısıyla RFC çevirilerinin çevirmenlerinin haklarını da <link linkend="&bcp078;">BCP 78</link>'in düzenlediği kabul edilmiştir.
        </para><para>
Bu belge <link xl:href="http://www.ietf.org/">IETF</link> tarafından yayınlanan resmi RFC2821'in <emphasis role="bold">gayrıresmi</emphasis> çevirisidir ve aslının yerine kullanılamaz. Bu çevirinin hiçbir bağlamda ya da koşulda hükmü yoktur. Bu çeviri, anadili Türkçe olan Genel Ağ kullanıcılarının bu RFC hakkında fikir edinebilmelerini sağlamak amacıyla hazırlanmıştır.
  </para>
  <para>
BU BELGE "ÜCRETSİZ" OLARAK RUHSATLANDIĞI İÇİN, İÇERDİĞİ BİLGİLER İÇİN İLGİLİ KANUNLARIN İZİN VERDİĞİ ÖLÇÜDE HERHANGİ BİR GARANTİ VERİLMEMEKTEDİR. AKSİ YAZILI OLARAK BELİRTİLMEDİĞİ MÜDDETÇE TELİF HAKKI SAHİPLERİ VE/VEYA BAŞKA ŞAHISLAR BELGEYİ "OLDUĞU GİBİ", AŞİKAR VEYA ZIMNEN, SATILABİLİRLİĞİ VEYA HERHANGİ BİR AMACA UYGUNLUĞU DA DAHİL OLMAK ÜZERE HİÇBİR GARANTİ VERMEKSİZİN DAĞITMAKTADIRLAR. BİLGİNİN KALİTESİ İLE İLGİLİ TÜM SORUNLAR SİZE AİTTİR. HERHANGİ BİR HATALI BİLGİDEN DOLAYI DOĞABİLECEK OLAN BÜTÜN SERVİS, TAMİR VEYA DÜZELTME MASRAFLARI SİZE AİTTİR.
  </para>
  <para>
İLGİLİ KANUNUN İCBAR ETTİĞİ DURUMLAR VEYA YAZILI ANLAŞMA HARİCİNDE HERHANGİ BİR ŞEKİLDE TELİF HAKKI SAHİBİ VEYA YUKARIDA İZİN VERİLDİĞİ ŞEKİLDE BELGEYİ DEĞİŞTİREN VEYA YENİDEN DAĞITAN HERHANGİ BİR KİŞİ, BİLGİNİN KULLANIMI VEYA KULLANILAMAMASI (VEYA VERİ KAYBI OLUŞMASI, VERİNİN YANLIŞ HALE GELMESİ, SİZİN VEYA ÜÇÜNCÜ ŞAHISLARIN ZARARA UĞRAMASI VEYA BİLGİLERİN BAŞKA BİLGİLERLE UYUMSUZ OLMASI) YÜZÜNDEN OLUŞAN GENEL, ÖZEL, DOĞRUDAN YA DA DOLAYLI HERHANGİ BİR ZARARDAN, BÖYLE BİR TAZMİNAT TALEBİ TELİF HAKKI SAHİBİ VEYA İLGİLİ KİŞİYE BİLDİRİLMİŞ OLSA DAHİ, SORUMLU DEĞİLDİR.
  </para>
  <para>
Tüm telif hakları aksi özellikle belirtilmediği sürece sahibine aittir. Belge içinde geçen herhangi bir terim, bir ticari isim ya da kuruma itibar kazandırma olarak algılanmamalıdır. Bir ürün ya da markanın kullanılmış olması ona onay verildiği anlamında görülmemelidir.
  </para>
    </legalnotice>
    <abstract><para>
Bu belge Genel Ağ'da elektronik posta aktarımı için kullanılan temel protokolün müstakil belirtimidir.
    </para><para>
Aşağıdaki mevcut işlevselliği pekiştirir, günceller ve arıtır, fakat yeni bir işlevsellik eklemez veya olanı değiştirmez:
</para><para>
<itemizedlist><listitem>
özgün RFC 821 [<xref linkend="rfc2821-bib30"/>] SMTP (Simple Mail Transfer Protocol) belirtimi,
</listitem><listitem>
RFC 1035 [<xref linkend="rfc2821-bib22"/>] ve RFC 974'teki [<xref linkend="rfc2821-bib27"/>] posta aktarımı için alan adı sistemi ile karşılıklı gereksinimler,
</listitem><listitem>
RFC 1123'ten [<xref linkend="rfc2821-bib2"/>] arıtımlar ve uygulanabilirlik beyanları ve
</listitem><listitem>
SMTP Eklenti mekanizmalarından [<xref linkend="rfc2821-bib19"/>] süzülmüş bileşenler.
</listitem></itemizedlist>
</para><para>
RFC 821 ve RFC 974'ü geçersiz bırakırken RFC 1123'ü günceller (RFC 1123'ün posta aktarım bileşenlerini değiştirir). Bununla birlikte, RFC 821, bazı ek aktarım modellerinde (eklerde bahsedildi) ve 1990'ların ortalarından beri Genel Ağ'da pek kullanılmamış olan bazı özellikleri belirtir. Bu bölümler temizlik, sadelik ve kısalık açısından buraya dahil edilmemiştir; bunları okuma ihtiyacı duyanlar <link linkend="rfc821">RFC 821</link>'e başvurabilirler.
</para><para>
Ayrıca RFC 1123'ün güçlendirilmesi gereken bazı ek bileşenlerini de içerir. Bu bileşenler çeşitli yollarla, çoğunlukla çeşitli listeler ve haber gruplarındaki şiddet izlenerek ve SMTP eklentilerinin konuşlandırılmaları gereği olarak ortaya çıkan yararsız okuma ve yorumlama sorunlarıyla betimlenebilir. Bu belirtim pekiştirmenin ötesine geçtiği noktada hem metinsel hem de teknik olarak önceki belgelerden farklı olmaktan başka onların da yerini alır.
</para><para>
SMTP'nin bir posta aktarım ve teslim etme protokolü olarak tasarlanmış olmasının yanında, bu belirtim bundan başka POP [<xref linkend="rfc2821-bib3"/>, <xref linkend="rfc2821-bib26"/>] ve IMAP [<xref linkend="rfc2821-bib6"/>] için önerildiği gibi bir posta teslim alma protokolü olarak kullanımı açısından önem kazanan bilgileri de içerir. Postanın teslim alınması ile ilgili konulara RFC 2476'da da [<xref linkend="rfc2821-bib15"/>] ayrıca değinilmiştir.
</para><para>
<xref linkend="rfc2821-s23"/> bölümünde bu belgeye özgü terminolojiye yer verilmiştir. Tarihsel terminolojinin arıtım için gerekli olması dışında bu belgedeki istemci ve sunucu terimleri sırasıyla, SMTP gönderim ve alım süreçlerini betimlemek için kullanılmıştır.
</para><para>
Bir eş belge olarak [<xref linkend="rfc2821-bib32"/>] ileti başlıkları, ileti gövdeleri ve bunların yapıları ve biçimleri ile aralarındaki ilişkileri açıklar.
    </para>
    </abstract>
  <atomEntry>
    <link rel="alternate" href="http://belgeler.org/rfc/rfc2821.html" hreflang="tr_TR" type="text/html" title="RFC 2821"/>
    <link rel="related" href="http://adsl.belgeler.org/source/rfcs/rfc2821.xml" hreflang="tr_TR" type="application/xml-external-parsed-entity" title="RFC 2821"/>
    <title type="text/html">RFC 2821 - Basit Posta Aktarım Protokolü (SMTP)</title>
    <id>belgeler.org:rfc:rfc2821</id>
    <author role="editor"><name>J. Klensin</name></author>
    <author role="translator"><name>Sanem Uçan</name></author>
    <created>2006-05</created>
    <modified>2006-09-18</modified>
    <rights type="application/xhtml+xml">
      <div xmlns="http://www.w3.org/1999/xhtml"><p>RFC'lerin yazarlarının hakları <a href="ftp://ftp.rfc-editor.org/in-notes/bcp/bcp78.txt">BCP 78</a> ile düzenlenmiştir. Dolayısıyla RFC çevirilerinin çevirmenlerinin haklarını da BCP 78'in düzenlediği kabul edilmiştir.</p></div>
    </rights>
  </atomEntry>
  </articleinfo>
<dedication><title>Bu Belgenin Durumu</title>
<para>
Bu belge Genel Ağ topluluğu yararına standartlaşma sürecine girmiş bir protokolü belirtir ve geliştirilmesi için tartışılmayı ve öneriler almayı bekler. Bu protokolün standartlaşma sürecinde bulunduğu aşama ve durum için lütfen "Genel Ağ Resmi Protokol Standartları" (STD1) isimli belgenin son yayımına bakınız. Bu belgenin dağıtımına sınırlama konmamıştır.
</para><para>
Copyright (C) The Internet Society (2001).  All Rights Reserved.
</para><para>
Telif Hakkı © The Internet Society (2001).  Tüm Hakları Saklıdır.
</para>
</dedication>

<sect1 xml:id="rfc2821-s1"><title>Giriş</title>
<para>
Basit Posta İletim Protokolü'nün (SMTP - Simple Mail Transfer Protocol) amacı, postanın verimli ve güvenli bir şekilde aktarımıdır.
</para><para>
SMTP, bellibaşlı aktarım altsistemlerinden bağımsız olup sadece düzenli çalışan bir veri akımı kanalı gerektirir. Bu belge aktarım için TCP'den bahsederse de diğer aktarım yöntemleri de mümkündür. Eklerdeki RFC 821 ile ilgili bölümde bunların bazılarından bahsedilmiştir.
</para><para>
SMTP’nin önemli bir özelliği, çoğunlukla “SMTP posta rölelemesi” denilen yöntemle (bkz. <xref linkend="rfc2821-s38"/>) ağ üzerinden posta aktarımı yapma yeteneğidir. Bir ağ Genel Ağ'da karşılıklı olarak TCP üzerinden erişilebilen konaklardan oluşabileceği gibi bir güvenlik duvarı ile yalıtılmış bir TCP/IP ağında karşılıklı olarak TCP üzerinden erişilebilen konaklardan veya başka bir geniş veya yerel ağ ortamında TCP-dışı bir aktarım protokolü kullanan konaklardan da oluşabilir. SMTP kullanarak, bir süreç aynı ağ içindeki başka bir sürece posta aktarabileceği gibi aynı ağ veya başka bir ağdaki başka bir sürece de aynı anda bir röle veya ağgeçidi üzerinden posta aktarılabilir.
</para><para>
Bir posta iletisi göndericisinden nihai alıcısına giderken yolu bazı röle veya ağgeçidi konaklardan geçebilir. Alan adı sisteminin posta aktarımcı (<literal>MX</literal>) mekanizmaları [<xref linkend="rfc2821-bib22"/>, <xref linkend="rfc2821-bib27"/>] (ve bu belgenin <xref linkend="rfc2821-s5"/> bölümü) bir iletinin aktarılacağı sonraki en uygun sıçrama noktasını tayin etmekte kullanılır.
</para>
</sect1>

<sect1 xml:id="rfc2821-s2"><title>SMTP Modeli</title>
<sect2 xml:id="rfc2821-s21" chunkthis="1"><title>Temel Yapı</title>
<para>SMTP tasarımı şöyle resmedilebilir:
</para><figure>
<literallayout indent="0">
                 +-----------+                   +----------+
+-----------+    |           |                   |          |
| Kullanıcı |&lt;-->|           |      SMTP         |          |
+-----------+    |    SMTP   |Komutları/Yanıtları|   SMTP   |
+-----------+    | istemcisi |&lt;----------------->| sunucusu |    +-------+
|   Dosya   |&lt;-->|           |    ve Posta       |          |&lt;-->| Dosya |
|  Sistemi  |    |           |                   |          |    |Sistemi|
+-----------+    +-----------+                   +----------+    +-------+
</literallayout>
</figure><para>
SMTP istemcisinin iletilmek üzere bir iletisi olduğunda, bir SMTP sunucusuna iki yollu bir aktarım kanalı kurar. SMTP istemcisinin sorumluluğu, posta iletilerini bir veya daha fazla sayıda SMTP sunucusuna aktarmak ve eğer varsa hataları raporlamaktır.
</para><para>
Bir posta iletisinin SMTP istemcisine sunulması ve istemci tarafından hangi posta iletilerinin hangi alan isimlerine aktarılacağının tespiti yerel konulardan olup bu belgede bu konulara değinilmeyecektir. Bazı durumlarda, alan isimlerinin SMTP istemcisine aktarılması ya da istemci tarafından saptanması durumlarında posta iletisinin son hedefini SMTP istemcisi tayin edecektir. SMTP istemcisinin yalıtılmış bir aktarım hizmeti ortamının içinde kaldığı veya POP [<xref linkend="rfc2821-bib3"/>, <xref linkend="rfc2821-bib26"/>] veya IMAP [<xref linkend="rfc2821-bib6"/>] gerçeklenimleri ile ilişkili SMTP istemcileriyle ortaklaşılan bazı durumlarda, saptanan alan ismi tüm posta iletilerinin rölelelenmesini sağlayan ara hedefi tayin edecektir.  Tek tek iletilerle ilişkilendirilmiş hedef alan isimlerine bakmaksızın tüm trafiği aktaran veya dahili olarak tamamlanamayan aktarımlara iletileri yeniden göndermek için kuyruklar sağlayan SMTP istemcileri, bu protokola bir şekilde uyum sağlayabilir fakat tamamen yetkin sayılmazlar. Tamamen yetkin SMTP gerçeklenimlerinin, daha az yetkin olanlardan röleleme kullananlar da dahil olmak üzere, bu belirtimde açıklanan tüm kuyruklama, yeniden gönderme ve diğer adres işlevlerini destekleyeceği umulur.
</para><para>
Bir SMTP istemcisinin, bir hedef alan ismi saptayıp, iletinin bir kopyasının aktarılacağı SMTP sunucusunun kimliğini saptaması ve aktarımı gerçekleştirmesi bu belgenin kapsamına girmektedir. Bu anlamda, bir SMTP sunucusuna bir posta aktarımı için bir SMTP istemcisi SMTP sunucusuna iki yollu bir aktarım kanalı kurar. SMTP istemcisi bir SMTP sunucusu çalıştıran uygun bir konağın adresini, bir ara posta aktarımcısı (<literal>MX</literal>) veya son alıcı konağın alan adı olarak çözümleyerek saptar.
</para><para>
Bir SMTP sunucusu ya bir nihai hedef ya bir ara "röle" (iletiyi aldıktan sonra aktaran bir SMTP istemcisinin rölesi olarak da kabul edilebilir) ya da bir "ağgeçidi" olabilir (iletiyi SMTP dışında bir protokol kullanarak aktaran anlamında ele alınabilir). SMTP komutları SMTP istemcisi tarafından üretilir ve SMTP sunucusuna gönderilir. SMTP yanıtları ise SMTP sunucusundan SMTP istemcisine komutlara yanıt olarak gönderilir.
</para><para>
Başka bir deyişle, ileti aktarımı özgün SMTP göndericisi ile nihai SMTP alıcısı arasındaki tek bir bağlantıda oluşabileceği gibi bir sürü ara bağlantı üzerinden hoplaya hoplaya da gerçekleşebilir. Her iki durumda da, biçimsel olarak iletinin sorumluluğunun terki durumu ortaya çıkar: protokol, ya bir iletinin teslimi ya da yapamıyorsa başarısızlığın düzgün olarak raporlanması anlamında bir sunucunun sorumluluğu kabul etmesini gerektirir.
</para><para>
Aktarım kanalı kurulup ilk el sıkışma tamamlandıktan sonra, SMTP istemcisi normal olarak posta aktarımını başlatır. Böyle bir hareket, postanın oluşturucusu ve hedefi ile iletinin kendisinin (başlıklar ve bir takım başka yapıları da içererek) aktarımını belirten bir sürü komuttan oluşur. Aynı ileti çok sayıda alıcıya gönderildiği zaman, bu protokol, aynı hedef konaktaki (veya ara rölelerdeki) tüm alıcılar için verinin sadece tek bir kopyasının aktarımını destekler.
</para><para>
Sunucu her komutu bir cevapla yanıtlar; yanıtlar, komutların kabul edildiğini, ek komutların beklendiğini veya bir geçici yahut kalıcı bir hata durumunun mevcut olduğunu belirtebilir. Gönderici veya alıcı belirtilerek komutlarda  <xref linkend="rfc2821-s22"/> bölümünde açıklandığı gibi sunucu izinli SMTP ek hizmet istekleri bulunabilir. Komut borulama [<xref linkend="rfc2821-bib13"/>] gibi ek isteklerde bulunarak karşılıklı kabullerle değiştirilebilir olsa bile görüşme, amaca uygun olarak her seferinde tek bir adımı gerçekleştirmek biçiminde yapılır.
</para><para>
Bir posta iletisi aktarımının bitmesinin ardından istemci bağlantının kapatılmasını isteyebileceği gibi başka bir postanın aktarımını da başlatabilir. Ek olarak, bir SMTP istemcisi bir SMTP sunucusuyla olan bağlantıyı, eposta adreslerinin doğrulanması veya posta listesinin üye adreslerinin alınması gibi yan hizmetler için de kullanabilir.
</para><para>
Yukarıda değinildiği gibi, bu protokol posta aktarımı için mekanizmaları sağlar. Bu aktarım normal olarak, gönderen kullanıcının konağı ile alan kullanıcının konağı arasında ancak her iki konak da aynı aktarım hizmetine bağlı olduğunda doğrudan doğruya gerçekleşir. Aynı aktarım hizmetine bağlı olmadıkları takdirde, aktarım bir veya daha fazla SMTP sunucusunun postayı rölelemesi ile mümkün olur. Bir SMTP rölesi veya başka aktarım ortamlarına bir ağgeçidi olarak davranan bir ara konak genellikle alan adı hizmetinin (DNS) posta aktarımcısı mekanizması (<literal>MX</literal>) kullanılarak seçilir.
</para><para>
Çoğunlukla ara konaklar açıkça "kaynak" yönlendirme ile değil, DNS <literal>MX</literal> kaydı sayesinde tespit edilirler (<xref linkend="rfc2821-s5"/>, <xref linkend="rfc2821-appc"/> ve <xref linkend="rfc2821-appf2"/> bölümlerine bakınız).
</para>
</sect2>

<sect2 xml:id="rfc2821-s22" chunkthis="1"><title>Eklenti Modeli</title>
<sect3 xml:id="rfc2821-s221"><title>Arkaplan</title>
<para>
1990'da başlayıp, RFC 821'in tamamlanmasından sonraki 10 yılın çalışmalarıyla protokol bir "hizmet ekleri" modeliyle değişikliğe uğratıldı. Bu model istemci ve sunucuya özgün SMTP gereksinimlerinin ötesinde, paylaşımlı işlevsellikten yararlanmayı kabul etmeye izin vermektedir. SMTP eklenti mekanizması eklentili SMTP istemcisi ve sunucusunun birbirlerini tanıyabilecekleri ve sunucunun  desteklediği hizmet eklentileri hakkında istemciyi bilgilendirebileceği bir yapı tanımlar.
</para><para>
<rfcmust>Çağdaş SMTP gerçeklenimlerinin temel eklenti mekanizmalarını desteklemesi gerekir</rfcmust>. Örneğin, herhangi bir özel eklenti gerçeklemeseler bile, <rfcmust>sunucuların <command>EHLO</command> komutunu desteklemeleri ve istemcilerin de ayrıcalıklı olarak <command>HELO</command> komutundan ziyade <command>EHLO</command> komutundan yararlanmaları gerekir</rfcmust>. (<rfcmust>Bununla birlikte, eski gerçeklenimlerle uyumluluk açısından SMTP istemcilerinin ve sunucularının bir son çare olarak <command>HELO</command> mekanizmasını da desteklemesi gerekir</rfcmust>.) <command>HELO</command> komutunun farklı karakteristikleri birlikte çalışabilirlik amacıyla betimlenmiş olmadıkça, bu belgede sadece <command>EHLO</command> komutundan bahsediliyor olunacaktır.
</para><para>
SMTP'nin geniş çapta uygulanmış ve yüksek kaliteli gerçeklenimlerinin çok sağlam olacağı ortaya çıkmıştır. Yine de, Genel Ağ topluluğu bazı hizmetlerin şimdilerde, protokol ilk tasarlandığında umulmayan bir öneme kavuştuğunu düşünmektedir. Eğer bu hizmetler için destek eklenecek olursa, bunun eski gerçeklenimlerin çalışmaya devam etmesine izin verecek bir yolla yapılması gerekir. Eklentilerle ilgili şöyle bir çerçeve çizilebilir:
</para><itemizedlist><listitem>
Eski SMTP komutu <command>HELO</command>'nun yerini <command>EHLO</command> komutunun alması,
</listitem><listitem>
SMTP hizmet eklentilerinin bir kaydının tutulması,
</listitem><listitem>
SMTP <command>MAIL</command> ve <command>RCPT</command> komutlarına ek bağımsız değişkenler ve
</listitem><listitem>
ASCII olmayan [<xref linkend="rfc2821-bib33"/>] aktarımlardaki <command>DATA</command>  komutundaki gibi bu protokolde tanımlanmış komutlar için isteğe bağlı değişiklikler.
</listitem></itemizedlist><para>
SMTP’nin gücü, öncelikle basitliğinden gelmektedir. Protokollerle ilgili deneyimler, az seçenekli protokollerin her yerde hazır ve nazır olurken, çok seçenekli protokollerin pek ortalıkta görünmediklerini ortaya koymuştur.
</para><para>
Getirilerine bakmaksızın her eklenti gerek gerçeklenim gerek konuşlanım gerekse birlikte çalışabilirlik maliyetleri bakımından ayrı ayrı dikkatle irdelenmelidir.  Çoğu durumda, SMTP hizmetinin eklentilerle genişletilmesinin maliyeti beklenen yarardan ağır olmaktadır.
</para>
</sect3>

<sect3 xml:id="rfc2821-s222"><title>Eklentilerin Tanımlanması ve Kayda Geçirilmesi</title>
<para>
IANA, SMTP hizmet eklentilerinin bir kaydını tutar. Her eklenti uygun bir <command>EHLO</command> anahtar sözcük değeri ile ilişkilendirilir. IANA ile kayda geçirilmiş her hizmet eklentisi biçimsel olarak standartlaşma aşamalarında bulunan bir protokol belgesinde ya da IESG onaylı bir deneysel protokol belgesinde tanımlanmış olmalıdır. Bu tanım şunları içermelidir:
</para><itemizedlist><listitem>
SMTP hizmet eklentisinin açık ismi;
</listitem><listitem>
eklenti ile ilişkili <command>EHLO</command> anahtar sözcük değeri;
</listitem><listitem>
<command>EHLO</command> anahtar sözcük değeri ile ilişkili bağımsız değişkenlerin sözdizimi ve tek tek olası değerleri;
</listitem><listitem>
eklenti ile ilgili ilave SMTP fiilleri (ilave fiiller genelde olur, ama olması gerekli değildir, tıpkı <command>EHLO</command> anahtar sözcük değeri gibi);
</listitem><listitem>
<command>MAIL</command> veya <command>RCPT</command> fiilleri ile ilişkili eklentilerin tek tek yeni bağımsız değişkenleri;
</listitem><listitem>
bir sunucu ve istemci SMTP'nin davranışını etkileyen bu eklentinin nasıl destekleneceğinin bir açıklaması; ve
</listitem><listitem>
<command>MAIL</command> ve/veya <command>RCPT</command> komutlarının azami uzunluğunu arttıran eklentinin bu standartta belirtilene ne kadar daha artış getirdiği.
</listitem></itemizedlist><para>
Ek olarak, büyük veya küçük harf olarak bir "X" ile başlayan herhangi bir <command>EHLO</command> anahtar sözcük değeri, özellikle iki taraflı uzlaşma üzerinden kullanılan  yerel bir SMTP eklentisi belirtir. <rfcmust>"X" ile başlayan anahtar sözcükler kayıtlı bir hizmet eklentisinde kullanılmamalıdır</rfcmust>. Aksine, <rfcmust><command>EHLO</command> yanıtlarında sunulmuş anahtar sözcük değerlerinden "X" ile başlamayanların standart, standart adayı, standart aday adayı veya IESG onaylı deneysel bir protokolle tanımlanmış ve IANA ile kayda geçirilmiş bir SMTP hizmet eklentisine karşılık olması gerekir</rfcmust>. <rfcmust>Uyumlu bir sunucunun, "X" ile başlamayan ve kayıtlı bir eklentide açıklanmamış bir anahtar sözcük değeri sunmaması gerekir</rfcmust>.
</para><para>
Ek fiiller ve bağımsız değişken isimleri <command>EHLO</command> anahtar sözcüğüne uygulanan kurallara tabidirler; özellikle, "X" ile başlayan fiiller yerel eklentilerden olup kayıtlı veya standartlaştırılmış olamazlar. Ancak, "X" ile başlamayan fiillerin daima kayda geçirilmiş olmaları gerekir.
</para>
</sect3>
</sect2>

<sect2 xml:id="rfc2821-s23" chunkthis="1"><title>Terminoloji</title>
<para>
Özgün İngilizce metindeki "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT", "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY" ve "OPTIONAL" anahtar sözcüklerinin yerine kullanılan Türkçe karşılıklar ve bunlarla belgede karşılaşıldığında nasıl yorumlanmaları gerektiği aşağıda açıklanmıştır. Dilimizde fiillerin çekimleri için ayrı birer sözcük bulunmadığından bunların geçtiği cümleler aşağıdaki gibi imlenmiştir.
</para>
<bridgehead renderas="sect4"><rfcmust/></bridgehead>
<para>
Bu imleme özgün metindeki MUST, REQUIRED veya SHALL terimlerinin yerine kullanılmıştır ve belirtimdeki bahse konu niteliğin mutlaka gerçeklenmesi gereken bir nitelik olduğunu belirtir.
</para>
<bridgehead renderas="sect4">*YASAK*</bridgehead>
<para>
Bu imleme özgün metindeki MUST NOT veya SHALL NOT terimlerinin yerine kullanılmak için tasarlanmış ama yerine <rfcmust/> imi kullanılmıştır (olumsuz cümleyi olumlamaması için) ve belirtimdeki bahse konu niteliğin kesinlikle gerçeklenmemesi gereken bir nitelik olduğunu belirtir.
</para>
<bridgehead renderas="sect4"><rfcshould/></bridgehead>
<para>
Bu imleme özgün metindeki SHOULD veya RECOMMENDED terimlerinin yerine kullanılmıştır ve belli durumlarda belli bir öğenin yoksayılmasını gerektiren geçerli sebeplerin elbette varolabileceği ancak farklı bir rota seçmeden önce tüm olasılıkların anlaşılması ve ağırlıklarının dikkatle gözden geçirilmesinin de gerekliliğini belirtir.
</para>
<bridgehead renderas="sect4">*ÖNERİLMEZ*</bridgehead>
<para>
Bu imleme özgün metindeki SHOULD NOT veya NOT RECOMMENDED terimlerinin yerine kullanılmak için tasarlanmış ama yerine <rfcshould/> imi kullanılmıştır (olumsuz cümleyi olumlamaması için) ve belli bir davranışın kabul edilebilir hatta yararlı olduğu belli durumlarla ilgili geçerli sebeplerin tabii ki varolabileceği ancak bahse konu davranış gerçeklenmeden önce tüm olasılıkların anlaşılması ve ağırlıklarının dikkatle gözden geçirilmesinin de gerekliliğini belirtir.
</para>
<bridgehead renderas="sect4"><rfcmaybe/></bridgehead>
<para>
Bu imleme özgün metindeki MAY veya OPTIONAL terimlerinin yerine kullanılmıştır ve belirtimdeki bahse konu niteliğin gerçeklenmesinin gerçekten isteğe bağlı olduğunu belirtir. Bir üretici belli bir seçeneği pazar onu istiyor diye ya da başka bir üreticinin bu seçeneği sağlamayan bir ürününe üstün olması için ürününde bulundurmayı isteyebilir. <rfcmust>Belli bir seçeneği içermeyen bir gerçeklenimin aynı seçeneği içeren bir gerçeklenimle, hatta işlevselliği azaltarak olsa bile, birarada çalışabilmeye hazır olması gerekir</rfcmust>. Aynı minvalde, <rfcmust>belli bir seçeneği içeren bir gerçeklenimin de aynı seçeneği içermeyen bir gerçeklenimle birarada çalışabilmeye hazır olması gerekir</rfcmust> (tabii ki seçeneği sağlayan özellik için değil).
</para>
<sect3 xml:id="rfc2821-s231"><title>Posta Nesneleri</title>
<para>
SMTP posta nesnesi aktarır. Bir posta nesnesi ise bir zarf ve zarfın içindekilerden oluşur.
</para><para>
SMTP zarfı ardarda uygulanan SMTP protokol birimleriyle gönderilir (<xref linkend="rfc2821-s3"/> bölümünde açıklanmıştır). Zarf, bir tasarlayıcı adresi (hatalar ona raporlanır), en az bir tane alıcı adresi ve isteğe bağlı protokol eklenti bileşenlerinden oluşur. Geçmişte, gönderici adresini belirten komutun (<command>RCPT TO</command>) çeşitli şekilleri, hemen bakıverme gibi başka teslimat kiplerini belirtmekte kullanılırdı; bu kullanım şekilleri artık önerilmememektedir (<xref linkend="rfc2821-appf"/> ve <xref linkend="rfc2821-appf6"/> bölümlerine bakınız).
</para><para>
SMTP içeriği, SMTP <command>DATA</command> protokolü biriminde gönderilir ve iki kısımdan oluşur: başlıklar ve gövde. Eğer içerik diğer çağdaş standartlarla uyumluysa, başlıklar, ileti biçimi belirtimindeki [<xref linkend="rfc2821-bib32"/>] gibi  bir isim/değer çiftleri listesi şeklinde olur; gövde ise, eğer yapılandırılmışsa, MIME'ye [<xref linkend="rfc2821-bib12"/>] uygun olarak tanımlanmıştır. İçerik metinsel bir doğaya sahip olup, US-ASCII karakter kümesi [<xref linkend="rfc2821-bib1"/>] kullanılarak oluşturulur. SMTP eklentileri ("8BITMIME" [<xref linkend="rfc2821-bib20"/>] gibi) içerik gövdesi açısından bu sınırlamaları esnetebildiğinden, içerik başlıkları daima US-ASCII karakter kümesi kullanılarak kodlanır. US-ASCII karakter kümesi dışındaki başlık değerlerini US-ASCII karakter kümesini kullanarak ifade edebilmek için bir MIME eklentisi [<xref linkend="rfc2821-bib23"/>] olarak bir algoritma tanımlanmıştır.
</para>
</sect3>

<sect3 xml:id="rfc2821-s232"><title>Göndericiler ve Alıcılar</title>
<para>
RFC 821'de SMTP aktarımının taraflarını oluşturan iki konak "SMTP-gönderici" ve "SMTP-alıcı" olarak açıklanmıştı. Bu belgede şu an ki endüstri terminolojisini yansıtmak için bu kullanım değiştirilmiş olup, bunlardan bahsedilirken sırasıyla "SMTP istemcisi" (bazan sadece "istemci") ve "SMTP sunucusu" (veya sadece "sunucu") terimleri kullanılmıştır. Belirtilen konağın bir röle olması durumunda, konak hem sunucu hem istemci olarak davranabildiğinden yapılana açıklık getirmek amacıyla hala "alıcı" ve "gönderici" terminolojisi de kullanılmaktadır.
</para>
</sect3>

<sect3 xml:id="rfc2821-s233"><title>Posta Aracıları ve İleti Depoları</title>
<para>
Ek posta sistemi terminolojisi RFC 821 yayınlandıktan sonra yaygın duruma geldi ve uygun düştükçe de bu belirtimde kullanıldı. Kısmen, SMTP sunucuları ve istemcileri bir posta aktarım hizmeti sağlamaları nedeniyle "Posta Aktarım Aracıları" (MTA - Mail Transfer Agent) gibi davranırlar. "Posta Kullanıcı Aracıları" (MUA veya UA - Mail User Agent) ise postanın kaynakları ve hedefleri olarak düşünülürler. Kaynakta, MUA'lar bir kullanıcıdan aktarılmış olan postayı toplarlar ve bir MTA'ya bırakırlar; nihai ("teslimatçı") MTA'lar ise postayı bir MUA'ya bırakan aracılar olarak (veya en azından örneğin iletiyi bir "ileti deposu"na emanet eden bir posta aktarma sorumlusu olarak) düşünülür. Bununla birlikte, bu terimler başka yerlerde en azından görünürde oldukça kesin
tanımlıymış gibi kullanılmasına rağmen MUA'lar ve MTA'lar arasında varolduğu öngörülen sınır çizgisi, Genel Ağ postasıyla ilgili kabullere/standartlara uyan ortak pratiklere genellikle tam olarak uymaz. Dolayısıyla okuyucu, bu terimlerin geçtiği diğer yerlerde yapılan öngörülere bağlı olarak kavramlar arasında sıkı ilişkiler ve sorumluluklar olduğu sonucunu kolayca çıkarmamalıdır.
</para>
</sect3>

<sect3 xml:id="rfc2821-s234"><title>Konak</title>
<para>
Bu belirtimin amacına uygun olarak, bir konak Genel Ağ'a (veya bazı durumlarda, özel bir TCP/IP ağına) bağlı ve SMTP protokolünü destekleyen bir bilgisayar sistemidir. Konaklar isimleriyle bilinirler (bkz: "Alan"; hemen aşağıda...); sayısal adreslerle tanımlamaktan artık vazgeçilmiştir.
</para>
</sect3>

<sect3 xml:id="rfc2821-s235"><title>Alan</title>
<para>
Bir alan (veya alan adı) noktalarla ayrılmış bileşenlerden oluşur. Bu bileşenlerde (DNS terminolojisinde [<xref linkend="rfc2821-bib22"/>] "yaftalar") SMTP'nin amacına uygun olarak sadece ASCII karakter kümesindeki [<xref linkend="rfc2821-bib1"/>] harfler, rakamlar ve tire işaretleri kullanılabilir. Alan isimleri konakların ve alan adı hiyerarşisindeki diğer öğelerin isimleri olarak kullanılırlar. Örneğin, bir alan, bir rumuza (bir <literal>CNAME</literal> kaydı) atıf yapabileceği gibi bir konak ismini göstermek yerine postayı teslim almakta kullanılan posta aktarımcı (<literal>MX</literal>) yaftasına da atıf yapabilir. [<xref linkend="rfc2821-bib22"/>] ve bu belirtimin <xref linkend="rfc2821-s5"/> bölümüne bakınız.
</para><para>
Alan adı bu belgede ve [<xref linkend="rfc2821-bib22"/>] belgesinde açıklandığı gibi bir bütündür ve tamamen nitelikli bir isimdir (İngilizce "Fully-Qualified Domain Name", kısaca "FQDN" olarak bilinir). FQDN biçiminde olmayan bir alan adı bir yerel rumuzdan başka birşey değildir. <rfcmust>Yerel rumuzlar herhangi bir SMTP aktarımında görünmemelidir</rfcmust>.
</para>
</sect3>

<sect3 xml:id="rfc2821-s236"><title>Tampon ve Durum Tablosu</title>
<para>
SMTP oturumları, mevcut durumun ortak bir görünümünü her iki tarafında dikkatle sürdürmesi bakımından durumsaldır. Bu belgede, bu durumu sunucu üstündeki bir sanal "tampon" ve bir "durum tablosu"na göre modelleyeceğiz. Bu durum aynı zamanda bir istemci tarafından da örneğin "tamponu temizle" veya "durum tablosunu sıfırla" şeklinde, tampondaki bilginin iptal edilmesinin ve önceki durumlardan birine dönülmesinin sağlanması biçiminde kullanılabilir.
</para>
</sect3>

<sect3 xml:id="rfc2821-s237"><title>Satırlar</title>
<para>
SMTP komutları ile bir hizmet eklentisi tarafından değiştirilmedikçe ileti verisi "satırlar" halinde aktarılır. Satırlar, ASCII karakterlerinden sırayla "CR" (onaltılık kodu: 0D) ve "LF" (onaltılık kodu: 0A) ile biten sıfır veya daha fazla veri karakterinden oluşur. Bu satır sonlandırma dizgesini bu belgede <literal>&lt;CRLF></literal> biçiminde kullanacağız. <rfcmust>Uyumlu gerçeklenimlerin bir satır sonlandırıcı olarak başka bir karakter dizisi üretmemeleri veya bunları tanımamaları gerekir</rfcmust>. <rfcshould>Satır uzunluğu ile ilgili sınırlar konusunda sunucular zorlayıcı olabilir</rfcshould> (<xref linkend="rfc2821-s453"/> bölümüne bakınız).
</para><para>
Ek olarak, "CR" ve "LF" karakterlerinin metin içinde "çıplak" olarak (yani diğeri olmaksızın) görünmesinin, posta sistemini bir araç olarak kullanan posta gerçeklenimleri ve uygulamalarında yolaçtığı sorunlarla ilgili uzun bir geçmiş vardır. <rfcmust>SMTP istemci gerçeklenimleri, satır sonlandırıcı olarak kullanmak dışında, bu karakterleri aktarmamalıdır</rfcmust> ve yukarıda değinildiği gibi <rfcmust>sadece bir <literal>&lt;CRLF></literal> dizgesi olarak aktarmalıdırlar</rfcmust>.
</para>
</sect3>

<sect3 xml:id="rfc2821-s238"><title>Oluşturucu, Teslimatçı, Röle ve Ağgeçidi Sistemler</title>
<para>
Bu belirtim, SMTP sistemlerinin dört türü arasında elektronik posta aktarımında oynadıkları rollere göre bir ayrıma gider. "Oluşturucu" sistem (bazan SMTP oluşturucu da denir) postayı Genel Ağ'a veya daha da genel olarak bir aktarım hizmeti ortamına salan sistemdir. "Teslimatçı" SMTP sistemi, postayı bir aktarım hizmeti ortamından alıp ya bir posta kullanıcısı aracısına aktarır ya da posta kullanıcı aracısının bir ara uğrayıp alacağını umduğu bir ileti deposuna emanet eder. "Röle" SMTP sistemi (genellikle sadece "röle" denir), postayı bir SMTP istemcisinden alır ve izleme bilgisi eklemek dışında ileti verisine dokunmaksızın, tekrar rölelenmek veya teslim edilmek üzere başka bir SMTP sunucusuna aktarır. "Ağgeçidi" SMTP sistemi (genellikle sadece "ağgeçidi" denir) ise, bir aktarım ortamındaki bir istemci sistemden postayı alır ve başka bir aktarım ortamındaki bir sunucu sisteme aktarır.
</para><para>
Protokollerin veya iletilerin anlambilimsel yapılarının aralarındaki, bir ağgeçidinin her iki tarafındaki aktarım ortamlarındaki farklarından dolayı, SMTP röleleme sistemleri söz konusu olduğunda izin verilmeyen ileti dönüşümlerinin ağgeçidi sisteminde uygulanması gerekebilir. Bu belirtimin amaçları gereği, adresleri yeniden yazan güvenlik duvarları, her iki tarafında da SMTP kullanılıyor olsa bile, ağgeçitleri olarak ele alınırsa daha iyi olur [<xref linkend="rfc2821-bib11"/>].
</para>
</sect3>

<sect3 xml:id="rfc2821-s239"><title>İleti İçeriği ve Posta Verisi</title>
<para>
<command>DATA</command> komutundan sonra kabul edilmiş ama veri sonu belirtecinden önce aktarılmış olan malzemeyi betimlemek için "ileti içeriği" ve "posta verisi" terimleri bu belgede birbirlerinin yerine kullanılmıştır. İleti içeriği ileti başlıklarını ve "yapılandırılmış olması olası" ileti gövdesini içerir. MIME belirtimi [<xref linkend="rfc2821-bib12"/>] yapılandırılmış ileti gövdeleri ile ilgili standart mekanizmaları sağlar.
</para>
</sect3>

<sect3 xml:id="rfc2821-s23a"><title>Posta Kutuları ve Adresler</title>
<para>
Bu belirtimdeki kullanımına göre, bir "adres" postanın gönderileceği kullanıcıyı veya postanın emanet edileceği yeri betimleyen bir karakter dizisidir. "Posta kutusu" terimi ise, bu emanet yerini ifade eder. Bu iki terim, postanın bırakılacağı yer (posta kutusu) ile teslim alacak kullanıcı (adres) arasındaki farkın önemli olması dışında, genel olarak birbirlerinin yerlerine kullanılırlar. Bir adres normalde kullanıcı ve alan belirtimlerinden oluşur. Standart posta kutusu isimlendirme uzlaşımı "yerel-kısım@alan" biçiminde tanımlanmıştır: çağdaş kullanım basit "kullanıcı isimlerinden" çok daha geniş bir uygulama kümesine izin verir. Bu sebeple ve ara konakların aktarımı eniyilemeye çalışmak adına değişiklik yapmaları sebebiyle ortaya çıkan sorunların uzun bir geçmişe sahip olmasından dolayı, <rfcmust>yerel-kısmın, sadece adresin alan parçasında belirtilen konak tarafından atanan ve yorumlanan anlamsal biçimde olması/kalması gerekir</rfcmust>.
</para>
</sect3>

<sect3 xml:id="rfc2821-s23b"><title>Yanıt</title>
<para>
Bir SMTP yanıtı, bir komuta cevap olarak aktarım kanalı üzerinden alıcıdan göndericiye gönderilen bir (olumlu veya olumsuz) alındıdır. Bir yanıtın genel biçimi (başarı veya başarısızlık belirten) bir sayısal tamamlama kodu ile başlayan bir metin dizgesidir. Kodlar programlar tarafından kullanılmak için, metin ise normal olarak insan kullanıcılar için tasarlanmıştır. En son çalışmada [<xref linkend="rfc2821-bib34"/>] ek ve daha özel tamamlama kodları da dahil olmak üzere yanıt dizgelerinin böyle bir yapılandırması belirlenmiştir.
</para>
</sect3>
</sect2>

<sect2 xml:id="rfc2821-s24" chunkthis="1"><title>Sözdizimsel Genel Prensipler ve Harekât Modeli</title>
<para>
SMTP komutlarının ve yanıtlarının sözdizimleri katı kurallara sahiptir. Tüm komutlar bir komut fiiliyle başlar. Tüm yanıtlar ise üç hanelik bir sayısal kod ile başlar. <rfcmust>Bazı komutlarda ve yanıtlarda bağımsız değişkenler varsa bunların fiil veya yanıt kodunundan hemen sonra olmaları gerekir</rfcmust>. Bazı komutlar (fiilden sonra) bağımsız değişken kabul etmezler ve bazı yanıt kodlarından sonra, bazan isteğe bağlı olarak, serbest biçimli metin olabilir. Her iki durumda da, bir metin olduğunda, metin fiil veya yanıt kodundan bir boşluk karakteri ile ayrılır. Komutların ve yanıtların tanımlarının tamamını <xref linkend="rfc2821-s4"/> bölümünde bulabilirsiniz.
</para><para>
Fiiller ve bağımsız değişken değerleri (<command>RCPT</command> komutundaki "TO:" veya "to:" ve eklenti ismi anahtar sözcükleri gibi), bu belirtimdeki bir posta kutusunun <literal>yerel-kısım</literal> belirtimi ile ilgili biricik istisna dışında, harf büyüklüğüne duyarsızdır (SMTP Eklentileri açıkça harf büyüklüğüne duyarlı bileşenler belirtebilirler). Yani, <rfcmaybe>bir komut fiili, posta kutusu <literal>yerel-kısım</literal>'ı hariç bir bağımsız değişken değeri ve serbest biçimli metin, tamamen büyük harflerden, tamamen küçük harflerden veya her ikisinin karışımından oluşabilir</rfcmaybe> ve bu bir anlam değişikliğine yolaçmaz. Bu, bir posta kutusunun <literal>yerel-kısım</literal>'ını belirtirken geçerli değildir. <rfcmust>Bir posta kutusunun <literal>yerel-kısım</literal>'ı harf büyüklüğüne duyarlı olmalıdır</rfcmust>. Bundan dolayı, <rfcmust>SMTP gerçeklenimleri posta kutularının <literal>yerel-kısım</literal>'larını bu bakımdan korumaya dikkat etmelidir</rfcmust>. Posta kutusu alan'ları harf büyüklüğüne duyarlı değildir. Bazı konaklarda, bazan "smith" kullanıcısı ile "Smith" kullanıcısı farklı olabilmektedir. Bununla birlikte, posta kutusu yerel-kısım'larının harf duyarlılığının istismar edilmesi birlikte çalışabilirliğe sekte vurmaktadır ve cesaret kırıcıdır.
</para><para>
Birkaç SMTP sunucusu, bu belirtime (ve RFC 821'e) aykırı olarak, komut fiillerinin istemciler tarafından büyük harflerle kodlanmasını gerektirmektedir. <rfcmaybe>Gerçeklenimler isterlerse bu sunucuları da kapsamak için bu kodlamaya da destek verebilirler</rfcmaybe>.
</para><para>
Bağımsız değişken alanları uzunluğu ile ilgili bir sınırlama olmayan ve satır sonlandırıcı ile yani, <literal>&lt;CRLF></literal> ile biten bir karakter dizisinden oluşur. Alıcının bu dizilim alınana kadar hiçbir şey yapmaması gerekir.
</para><para>
Her komutun sözdizimi o komutun açıklaması ile birlikte gösterilmiştir. Ortak bileşenler ve bağımsız değişkenler ise <xref linkend="rfc2821-s412"/> bölümünde gösterilmiştir.
</para><para>
Komutlar ve yanıtlar, ASCII karakter kümesinin [<xref linkend="rfc2821-bib1"/>] karakterlerinden oluşur. 8 bitlik baytlar (sekizli) kullanan bir aktarım kanalı sağlayan bir aktarım hizmetinin varlığı halinde, her 7 bitlik karakter, sekizli içinde sağa yanaştırılıp, sekizlinin yüksek biti sıfır yapılarak aktarılır. Hatta özellikle, eksiz (yalın) SMTP hizmeti sadece 7 bitlik aktarım sağlar. <rfcmust>Belli bir sunucuyla ilgili eklentiyi başarıyla müzakere edemeyen (böyle bir yeteneği olmadığı için) bir oluşturucu SMTP istemcisi, iletileri sekizlinin yüksek bitindeki bilgiyle (yüksek biti sıfırlamadan) aktarmamalıdır </rfcmust>. <rfcmaybe>Böyle iletiler bu kurala aykırı olarak aktarılıyorsa, alıcı SMTP sunucuları yüksek biti temizleyebilir veya iletiyi geçersiz olduğu gerekçesiyle reddedebilir</rfcmaybe>.
</para><para>
Genelde, <rfcmust>bir röle SMTP aldığı iletinin içeriğinin geçerli olduğunu varsaymalı ve zarfın bunu yapmasına izin verdiği varsayımıyla içeriğini incelemeksizin rölelemelidir</rfcmust>. Şüphesiz, eğer içerik yanlış etiketlenmişse ve veri yolu asıl içeriği kabul edemiyorsa, bu, eninde sonunda alıcıya birkaç bozuk ileti teslimatıyla sonuçlanabilir. Hiçbir SMTP sistemi zarf komutlarını US-ASCII'den farklı bir karakter kümesinde göndermeye izin vermemelidir; <rfcmust>alıcı sistemler böyle komutları, normalde, "500 syntax error - invalid character" (sözdizimi hatası - geçersiz karakter) yanıtlarıyla reddetmelidir</rfcmust>.
</para><para>
<rfcmaybe>Bir istemci bir sunucudan, sekiz bitlik ileti içeriğinin ek SMTP oluşumları, özellikle de "8BITMIME" eklentisi [<xref linkend="rfc2821-bib20"/>] kullanılarak aktarılmasını isteyebilir</rfcmaybe>. <rfcmust>8BITMIME, SMTP sunucuları tarafından desteklenmelidir</rfcmust>. Bununla birlikte, <rfcmust>bu kural, sekiz bitlik malzemenin koşulsuz aktarılmasına izin varmış gibi yorumlanamaz</rfcmust>. <rfcmust>Göndericilerin, MIME biçiminde olmayan ama uygun bir içerik aktarım kodlaması kullanarak hazırladıkları yüksek bitli malzeme için 8BITMIME isteği yapmamaları gerekir</rfcmust>; <rfcmaybe>sunucular böyle iletileri reddedebilirler</rfcmaybe>.
</para><para>
Bu belgede kullanılan dilötesi gösterim Genel Ağ posta sistemi belgelerinde kullanılan "Arttırımlı BNF"ye karşılıktır. Bu sözdizimine aşina olmayan okuyucuların ABNF belirtimini [<xref linkend="rfc2821-bib8"/>] incelemeleri iyi olur. Metin üzerinde kullanılan dilötesi terimler arılık amacıyla açılı ayraçlarla sarmalanmıştır (<literal>&lt;CRLF></literal> gibi).
</para>
</sect2>
</sect1>


<sect1 xml:id="rfc2821-s3"><title>SMTP Yordamları: Bir Bakış</title>
<para>
Bu kısım SMTP'de kullanılan yordamların açıklamalarını içermektedir: oturum ilklendirme, posta aktarım harekâtı, postanın sevki, posta kutusu isimlerinin doğrulanması, postalama listelerinin genişletilmesi, alışverişin açılması ve kapatılması. Röleleme ile ilgili açıklamalar, posta alanları üzerine bir bilgi ve değişen rollerle ilgili bir açıklama ise bu bölümün sonundadır. <xref linkend="rfc2821-appd"/> bölümünde ise tam senaryo örneklerine yer verilmiştir.
</para>
<sect2 xml:id="rfc2821-s31" chunkthis="1"><title>Oturum İlklendirme</title>
<para>
İstemci sunucuya bir bağlantı açıp sunucu da bir karşılama iletisiyle bunu yanıtladığında bir SMTP oturumu ilklendirilmiş olur.
</para><para>
<rfcmaybe>SMTP sunucu gerçeklenimleri, 220 kodundan sonraki selamlama yanıtında yazılımın ismini ve sürüm bilgilerini bulundurabilirler</rfcmaybe>. Bu, sorunları yalıtmada ve çözmede daha etkin bir uygulama sağlar. <rfcmaybe>Güvenlik kaygılarıyla gerçeklenimler tedbirli davranarak SMTP sunucuların yazılım ve sürüm bilgisi göstermesini iptal edebilirler</rfcmaybe>. Bazı sistemler ayrıca olası posta sorunları için bir başvuru  noktası tanımlasalar dahi, bu, gerekli olan "<literal>postmaster</literal>" adresinin yerine geçmez (bkz, <xref linkend="rfc2821-s451"/>).
</para><para>
SMTP protokolü ilk bağlantıya izin vererek bir aktarımın usulen reddedilmesini şöyle sağlar: <rfcmaybe>ilk bağlantı açılış iletisi olarak 220 kodlu bir yanıt yerine 554 kodlu bir yanıt verilebilir</rfcmaybe>. <rfcmust>Böyle bir davranışı seçen sunucu bağlantıyı kapatmadan önce yine de istemcinin bir <command>QUIT</command> komutu göndermesini beklemelidir</rfcmust> (bkz, <xref linkend="rfc2821-s411a"/>); <rfcshould>bu arada gelen komutlara "503 bad sequence of commands" (komut sıralaması hatalı) yanıtını verebilir</rfcshould>. <rfcshould>Böyle bir sisteme bir SMTP bağlantısı yapmaya çalışmak belki de bir hataya yol açacağından, bağlantı açılışında 554 yanıtı döndüren sunucu, yanıt metninde gönderen sistemin hata ayıklama oluşumlarına yeterli bilgiyi sağlarsa iyi olur</rfcshould>.
</para>
</sect2>

<sect2 xml:id="rfc2821-s32" chunkthis="1"><title>İstemci İlklendirme</title>
<para>
Sunucunun hizmete hazır olduğunu belirten iletisini göndermesi ve istemcinin de bunu almasının ardından, istemci normal olarak, kimliğini belirten bir <command>EHLO</command> komutu gönderir. <command>EHLO</command> kullanımı oturum açılışına ek olarak, istemcinin sunucuya işleyebildiği hizmet eklentilerini belirtip sunucudan desteklediği eklentilerin listesini istemesini sağlar. <rfcmaybe>Posta oturumunu ilklendirmede hizmet eklentilerinin belirtilmesini gerektirmeyen ve çağdaş istemcilerle hizmet eklentilerini destekleyemeyen eski SMTP sistemleri <command>EHLO</command> komutu yerine <command>HELO</command> kullanabilirler</rfcmaybe>. <rfcmust>Sunucular <command>HELO</command> komutlarına genişletilmiş <command>EHLO</command> tarzı yanıtlar döndürmemelidir</rfcmust>. <rfcshould>Özellikle bir bağlantı çabasında, eğer sunucu <command>EHLO</command> komutuna "command not recognized" (komut bilinmiyor) gibisinden bir yanıt döndürüyorsa, istemci son çare olarak bir <command>HELO</command> komutu gönderirse iyi olur</rfcshould>.
</para><para>
<command>EHLO</command> komutunda komutu gönderen konak kendini tanıtır; komutun yaptığı iş şöyle bir söylemle açıklanabilir: "Merhaba, ben falanca.alan" (<command>EHLO</command> komutuna özgü olarak ayrıca şöyle bir söylem de eklenebilir: "ve hizmet eklentisi isteklerini destekliyorum").
</para>
</sect2>

<sect2 xml:id="rfc2821-s33" chunkthis="1"><title>Posta Aktarım Harekâtı</title>
<para>
SMTP posta aktarım harekatı üç aşamada gerçekleşir. Harekat, göndericiyi tanıtan bir <command>MAIL</command> komutu ile başlar. (Genelde, <command>MAIL</command> komutu sadece hiçbir posta aktarımı olmayacağı zaman da gönderilebilir; bkz, <xref linkend="rfc2821-s414"/>.) Bunu alıcıların bilgilerini veren bir veya daha fazla <command>RCPT</command> komutu izler. Ardından da posta verisinin aktarımını başlatıp sonunda "posta sonu" veri belirteci ile aktarımı sonlandırmakla ayrıca aktarım onayını da sağlayan <command>DATA</command> komutu gelir.
</para><para>
Süreçteki ilk adım <command>MAIL</command> komutudur.
</para><para>
<literallayout indent="0">
  <command>MAIL FROM:</command>&lt;<emphasis>dönüş-yolu</emphasis>> [ BOŞKRK &lt;<emphasis>posta-bağımsız değişkenleri</emphasis>> ] &lt;CRLF>
</literallayout>
</para><para>
Bu komut SMTP alıcısına yeni bir posta aktarım harekâtının başladığını, alıcılar ve posta verisi dahil olmak üzere tüm durum tablolarını ve tamponları sıfırlamasını söyler. &lt;<replaceable>dönüş-yolu</replaceable>> kısmı ilk, belki de tek bağımsız değişkendir ve hataları raporlamakta kullanılacak kaynak posta kutusunu ( "&lt;" ve ">" arasında) içerir (hataları raporlama ile ilgili olarak <xref linkend="rfc2821-s42"/> bölümüne bakınız). Eğer kabul edilirse, SMTP sunucusu bir 250 OK yanıtı gönderir. <rfcmust>Eğer posta kutusu belirtimi bazı sebeplerle kabul edilebilir değilse, sunucu hatanın kalıcı mı yoksa geçici mi olduğunu belirten bir yanıt vermelidir</rfcmust>  (kalıcı ise kalıcı olduğunu belirtmelidir ki, istemci aynı adresi tekrar denerse hatanın tekrarlanacağını bilsin; geçici ise geçici oluğunu belirtmelidir ki, istemci bir süre sonra tekrar denediğinde postanın kabul edilebileceğini bilsin). Bu gereksinimin böylesine apaçık oluşuna rağmen, dönüş yolunun kabul edilebilirliğinin bir veya daha fazla sevk yolu (<command>RCPT</command> komutlarında bulunur) incelenebilir olana kadar saptanabilir olmayacağı bazı durumlar vardır. Bu durumlarda, <rfcmaybe>sunucu makul olanı yapıp dönüş yolunu (bir 250 yanıtı ile) kabul edebilir ve sevk yollarını alıp inceledikten sonra sorunu raporlayabilir</rfcmaybe>. Normalde, başarısızlık 550 ve 553 yanıtları üretir.
</para><para>
Tarihsel olarak, <rfcshould>&lt;<replaceable>dönüş-yolu</replaceable>> tek bir posta kutusundan fazlasını içerebilir, ancak, çağdaş sistemler kaynak yönlendirmesini kullanmasalar iyi olur</rfcshould> (bkz, <xref linkend="rfc2821-appc"/>).
</para><para>
İsteğe bağlı &lt;<replaceable>posta-bağımsız değişkenleri</replaceable>> uzlaşılacak SMTP hizmet eklentileri ile ilgilidir (bkz, <xref linkend="rfc2821-s22"/>).
</para><para>
Sürecin ikinci adımını <command>RCPT</command> komutu oluşturur.
</para><para>
<literallayout indent="0">
  <command>RCPT TO:</command>&lt;<emphasis>sevk-yolu</emphasis>> [ BOŞKRK &lt;<emphasis>alım-bağımsız değişkenleri</emphasis>> ] &lt;CRLF>
</literallayout>
</para><para>
Bu komutun ilk, belki de tek bağımsız değişkeni bir alıcıyı betimleyen sevk yolunu içerir (normalde, bir posta kutusu ve alan'dan oluşur ve daima "&lt;" ile ">" arasında belirtilir). Eğer kabul edilirse, SMTP sunucusu bir 250 OK yanıtı gönderir ve sevk yolunu bir yere kaydeder. Eğer alıcının teslimat yapılabilir bir adres olmadığı biliniyorsa, SMTP sunucusu bir 550 koduyla genellikle posta kutusu için "no such user - " (böyle bir kullanıcı yok - ...) gibisinden bir dizge içeren bir yanıt yollar (başka durumlar ve yanıt kodları mümkündür). Harekâtın bu aşaması defalarca yinelenebilir.
</para><para>
&lt;<replaceable>sevk-yolu</replaceable>> tek bir posta kutusundan fazlasını içerebilir. Tarihsel olarak, <rfcshould>&lt;<replaceable>sevk-yolu</replaceable>> konakların ve hedef posta kutularının oluşturduğu bir kaynak yönlendirme listesi olabilir, yine de, çağdaş SMTP istemcileri kaynak rotaları dikkate almasalar daha iyi olur</rfcshould> (bkz, <xref linkend="rfc2821-appc"/>). <rfcmust>Sunucuların bir kaynak rota listesi karşılamaya hazır olmalarının gerekmesine</rfcmust> karşın, <rfcshould>bu rotaları yoksaymaları daha iyidir</rfcshould>, <rfcmaybe>hatta ifade ettikleri rölelemeyi desteklemeyi reddedebilirler</rfcmaybe>. Benzer şekilde, <rfcmaybe>sunucular başka konakları ve sistemleri hedefleyen postaları kabul etmeyi reddedebilirler</rfcmaybe>. Bu kısıtlamalar bir sunucuyu, SMTP işlevselliğini tamamen desteklemeyen istemciler için bir röle olarak kullanışsız yapar. Sonuç olarak, <rfcmust>yetenekleri kısıtlı istemciler, Genel Ağ'daki herhangi bir SMTP sunucusunu kendi posta işleme (röleleme) siteleri gibi kullanabileceklerini varsaymamalıdırlar</rfcmust>. <rfcmust>Eğer bir <command>RCPT</command> komutu evveliyatında bir <command>MAIL</command> komutu olmaksızın alınmışsa, sunucunun 503 koduyla bir "Bad sequence of commands" (Komut sıralaması hatalı) yanıtı vermesi gerekir</rfcmust>. İsteğe bağlı &lt;<replaceable>alım-bağımsız değişkenleri</replaceable>> uzlaşılacak SMTP hizmet eklentileri ile ilgilidir (bkz, <xref linkend="rfc2821-s22"/>).
</para><para>
Sürecin üçüncü adımını <command>DATA</command> komutu oluşturur (veya bir hizmet eklentisinde belirtilmiş bir eşdeğeri).
</para><para>
<literallayout indent="0">
    <command>DATA</command> &lt;CRLF>
</literallayout>
</para><para>
Kabul edilirse, SMTP sunucu 354 koduyla bir aracı yanıt gönderir ve tüm başarılı satırların üstesinden gelebileceğini fakat ileti metninde olası bir posta verisi sonu belirtecinin buna dahil olmadığını varsayar. Metin sonu başarılı şekilde alındığında ve kaydedildiğinde SMTP alıcısı 250 OK yanıtını gönderir.
</para><para>
Posta verisi aktarım kanalı üzerinden gönderildiğinden, posta verisi sonu belirtilmelidir ki, komut ve yanıt alışverişi kaldığı yerden devam edebilsin. SMTP, posta verisinin sonunu sadece tek bir nokta (".") içeren bir satır göndererek belirtir. Bunun kullanıcı metniyle etkileşime girmesini engellemek için şeffaf bir yordam kullanılır (bkz, <xref linkend="rfc2821-s452"/>).
</para><para>
Posta verisi sonu belirteci ayrıca posta aktarımının onaylanması anlamına gelir ve SMTP sunucusuna kayıtlı alıcıları ve posta verisini artık işleme sokmasını söyler. Kabul edilirse, SMTP sunucu bir 250 OK yanıtı gönderir. <command>DATA</command> komutu protokol alışverişinde sadece iki noktada başarısız olabilir:
</para><itemizedlist><listitem><para>
<rfcmaybe>Ne <command>MAIL</command> ne de <command>RCPT</command> komutu varsa veya böyle tüm komutlar reddedilmişse, sunucu <command>DATA</command> komutuna yanıt olarak 503 koduyla bir "command out of sequence" (komut sıra dışı) veya 554 koduyla bir "no valid recipients" (alıcılar geçersiz) yanıtı gönderebilir</rfcmaybe>. <rfcmust>Bu yanıtlardan biri (veya 5<replaceable>yz</replaceable> kodlu başka bir yanıt) alındığında, istemcinin ileti verisini göndermemesi gerekir</rfcmust>; daha genel olarak, <rfcmust>ileti verisi bir 354 yanıtı alınmadıkça gönderilmemelidir</rfcmust>.
</para></listitem><listitem><para>
Eğer fiil baştan kabul edilmiş ve 354 yanıtı verilmişse, <command>DATA</command> komutu sadece, posta aktarımı tamamlanmamışsa (örn, alıcılar yoktur) veya özkaynaklar kullanımdışıysa (sunucunun beklenmedik şekilde kullanımdışı kalmasını da dahil ederek) ya da iletinin kural ihlali veya başka bir sebeple reddedildiği sunucu tarafından saptanmışsa başarısız sayılır.
</para></listitem></itemizedlist><para>
Bununla birlikte, bazı sunucular uygulamada, ileti metni alınana kadar alıcı varlık doğrulaması yapmaya çalışmazlar. <rfcshould>Bu sunucular bir veya daha fazla alıcı için bir başarısızlığı bir "ardçıl başarısızlık" olarak ele almaları ve <xref linkend="rfc2821-s6"/> bölümünde açıklandığı gibi bir posta iletisi göndermeleri daha iyi olur</rfcshould>. "550 mailbox not found" (posta kutusu yok) veya eşdeğeri bir yanıt kodunun veri kabul edildikten sonra kullanımı, istemci açısından hangi alıcının başarısız olduğunun saptanmasını zor hatta imkansız hale getirir.
</para><para>
RFC 822 biçimi [<xref linkend="rfc2821-bib7"/>, <xref linkend="rfc2821-bib32"/>] kullanıldığında, posta verisi bilgi neviinden <literal>Date, Subject, To, Cc, From</literal> gibi başlık öğeleri içerir. Sunucu SMTP sistemleri,  <rfcshould>RFC 822 veya MIME [<xref linkend="rfc2821-bib12"/>] ileti başlığı veya ileti gövdesindeki farkedilir kusurlara dayalı iletileri reddetmeseler iyi olur</rfcshould>. Özellikle, <rfcmust><literal>Resent-fields</literal> sayısının uyuşmadığı veya <literal>Resent-to</literal>'nun <literal>Resent-from</literal> ve/veya <literal>Resent-date</literal> olmaksızın göründüğü iletileri reddetmemeleri gerekir</rfcmust>.
</para><para>
<rfcmust>Posta aktarım harekâtı komutları yukarıdaki sırasıyla kullanılmalıdır</rfcmust>.
</para>
</sect2>

<sect2 xml:id="rfc2821-s34" chunkthis="1">
<title>Adres Düzeltmek veya Güncellemek için Yönlendirme</title>
<para>
Yönlendirme desteği en sık adresleri bir girişime göreli olarak veya onunla birleştirmek ve basitleştirmek için ve daha az sıklıkla bir şahsın eski bir adresiyle yeni bir adresi arasında bağ kurmak için gerekir. İletilerin sessizce yönlendirilmesi (sunucu tarafından gönderici bilgilendirilmeyerek), güvenlik veya ifşa etmeme kaygılarıyla günümüzde çok kullanılan bir Genel Ağ uygulamasıdır.
</para><para>
Hem girişim hem de "yeni adres" durumlarında, bilgi gizleme (ve bazan güvenlik) kaygısı, yönlendirme işleminin bir yan etkisi olarak SMTP üzerinden "son" adresin ifşasıyla kendini gösterir. Bu özellikle son adresin gönderici tarafından yine de erişilebilir olmadığı zaman önemli olur. Bu sebepten, RFC 821'in 3.2 numaralı bölümünde açıklanan "sevk" mekanizması ve özellikle <command>RCPT</command> komutuna verilen 251 (düzeltilmiş hedef) ve 551 yanıt kodları gerçeklenimciler ve sistemleri yapılandıranlar tarafından dikkatle değerlendirilmelidir.
</para><itemizedlist><title>Özellikle:</title>
<listitem><para>
<rfcmaybe>Sunucular adres değişikliğinden haberdar olduklarında iletileri yönlendirebilirler</rfcmaybe>. <rfcmaybe>Bunu yaparken, bir 251 koduyla adres güncelleme bilgisi sağlayabilecekleri gibi iletiyi "sessizce" yönlendirip bir 250 kodu gönderebilirler</rfcmaybe>. Fakat, <rfcmust>eğer bir 251 kodu kullanılmışsa, istemcinin adres bilgisini güncelleyeceği hatta bunu kullanıcıya bildireceği varsayılmamalıdır</rfcmust>.
</para></listitem></itemizedlist>
<itemizedlist><title>Diğer yandan,</title>
<listitem><para>
<rfcmaybe>İletiler adreslerine teslim edilemiyorsa sunucular bunları reddedebilir veya geri gönderebilir</rfcmaybe>. <rfcmaybe>Sunucular bunu yaparken, bir 551 koduyla adres güncelleme bilgisi sağlayabilecekleri gibi bir 550 koduyla teslim edilemediği gerekçesiyle iletiyi reddedebilirler</rfcmaybe>. Fakat, <rfcmust>eğer bir 551 kodu kullanılmışsa, istemcinin adres bilgisini güncelleyeceği hatta bunu kullanıcıya bildireceği varsayılmamalıdır</rfcmust>.
</para></listitem></itemizedlist><para>
251 ve/veya 551 yanıt kodlarını destekleyen SMTP sunucu gerçeklenimleri, istenmeyen biçimde bilgi ifşa ettiği sonucuna varılan siteleri iptal edilebilmek veya kullanımlarını kısıtlayabilmek için yapılandırma mekanizmaları sağlamak konusunda hararetle özendirilirler.
</para>
</sect2>

<sect2 xml:id="rfc2821-s35" chunkthis="1"><title>Adres Hatalarını Ayıklama Komutları</title>
<sect3 xml:id="rfc2821-s351"><title>Genel Bakış</title>
<para>
SMTP kullanıcı adını doğrulamak ve posta listesi içeriğini elde etmek için komutlar da sağlar. Bunu karakter dizisi bağımsız değişkenler alan <command>VRFY</command> ve <command>EXPN</command> komutları ile yapar. <rfcshould>Gerçeklenimler <command>VRFY</command> ve <command>EXPN</command> komutlarını desteklerlerse iyi olur</rfcshould> (yine de, <xref linkend="rfc2821-s352"/> ve <xref linkend="rfc2821-s73"/> bölümlerine bakınız).
</para><para>
<command>VRFY</command> komutu için dizge bir kullanıcı ismi veya bir kullanıcı ismi ve alandır (aşağıya bakınız). <rfcmust>Eğer normal bir yanıt (250 gibi) geliyorsa, yanıt kullanıcının posta kutusunu içermek zorundayken</rfcmust> <rfcmaybe>kullanıcının tam ismini de içerebilir</rfcmaybe>. <rfcmust>Dizge şu biçimlerden biri olmalıdır</rfcmust>:
</para><para>
<literallayout indent="0">
    Kullanıcının Adı ve Soyadı &lt;yerel-kısım@alan>
    yerel-kısım@alan
</literallayout>
</para><para>
<rfcmaybe><command>VRFY</command> komutunun bağımsız değişkeni olan isim birden fazla posta kutusunu betimleyebildiği takdirde, sunucu ya belirsizliğe dikkat çeker ya da başka olasılıklar belirtir</rfcmaybe>. Başka bir deyişle, <command>VRFY</command> komutunun meşru yanıtı şunlardan birinin benzeri olabilir:
</para><para>
<screen>
553 User ambiguous  // 553 Kullanıcı belirsiz
</screen>
</para><para>veya</para><para>
<screen>
553- Ambiguous;  Possibilities are  // 553- Belirsizlik; Olasılıklar:
553-Joe Smith &lt;jsmith@foo.com>
553-Harry Smith &lt;hsmith@foo.com>
553 Melvin Smith &lt;dweep@foo.com>
</screen>
</para><para>ya da</para><para>
<screen>
553-Ambiguous;  Possibilities
553- &lt;jsmith@foo.com>
553- &lt;hsmith@foo.com>
553 &lt;dweep@foo.com>
</screen>
</para><para>
Normal şartlar altında, bir 553 yanıtı alan bir istemcinin kullanıcıya sonucu açıklamaması beklenir. Tam olarak belirtilen biçimlerin ve [<xref linkend="rfc2821-bib34"/>]'te açıklandığı gibi ek yanıt kodları tarafından ilave olarak "user ambiguous" veya "ambiguous" anahtar sözcüklerinin olası kullanımı, gerektiğinde diğer dillere özdevinimli çeviriyi kolaylaştıracaktır. Şüphesiz, oldukça özdevinimli hale getirilmiş ya da İngilizce'den farklı bir dilde işlem yapan bir istemci, yanıtın içerdiği metni olduğu gibi kullanıcıya yansıtmak yerine yanıtı tercüme etmeyi veya kullanıcıya durumu raporlamadan önce ek bilgi için bir sözlük hizmetine başvurulması gibi özdevinimli eylemlerden birini yapmayı tercih ederdi.
</para><para>
<command>EXPN</command> komutu için dizge bir postalama listesidir ve <rfcmust>başarılı (250 gibi) bir çok satırlı yanıt  postalama listesindeki posta kutularının listesini içermeli</rfcmust> iken, <rfcmaybe>bu liste kullanıcılarının ad ve soyadlarını da içerebilir</rfcmaybe>.
</para><para>
Bazı konaklarda, bir posta kutusu ile tek bir posta kutusunun rumuzu arasındaki fark, her iki girdi türü için ortak bir veri yapısı kullanıldığından, bulanıktır ve sadece tek bir posta kutusu içeren postalama listelerinin varlığı olasıdır. <rfcmaybe>Bir postalama listesine <command>VRFY</command> uygulayacak bir istek yapılmışsa, iletinin listedeki herkese teslimi şeklinde adreslenmiş olması durumunda bir olumlu yanıt verilebilir</rfcmaybe>, <rfcshould>aksi takdirde bir hata raporlanırsa iyi olur</rfcshould> ("550 bu bir postalama listesi adresidir, bir kullanıcı adresi değildir" veya "252 Posta listesi üyelerini doğrulamaya izin verilmiyor" gibi bir hata raporu). <rfcmaybe>Eğer bir kullanıcı ismini açan bir istek yapılmışsa tek bir isim içeren bir listeden oluşan olumlu bir yanıt verilebileceği gibi bir hata da raporlanabilir</rfcmaybe> ("550 bu bir kullanıcı adresidir, bir postalama listesi adresi değildir" gibi bir hata raporu).
</para><para>
Başarılı bir çok satırlı cevap (<command>EXPN</command> için normal olan) durumunda yanıtın her satırında tam olarak bir posta kutusu belirtilir. Belirsiz bir istek yapılması durumundan yukarıda bahsedilmişti.
</para><para>
"Kullanıcı adı" bulanık bir terimdir ve tedbirli kullanılmıştır. <rfcmust><command>VRFY</command> veya <command>EXPN</command> komutlarının gerçeklenimi en azından "kullanıcı adları" olarak yerel posta kutularını tanımayı içermelidir</rfcmust>. <rfcshould>Şu an ki Genel Ağ uygulaması sıklıkla çok sayıda alanın postasıyla tek bir konağın ilgilenmesi sonucunu doğurduğundan, konaklar, özellikle de bu işlevselliği sağlayan konakların, bir "kullanıcı ismi" olarak "yerel-kısım@alan" biçimini kabul etmeleri iyi olur </rfcshould>; <rfcmaybe>bu konaklar ek olarak "kullanıcı isimleri" olarak başka dizgeleri tanımayı tercih edebilirler</rfcmaybe>.
</para><para>
Bir çok satırlı yanıt gerektiren bir posta kutusu listesinin açılımı durumu şöyle örneklenebilir:
</para><para>
<screen>
İ: EXPN Numune-Topluluk
S:  250-Jon Postel &lt;Postel@isi.edu>
S:  250-Fred Fonebone &lt;Fonebone@physics.foo-u.edu>
S:  250 Sam Q. Smith &lt;SQSmith@ozellikle.genel.com>
</screen>
</para><para>veya</para><para>
<screen>
İ: EXPN imtiyaz-sevenler-listesi
S:  550 Size Erisim Yasak.
</screen>
</para><para>
<command>VRFY</command> ve <command>EXPN</command> komutlarının karakter dizisi bağımsız değişkenleri kullanıcı adı ve posta kutusu listesi kavramlarının gerçeklenimlerinin çeşitliliğine bağlı olarak daha fazla kısıtlanamaz. Bazı sistemlerde <command>EXPN</command> komutunun bağımsız değişkeni bir postalama listesi içeren bir dosyanın adı olabilir, ama tekrar belitelim ki, Genel Ağ'da dosya isimlendirme uzlaşımları çeşitliliği vardır. Bu komutlardaki tarihsel farklılıklar nedeniyle <rfcshould>elde edilen sonuçlar çok dikkatli yorumlanmalı</rfcshould> ve <rfcshould>sadece sorun teşhisi için kullanılmalıdır</rfcshould>.
</para>
</sect3>
<sect3 xml:id="rfc2821-s352"><title><literal>VRFY</literal> için Normal Yanıt</title>
<para>
Bir <command>VRFY</command> veya <command>EXPN</command> isteğinden normal yanıt (2<replaceable>yz</replaceable> veya 551) döndüğünde, yanıt normal olarak "&lt;yerel-kısım@alan>" gibi bir posta kutusu ismi içerir; <rfcmust>burada "alan" tamamen nitelikli alan adı olup sözdizimi içinde görünmelidir</rfcmust>. <rfcmaybe>Bu belirtimin niyetine karşı çıkmayı haklı gösterecek kadar olağanüstü durumlarda, serbest biçimli metin döndürülebilir</rfcmaybe>. <rfcshould>Hem bilgisayarlar hem de insanlar tarafından çözümlemeyi kolaylaştırmak için adresler "&lt;" ve ">" arasında olmalıdır</rfcshould>. <rfcmust>Serbest biçimli hata ayıklama bilgisi değil de adresler döndürüldüğünde, <command>EXPN</command> ve <command>VRFY</command> komutları sadece SMTP <command>RCPT</command> komutlarında kullanılabilen geçerli alan adreslerini döndürmelidir</rfcmust>. Bu sebepten, <rfcmust>eğer bir adres, teslimatın bir programa veya başka bir sisteme yapılacağı anlamına gelecekse, bu hedefe erişmekte kullanılan posta kutusu ismi belirtilmelidir</rfcmust>. <rfcmust>Yollar (açıkça kaynak rotaları) <command>EXPN</command> veya <command>VRFY</command> komutundan döndürülmemelidir</rfcmust>.
</para><para>
<rfcshould>Sunucu gerçeklenimleri <command>VRFY</command> ve <command>EXPN</command> komutlarının ikisine de destek vermelidir</rfcshould>. <rfcmaybe>Güvenlik kaygılarıyla, gerçeklenimler, yapılandırma seçenekleri veya eşdeğerleri üzerinden bu komutların biri veya her ikisinin de iptal edilebileceği yerel kurulumları sağlayabilirler</rfcmaybe>. Bu komutlar desteklendiğinde, röle desteği de varsa, bu komutların rölelerle çalışmaları gerekli değildir. <rfcmust>RFC 821'de bunların her ikisi de seçimlik olduğundan, eğer destekleniyorlarsa, bir <command>EHLO</command> yanıtında hizmet eklentileri olarak listelenmeleri gerekir</rfcmust>.
</para>
</sect3>

<sect3 xml:id="rfc2821-s353">
<title><literal>VRFY</literal> veya <literal>EXPN</literal> için Başarılı Yanıtın Anlamı</title>
<para>
<rfcmust>Bir sunucu, adresi gerçekten doğrulamadıkça, bir <command>VRFY</command> veya <command>EXPN</command> komutuna yanıt olarak bir 250 kodu döndürmemelidir</rfcmust>. <rfcmust>Bilhassa, sunucunun yaptığı tek iş verilen sözdiziminin geçerliliğini doğrulamaksa bir 250 kodu döndürmemelidir</rfcmust>. Bu durumda, <rfcshould>502 (Komut gerçeklenmedi) veya 500 kodu (Sözdizimi hatası, komut anlaşılamadı) döndürmelidir</rfcshould>. Başka bir yerde de belirtildiği gibi, <command>VRFY</command> ve <command>EXPN</command> gerçeklenimi (adreslerin gerçekten doğrulanması ve bilgi döndürülmesi anlamında) hararetle önerilmektedir. Bu sebepten, <command>VRFY</command> için 500 veya 502 döndüren gerçeklenimler bu belirtimle tam uyumlu değillerdir.
</para><para>
Özellikle bir sunucunun, bir alan ya da başka bir sunucu için posta aktarımcı olarak çalıştığı durumda bir adresin doğru gibi göründüğü ama gerçekte sebepsizce doğrulanamadığı durumlar olabilir. Bu durumdaki "Görünen Doğruluk" normalde en azınan sözdizimi denetimi özelliğini ve kimi zaman, belirtilen alanların postayı röleleleyebileceği umulan konaklar olduklarını doğrulayabilme özelliğini ihtiva eder. <rfcshould>Bu durumlarda, 252 yanıt kodu döndürülmelidir</rfcshould>. Bu durumlar <xref linkend="rfc2821-s21"/> bölümünde bahsedilen <command>RCPT</command> doğrulama konusuyla paraleldir. Benzer olarak, <xref linkend="rfc2821-s34"/> bölümünde bahsedilen uygulama, adreslerin tanındığını ama onlar için alınan postanın sevkedildiğini veya geri gönderildiğini belirten <command>VRFY</command> (ve <command>EXPN</command>) komutlu 251 ve 551 yanıt kodlarına uygulanır. <rfcshould>Gerçeklenimler genelde biraz daha uzun sürecek olsa bile <command>VRFY</command> durumunda adres doğrulama ile ilgili olarak  <command>RCPT</command> durumuna oranla daha fazla girişken olmalıdırlar</rfcshould>.
</para>
</sect3>

<sect3 xml:id="rfc2821-s354"><title><command>EXPN</command> Uygulamaları ve Anlamsallık</title>
<para>
<command>EXPN</command> komutu çoğunlukla postalama listeleri ve çok sayıda hedef adresi belirten rumuzlarla ilgili sorunların anlaşılması ve hatalarının ayıklanması için çok yararlıdır. Bazı sistemler yinelenenleri ayıklamak için posta listelerinin kaynak yorumlamasını kullanmayı denediler. Rumuzlama sistemlerinin Genel Ağ'da posta ile etkileşimi, bu stratejilerin konaklar (genelde <literal>MX</literal> ve <literal>CNAME</literal> DNS kayıtları), posta kutuları (yerel konak rumuzlarının çeşitli türleri) ve çeşitli vekil düzenlemeleri açısından tutarlı çalışmasını neredeyse imkansız hale getirmiştir ve <rfcshould>posta sistemleri bunlara yeltenmemelidir</rfcshould>.
</para>
</sect3>
</sect2>

<sect2 xml:id="rfc2821-s36" chunkthis="1"><title>Alanlar</title>
<para>
Alan isimleri SMTP'de kullanılacaksa sadece çözümlenebilir ve tamamen nitelenmiş alan isimlerine (FQDN'ler) izin verilir. Başka bir deyişle, sonuçta <literal>MX</literal> veya <literal>A</literal> kayıtları olarak çözümlenebilen <literal>CNAME</literal> kayıtlarında olduğu gibi, <literal>MX</literal> veya <literal>A</literal> kaydına çözümlenebilen isimlere (<xref linkend="rfc2821-s5"/> bölümünde açıklandığı gibi) izin verilir. <rfcmust>Yerel takma adlar ve niteliksiz isimler kullanılmamalıdır</rfcmust>. FQDN gerekliliği kuralının iki istisnası vardır:
</para><itemizedlist><listitem><para>
<rfcmust><command>EHLO</command> komutunda verilen alan ismi ya bir birincil konak ismi (bir <literal>A</literal> kaydı olarak çözümlenen alan ismi) ya da konak isimsizse <xref linkend="rfc2821-s4111"/> bölümünde belirtildiği gibi bir adres sabiti olmalıdır</rfcmust>.
</para></listitem><listitem><para>
Bir <command>RCPT</command> komutunda alan belirtmeksizin ayrılmış posta kutusu isimlerinden "<literal>postmaster</literal>" kullanılabilir ve <rfcmust>böyle kullanılırsa kabul edilmek zorundadır</rfcmust>.
</para></listitem></itemizedlist>
</sect2>

<sect2 xml:id="rfc2821-s37" chunkthis="1"><title>Röleleme</title>
<para>
Genelde, alan adı sistemindeki [<xref linkend="rfc2821-bib22"/>, <xref linkend="rfc2821-bib27"/>]  posta aktarımcı (<literal>MX</literal>) kayıtlarının varlığı, Genel Ağ posta sisteminde doğrudan kaynak rotası kullanımını gereksiz kılar. Geçmişte yorumlanmalarıyla ilgili yaşanan bir çok sorun kullanımlarının istenmemesine yol açtı. <rfcshould>Olağanüstü durumlar müstesna, SMTP istemcileri doğrudan kaynak rotaları üretmemelidir</rfcshould>. <rfcmaybe>SMTP sunucuları kaynak rotası belirten adresleri kabul etmeyi veya posta rölesi olarak davranmayı reddedebilirler</rfcmaybe>. Rota bilgisinin mevcudiyeti saptandığında SMTP sunucuların rota bilgisini yoksayma hakkı vardır ve basitçe, postayı rotada son eleman olarak belirtilmiş son varış noktasına gönderebilirler ve <rfcshould>böyle de yapmalıdırlar</rfcshould>. Kaynak rotada ara konaklar olarak belirtilmiş konaklardaki kullanıcıların sorunlarını çözmekle ilgili olarak, DNS'lerde varış noktası olarak görünmeyen isim kullanımı ile ilgili geçersiz bir uygulama olmuştur. Kaynak rotalardaki ara konaklar yoksayıldığında bu uygulama hatalara yolaçar. Bu, <rfcmust>SMTP istemcilerinin neden geçersiz kaynak rotaları veya seriye çözünür isimler üretmemeleri gerektiğinin</rfcmust> sebeplerinden biridir.
</para><para>
Kaynak rotaları kullanılmadığında, RFC 821'de açıklanan, sevk yolundan bir dönüş yolu oluşturmaya yarayan işlem uygulanabilir değildir ve dönüş yolu, teslim anında basitçe <command>MAIL</command> komutunda görünen adrestir.
</para><para>
Bir röle SMTP sunucusu genelde son teslim sisteminden ziyade kendisini işaret eden DNS <literal>MX</literal> kaydının hedefidir. Röle SMTP sunucusu röleleme işini yerel bir kullanıcının postasını kabul veya red ettiği şekilde kabul veya red edebilir. Rölelemeyi kabul ederse bir SMTP istemcisi haline gelir, DNS'de belirtilen sıradaki SMTP sunucuya bir aktarım kanalı oluşturur (<xref linkend="rfc2821-s5"/> bölümündeki kurallar dahilinde) ve postayı ona yollar. <rfcshould>Kurallar gereği belli bir adrese postayı rölelemeyi redderse, geriye bir 550 yanıtı göndermelidir</rfcshould>.
</para><para>
Birçok posta gönderme istemcisi vardır ve bunlar genellikle POP3 veya IMAP üzerinden posta da alabilmekte olup bu belirtimdeki gereksinimlerin bazılarını (peşpeşe teslimat gerektiğinde iletileri kuyruğa almak gibi) sınırlı olarak desteklemektedirler. Bu istemciler için bilinen uygulama, işleme sokulmak veya ardışık olarak dağıtılmak üzere tüm iletileri tek bir sunucuya gönderecek düzenlemeleri yapmaktır. Burada belirtildiği gibi SMTP bu role uygun değildir ve bu iş mevcut uygulamalar için standart hale gelmiş posta teslim etme protokolleri ile fevkalade yoluna girmiş durumdadır. Her halükarda, bu düzenlemeler bu uygulamalara özeldir ve bu belirtimin kapsamına girmediklerinden burada açıklanmayacaklardır.
</para><para>
Bir konu önemlidir: <literal>MX</literal> kayıtları, sadece SMTP rölelerini ve son teslimat sistemlerini değil, başka ortamlara ağgeçidi rolü oynayan SMTP sunucularını da işaret edebilir; <xref linkend="rfc2821-s38"/> ve <xref linkend="rfc2821-s5"/> bölümlerine bakınız.
</para><para>
Bir SMTP sunucusu posta röleleme görevini kabul eder ve daha sonra hedefin yanlış olduğunu veya herhangi bir sebepten dolayı posta teslimatının yapılamadığını görürse, bir "teslimatı yapılamayan posta" uyarısı iletisi oluşturmalı ve bunu o postayı oluşturana (geri dönüş yolunda belirtilene) göndermelidir. <rfcshould>Teslimatı yapılamayan postalarla ilgili raporlar için başka standartlar (örn, [<xref linkend="rfc2821-bib24"/>, <xref linkend="rfc2821-bib25"/>]) tarafından belirtilmiş biçimler mümkün olduğunca kulllanılmalıdır</rfcshould>.
</para><para>
Bu uyarı iletisi röle konağındaki veya teslimatın gerçekleşmediğinin ilk olarak saptandığı konaktaki SMTP sunucusundan gelmelidir. Şüphesiz, <rfcmust>SMTP sunucuları bir de uyarı iletilerinin teslimat sorunlarıyla ilgili uyarı iletileri göndermemelidirler</rfcmust>. Hata raporlarken kısır döngüleri engellemenin bir yolu, bir uyarı iletisinin <command>MAIL</command> komutunda boş geri dönüş yolu belirtmektir. <rfcmust>Böyle bir ileti aktarılırken, dönüş yolu boş bırakılmalıdır</rfcmust> (ek bilgi için bkz, <xref linkend="rfc2821-s455"/>). Boş geri dönüş yolu içeren bir <command>MAIL</command> komutu:
</para><para>
<literallayout indent="0">
    <command>MAIL </command>FROM:&lt;>
</literallayout>
</para><para>
<xref linkend="rfc2821-s63"/><footnote xml:id="rfc2821-fn241"><para>Ç.N. - Bu bağ özgün metinde 2.4.1 numaralı bölümü göstermektedir. <link xl:href="http://www.mhonarc.org/archive/html/ietf-smtp/2002-07/msg00053.html"/> adresindeki iletide belgenin yazarı bu atıfların aslında 6.3 numaralı bölümü göstermesi gerektiğini belirtmektedir. Bu bağ ve belgedeki böyle diğer iki bağ bu açıklamaya göre düzeltilmiştir. </para></footnote> bölümünde bahsedildiği gibi, <rfcmust>bir röle SMTP kendi "<literal>Received:</literal>" başlığını eklemek dışında, ileti gövdesini veya başlıklarını inceleme veya işlemi sokma gereği duymamalıdır</rfcmust> ve <rfcmaybe>posta sistemindeki kısır döngüyü saptamaya çalışmamalıdır</rfcmaybe> (bkz, <xref linkend="rfc2821-s62"/>).
</para>
</sect2>

<sect2 xml:id="rfc2821-s38" chunkthis="1">
<title>Postanın Ağgeçitlerinden Geçirilmesi</title>
<para>
Yukarıda bahsedilen röleleme işlevi Genel Ağ SMTP aktarım hizmeti ortamında işlemlerini yaparken, <literal>MX</literal> kayıtları ve doğrudan yönlendirmenin çeşitli şekillerinin varlığı bir aktarım hizmetinden diğerine bir dönüşüm işlevi yapacak bir ara SMTP sunucusu gerektirebilir. <xref linkend="rfc2821-s238"/> bölümünde açıklandığı gibi, böyle bir sistem iki aktarım hizmeti ortamına sınır olduğunda, bu sistemi bir "ağgeçidi" veya bir "ağgeçidi SMTP" olarak niteleriz.
</para><para>
Farklı posta biçimleri ve protokolleri gibi farklı posta ortamları arasındaki ağgeçitlerinden posta aktarımı karmaşık bir işlemdir ve kolayca standartlaşmaz. Yine de, Genel Ağ ile diğer posta ortamları arasındaki ağgeçitleri için bazı genel gereksinimler belirtilebilir.
</para>
<sect3 xml:id="rfc2821-s381"><title>Ağgeçitlerinden Geçişte Başlık Alanları</title>
<para>
<rfcmaybe>İletilerin posta ortamının sınırlarından geçirilmesi gerektiğinde posta başlıkları yeniden yazılabilir</rfcmaybe>. Buna, <xref linkend="rfc2821-s63"/><footnoteref linkend="rfc2821-fn241"/> bölümündeki yasaklamalara karşın, varış adresinin yerel-kısım'ının yorumlanması veya ileti gövdesinin incelenmesi de dahil edilebilir.
</para><para>
Genel Ağ'a ağgeçitliği yapan diğer posta sistemleri çoğunlukla, bir kısım RFC 822 başlığını veya  benzer işlevselliği farklı bir sözdizimiyle sağlayan başlıkları kullanırlar, fakat bu posta sistemlerinin bazıları SMTP zarfına eşdeğerliği tutturamazlar. Onun için, bir ileti Genel Ağ ortamını terkettiğinde SMTP zarf bilgisini ileti başlığına sarmak gerekli olabilir. Olası çözüm, zarf bilgisini taşıyacak yeni başlık alanları ("<literal>X-SMTP-MAIL:</literal>"  ve "<literal>X-SMTP-RCPT:</literal>" gibi) oluşturmak olurdu; ancak bu, yabancı ortamlarda posta programlarında değişikliği gerektirebilir ve özel bilgilerin ifşa edilmesi riski ortaya çıkabilir (bkz, <xref linkend="rfc2821-s72"/>).
</para>
</sect3>
<sect3 xml:id="rfc2821-s382"><title>Ağgeçitlerinden Geçişte Alınan Satırlar</title>
<para>
<rfcmust>Bir ileti Genel Ağ ortamının içine veya dışına sevkedilirken bir ağgeçidi bir <literal>Received:</literal> satırı hazırlamalı</rfcmust>, fakat <rfcmust>başlıkta zaten mevcut olan bir <literal>Received:</literal> satırında değişiklik yapmamalıdır</rfcmust>.
</para><para>
Başka ortamlarda oluşturulan iletilerin <literal>Received:</literal> alanları bu belirtime tam olarak uyumlu olmayabilir. Bununla birlikte, <literal>Received:</literal> satırlarının en önemli kullanım alanı posta hataları ayıklamakla ilgilidir ve bu ayıklama bir <literal>Received:</literal> satırını "düzeltmeye" çalışan iyi niyetli ağgeçitleri tarafından cidden güçleştirilebilir. <rfcmust>İzleme alanlarının SMTP dışı ortamlarda baş göstermesinin diğer bir sonucu olarak, alıcı sistemler postayı bir izleme alanının biçimine bağlı olarak reddetmemeli</rfcmust> ve <rfcshould>bu alanların beklenmedik biçimleri ve  bilgileri (ışığı) altında (bile) oldukça sağlam durmalıdır</rfcshould>.
</para><para>
<rfcshould>Bir ağgeçidi, <literal>Received:</literal> alanlarında kaynaklandığı ortamı ve protokolü "via" sözcüğü ile işaret etmelidir</rfcshould>.
</para>
</sect3>
<sect3 xml:id="rfc2821-s383"><title>Ağgeçitlerinden Geçişte Adresler</title>
<para>
<rfcshould>Genel Ağ tarafından bakıldığında, bir ağgeçidi, SMTP komutlarındaki ve RFC 822 başlıklarındaki tüm geçerli adresleri ve tüm geçerli RFC 822 iletilerini kabul etmelidir</rfcshould>. <rfcmust>Ağgeçitleri tarafından üretilen adresler ve başlıklar uygulanabilir Genel Ağ standartlarına (bu ve RFC 822 dahil) uygun olmalıdır</rfcmust>. Şüphesiz ağgeçitleri ayrıca, <xref linkend="rfc2821-s33"/> bölümünde diğer SMTP sistemleri için açıklandığı gibi kaynak rotalarına uygulanan kuralların da konusu olur.
</para>
</sect3>

<sect3 xml:id="rfc2821-s384"><title>Ağgeçitlerinden Geçişte Diğer Başlık Alanları</title>
<para>
<rfcmust>Bir ağgeçidi, Genel Ağ posta ortamına sevkettiği bir iletinin tüm başlık alanlarının Genel Ağ postasının gereksinimlerini karşılamalıdır</rfcmust>. <rfcmust>Özellikle "<literal>From:</literal>", "<literal>To:</literal>", "<literal>Cc:</literal>", vb. alanlarındaki tüm adresler (gerekliyse) RFC 822 sözdizimine uyacak şekilde dönüştürülmeli</rfcmust>, <rfcmust>sadece tamamen nitelenmiş alan adlarına atıf yapmalı</rfcmust> ve <rfcmust>yanıtların gönderimi için etkin ve kullanışlı olmalıdır</rfcmust>. <rfcshould>Postayı, Genel Ağ protokollerinden diğer ortamların protokollerine dönüştürmekte kullanılacak çeviri algoritması, yabancı posta ortamından gelen hata iletilerinin, bir RFC 822 iletisinin <literal>From:</literal> alanında (veya diğer alanlarda) görülen göndericiye değil, SMTP zarfındaki dönüş yoluna teslimini sağlamalıdır</rfcshould>*.
</para>
</sect3>

<sect3 xml:id="rfc2821-s385"><title>Ağgeçitlerinden Geçişte Zarflar</title>
<para>
Aynı şekilde, <rfcshould>bir iletiyi başka bir ortamdan Genel Ağ ortamına sevkederken, bir ağgeçidi, bir hata iletisinin dönüş adresi ile ilgili zarf dönüş yolunu (eğer yabancı ortam bunu sağlamışsa) ayarlamalıdır</rfcshould>. Eğer yabancı ortam için böyle birşey sözkonusu değilse, ağgeçidi iletinin oluşturucusunun adresi için son çare olarak en uygun olan seçip bunu kullanmalıdır.
</para>
</sect3>
</sect2>

<sect2 xml:id="rfc2821-s39" chunkthis="1">
<title>Oturumların ve Bağlantıların Sonlandırılması</title>
<para>
Bir SMTP bağlantısı, istemci bir <command>QUIT</command> komutu gönderdiğinde sonlandırılır. Sunucu bir olumlu yanıt kodu gönderdikten sonra bağlantıyı kapatır.
</para><para>
<rfcmust>Şu durumlar dışında bir SMTP sunucusu bağlantıyı kasten kapatmamalıdır</rfcmust>:
</para><itemizedlist><listitem><para>
Bir <command>QUIT</command> komutu aldıktan sonra bir 221 koduyla yanıtlayarak.
</para></listitem><listitem><para>
SMTP hizmetinin kapatılmasını gereksinimi ortaya çıktığında bir 421 kodu döndürerek. Bu yanıt kodu sunucunun aldığı herhangi bir komuttan sonra ya da gerekliyse komutun alınış anından bağımsız olarak (istemcinin yanıtı sıradaki komutu gönderdikten sonra alacağı varsayımıyla) gönderilebilir.
</para></listitem></itemizedlist><para>
Özellikle, anlamadığı komutlara yanıt olarak bağlantılarını kapatan bir sunucu bu belirtimle çelişkiye düşüyor demektir. Sunucuların bilinmeyen komutlara hoşgörülü davranması, istemciye 500 yanıtı gönderip istemciden talimatları beklemesi umulur.
</para><para>
<rfcshould>Dış zorlamalarla kapatılmaya çalışılan bir SMTP sunucusu çıkmadan önce SMTP istemcisine bir 421 yanıt kodu içeren bir satırı göndermeye çalışmalıdır</rfcshould>. SMTP istemcisi ise, normalde 421 yanıt kodunu sıradaki komutu gönderdikten sonra okuyacaktır.
</para><para>
<rfcshould>Bir bağlantı kapanması, sıfırlama veya denetimleri dışında gerçekleşen bağlantı hatalarıyla karşılaşan SMTP istemcileri, posta aktarımını bir 451 yanıtı almış da ona uygun davranıyormuş gibi ele alarak, posta sisteminin sağlam kalmasını sağlamalıdırlar</rfcshould>.
</para>
</sect2>

<sect2 xml:id="rfc2821-s3a" chunkthis="1">
<title>Postalama Listeleri ve Rumuzlar</title>
<para>
<rfcshould>SMTP yapabilen bir konak hem takma adları hem de çoklu teslimat için adres listesi modellerini yorumlamayı desteklemelidir</rfcshould>. <rfcmust>Bir ileti liste şeklinde genişletilmiş adreslere sevk veya teslim edilirken, zarftaki dönüş adresi ("<command>MAIL FROM:</command>" adresi) listeyi yöneten kişinin ya da her neyse onun adresi olacak şekilde değiştirilmelidir</rfcmust>. <rfcmust>Bu durumda yine de ileti başlığı [<xref linkend="rfc2821-bib32"/>] değişmeden kalmalı, özellikle de ileti başlığının "<literal>From</literal>" alanı etkilenmemelidir</rfcmust>.
</para><para>
Önemli posta oluşumlarından biri tek bir iletinin çok sayıda posta kutusuna teslim edilmesi mekanizmasıdır. Bu mekanizma, bir sözde posta kutusu adresini hedef posta kutusu adresleri listesine dönüştürerek (veya "yıkarak" ya da "genişleterek") çalışır. Bir ileti böyle bir sözde posta kutusuna (buna bazan "exploder" _yıkıcı_ da denirmiş) gönderildiğinde, iletinin kopyaları genişletilen listedeki posta kutularına sevkedilir veya yeniden dağıtılır. <rfcshould>Sunucuların listedeki adreslerden basitçe yararlanmaları gerekir</rfcshould>; iletinin oluşturucusu gibi bazı adresleri eleyecek eşleştirme kurallarına veya ampirik uygulamalara kesinlikle engel olunmalıdır. Nasıl yorumlandıklarına bağlı olarak bu sözde posta kutularını "takma adar" ve "listeler" şeklinde sınıflandırıyoruz.
</para>
<sect3 xml:id="rfc2821-s3a1"><title>Takma Adlar</title>
<para>
Bir takma adın yorumlanmasında sonuç olarak, iletiyi alan postacı zarftaki sözde posta kutusu adresini basitçe tek tek adreslerle değiştirerek genişletir; zarfın ve ileti gövdesinin kalanı değişmeden kalır.  Bundan sonra ileti bu adreslere sevkedilir veya teslim edilir.
</para>
</sect3>

<sect3 xml:id="rfc2821-s3a2"><title>Listeler</title>
<para>
Bir postalama listesinin sevketmekten çok tekrar dağıtma işi yaptığı söylenebilir. Bir listeye genişletmek için iletiyi alan postacı zarftaki sözde posta kutusu adresini liste üyelerinin adresleriye değiştirir. Son teslimatlarla ilgili dönecek hata iletileri için zarftaki dönüş adresi ise, genelde liste içeriğiyle, yönetimiyle ve hata iletileriyle zerre kadar ilgisi olmayan ileti oluşturucusu değil liste yöneticisi olarak belirtilir.
</para>
</sect3>
</sect2>
</sect1>

<sect1 xml:id="rfc2821-s4"><title>SMTP Belirtimi</title>
<sect2 xml:id="rfc2821-s41" chunkthis="1"><title>SMTP Komutları</title>
<sect3 xml:id="rfc2821-s411"><title>Komut Sözdizimi ve Anlamlandırma</title>
<para>
Posta aktarımı veya kullanıcı tarafından talep edilen posta sistemi işlevi SMTP komutlarından, SMTP komutları, <literal>&lt;CRLF></literal> ile sonlandırılmış karakter dizilerinden oluşur. Komutların kendileri ise ardından bağımsız değişkenler geliyorsa  <literal>&lt;BOŞKRK></literal> ile yoksa <literal>&lt;CRLF></literal> ile sonlandırımış alfabetik karakterlerden oluşur. (Birlikte çalışabilirlik uğruna, SMTP alıcıları sonlandırıcı <literal>&lt;CRLF></literal> öncesinde boşluk karakterliğinin varlığına müsamaha göstermişlerdir.) Bir posta kutusunun yerel kısmının sözdizimi alıcı site uzlaşımlarına ve <xref linkend="rfc2821-s412"/> bölümünde belirtilen sözdizimine uygun olmalıdır. SMTP komutlarından aşağıda bahsedilmiştir. SMTP yanıtlarından ise <xref linkend="rfc2821-s42"/> bölümünde bahsedilmiştir.
</para><para>
Bir posta harekatı farklı komutların bağımsız değişkenleri olarak iletişimi sağlayan çeşitli veri nesnelerinden oluşur. Dönüş yolu <command>MAIL</command> komutunun bağımsız değişkeni, sevk yolu <command>RCPT</command> komutunun, posta verisi ise <command>DATA</command> komutunun bağımsız değişkenidir. Bu bağımsız değişkenler veya veri nesneleri, harekatı sonlandıran posta verisi sonu belirteci ile anlaşılan onayı aktarmalı ve saklamalıdır. Bunun için model, veri nesnelerinin her türü için ayrı birer tampon bulundurmaktır. Yani, dönüş yolu için bir tampon, sevk yolu için bir tampon ve posta verisi için bir tampon vardır. Belli tamponlara bilgi eklenmesine veya bir veya daha fazla tamponun temizlenmesine sebep olan belli komutlar vardır.
</para><para>
Bazı komutlar (<command>RSET</command>, <command>DATA</command>, <command>QUIT</command>) bağımsız değişken almayacak şekilde belirtilmiştir. <rfcmust>Sunucu tarafından sunulup istemci tarafından kabul edilen belli eklentilerin yokluğunda, istemcilerin böyle bağımsız değişkenler göndermemesi gerekir</rfcmust> ve <rfcshould>sunucuların da geçersiz sözdizimine sahip oldukları gerekçesiyle bu komutları reddetmesi gerekir</rfcshould>.
</para>

<sect4 xml:id="rfc2821-s4111"><title>Ayrıntılı Selamlama (<command>EHLO</command>) veya Sade Selamlama (<command>HELO</command>)</title>
<para>
Bu komutlar, SMTP sunucusuna SMTP istemcisini tanıtmak için kullanılırlar. Bağımsız değişken alanı, SMTP istemcisinin varsa tamamen nitelenmiş alan adından oluşur. <rfcshould>SMTP istemci sisteminin anlamlı bir alan adına sahip olmadığı durumlarda (örn, adres özdevimli ayrılmıştır ve ters eşleme kaydı (rDNS) yoktur), istemci adresin IP kodlu adını (bkz, <xref linkend="rfc2821-s413"/>) göndermelidir</rfcshould>; ek olarak istenirse istemciyi tanıtmaya yardımcı olacak bilgiler de verilebilir. SMTP sunucusu ise, SMTP istemcisine kendisini tanıtmak için, bağlantı üzerinden bu komuta yanıt olarak bir karşılama iletisi gönderir.
</para><para>
<rfcshould>Bir istemci SMTP bir SMTP oturumunu <command>EHLO</command> komutu göndererek başlatmalıdır</rfcshould>. Eğer SMTP sunucusu, SMTP hizmet eklentilerini destekliyorsa karşılık olarak bir başarı, başarısızlık ya da hata belirtebilir. Eğer bir SMTP sunucusu, bu belirtimi ihlal ederek, SMTP hizmet eklentilerinin hiçbirini desteklemiyorsa bir hata yanıtı üretecektir. <rfcmaybe>Eski istemci SMTP sistemleri, evvelce bahsedildiği gibi, <command>EHLO</command> yerine (RFC 821'de belirtildiği gibi) <command>HELO</command> komutunu kullanabilir</rfcmaybe>; (bu bakımdan) <rfcmust>sunucuların <command>HELO</command> komutunu desteklemesi ve komutu gerektiği gibi yanıtlaması gerekir</rfcmust>. <rfcmust>Her halükarda, bir istemci bir posta aktarımına başlamadan önce bir <command>HELO</command> veya <command>EHLO</command> komutu göndermelidir</rfcmust>.
</para><para>
Bu komutlar ve bunlara verilen, hem SMTP istemcisini hem de sunucusunu onaylayan "250 OK" yanıtı, başlangıç aşamasıdır, yani, henüz bir aktarım yoktur ve tüm aşamaların tabloları ve tamponları temizdir.
</para><para>Sözdizimi:</para><para>
<literallayout indent="0">
    ehlo            = "EHLO" BOŞKRK <emphasis>alan</emphasis> CRLF
    helo            = "HELO" BOŞKRK <emphasis>alan</emphasis> CRLF
</literallayout>
</para><para>
Normalde <command>EHLO</command> komutunun yanıtı çok satırlı bir yanıt olacaktır. Yanıtın her satırı bir anahtar sözcük ve isteğe bağlı olarak bir veya daha fazla bağımsız değişken içerir. Çok satırlı yanıtların normal sözdiziminde, bu anahtar sözcükler yanıt kodundan (250) sonra gelir ve son satır haricinde koddan sonra bir tire işareti konur; son satırda ise bir boşluk konur. Olumlu bir yanıtın sözdizimi, ABNF gösterimi ve [<xref linkend="rfc2821-bib8"/>]'deki uçbirim sembolleri kullanılarak şöyledir:
</para><para>
<literallayout indent="0">
   ehlo-tamam-yanıtı = ( "250"    alan [ BOŞKRK ehlo-karşılama ] CRLF )
                     / ( "250-"   alan [ BOŞKRK ehlo-karşılama ] CRLF
                      *( "250-"   ehlo-satırı                CRLF )
                         "250"    BOŞKRK ehlo-satırı             CRLF )

      ehlo-karşılama = 1*(%d0-9 / %d11-12 / %d14-127)
                       ; CR veya LF içermeyen bir dizge

         ehlo-satırı = ehlo-anahtar-sözcüğü *( BOŞKRK ehlo-bağımsız değişkeni )

ehlo-anahtar-sözcüğü = (HARF / RAKAM) *(HARF / RAKAM / "-")
                       ; ehlo-anahtar-sözcüğü'ne bağlı olarak ehlo-bağımsız değişkeni
                       ; için ilave sözdizimi

    ehlo-bağımsız değişkeni = 1*(%d33-127)
                       ; &lt;BOŞKRK> hariç herhangi bir karakter ve
                       ; tüm denetim karakterleri (US-ASCII 0-31 dahil)
</literallayout>
</para><para>
<rfcmust><command>EHLO</command> anahtar sözcükleri büyük, küçük ve bunların karışımı harflerle belirtilebildiğinden, bunlar daima harf büyüklüğüne duyarsız olarak olarak ele alınmalı ve işleme sokulmalıdır</rfcmust>. Bu, RFC 821 ve <xref linkend="rfc2821-s24"/><footnote><para>Ç.N. - Bu bağ özgün metinde 2.4.1 numaralı bölümü göstermektedir. <link xl:href="http://www.mhonarc.org/archive/html/ietf-smtp/2002-07/msg00053.html"/> adresindeki iletide belgenin yazarı bu atıfların aslında 6.3 numaralı bölümü göstermesi gerektiğini belirtmektedir. Ancak aynı listeye 3 yıl sonra gönderilen <link xl:href="http://www.mhonarc.org/archive/html/ietf-smtp/2005-05/msg00069.html">başka bir iletide</link> özellikle bu bağın 2.4 numaralı bölümü göstermesi gerektiği belirtilmektedir. (6.3 numaralı bölümde harf büyüklüklerinden bahis yoktur.) Buradaki bağ bu saptamaya göre düzeltilmiştir.</para></footnote> bölümünde belirtilen uygulamanın basit bir uzantısıdır.
</para>
</sect4>

<sect4 xml:id="rfc2821-s4112"><title>Posta' (<command>MAIL</command> komutu)</title>
<para>
Postanın bir veya daha fazla posta kutusuna teslimi veya başka bir sisteme aktarılması (büyük olasılıkla SMTP kullanarak) için posta verisinin bir SMTP sunucusuna teslimi başlatılırken bu komut kullanılır. Bağımsız değişken alanı bir dönüş yolunu içermekten başka isteğe bağlı bağımsız değişkenler de içerebilir. Genelde <command>MAIL</command> komutu hiçbir posta aktarımı yokken gönderilebilir; <xref linkend="rfc2821-s414"/> bölümüne bakınız.
</para><para>
Dönüş yolu göndericinin posta kutusundan oluşur. Tarihsel olarak, bu posta kutusu bir konak listesi ile de başlayabilirdi, fakat bu davranış artık önerilmemektedir (bkz, <xref linkend="rfc2821-appc"/>). Postalama kısır döngülerine yolaçan bir yanıt ile ilgili raporlama iletilerinin bazı türlerinde (posta teslimatı uyarıları veya teslim edememe uyarıları gibi), dönüş yolu boş olabilir (bkz, <xref linkend="rfc2821-s37"/>).
</para><para>
Bu komut, dönüş yolu, sevk yolu ve posta verisi tamponlarını temizledikten sonra bu komuttaki dönüş yolu bilgisini dönüş yolu tamponuna yerleştirir.
</para><para>
Hizmet eklentileri için karşılıklı uzlaşılmışsa, <command>MAIL</command> komutu ayrıca, bu hizmet eklentileri ile ilgili bağımsız değişkenleri de taşıyabilir.
</para><para>Sözdizimi:</para><para>
<literallayout indent="0">
  "<command>MAIL </command>FROM:" ("&lt;>" / <emphasis>Dönüş-yolu</emphasis>)
                    [BOŞKRK <emphasis>ePosta-Bağımsız-Değişkenleri</emphasis>] CRLF
</literallayout>
</para>
</sect4>

<sect4 xml:id="rfc2821-s4113">
<title>Alıcının Belirtilmesi (<command>RCPT</command> komutu)</title>
<para>
Bu komut posta verisinin alıcılarını tek tek belirtmek için kullanılır; çok sayıda alıcı belirtilecekse, komut sayısı alıcı sayısı kadar olur. Bağımsız değişken alanı bir sevk yolunu içermekten başka isteğe bağlı bağımsız değişkenler de içerebilir.
</para><para>
Sevk yolu gerekli olan varış posta kutusundan oluşur. <rfcshould>Gönderen sistemlerin, bir kaynak rota olarak bilinen konakların seçimlik listesini üretmeleri gerekir</rfcshould>. <rfcmust>Alıcı sistemler kaynak rota sözdizimini bilmek zorundadırlar</rfcmust>, fakat <rfcshould>kaynak rota belirtimini ayırmalı ve kaynak rota sağlanmamış gibi posta kutusu ile ilişkili alan adını kullanmalıdırlar</rfcshould>.
</para><para>
Benzer şekilde, <rfcmust>röleleme konakları kaynak rotaları ayırmalı ya da yoksaymalı ve isimleri geri dönüş yoluna kopyalamamalıdırlar</rfcmust>. Posta nihai hedefine ulaştığında (sevk yolu sadece varış posta kutusunu içerir), SMTP sunucusu onu, kendi konak posta uzlaşımları gereğince, hedef posta kutusuna yerleştirir.
</para><para>
Örneğin,
</para><para>
<literallayout indent="0">
    <command>MAIL </command>FROM:&lt;userx@y.foo.org>
    <command>RCPT </command>TO:&lt;@hosta.int,@jkl.org:userc@d.bar.org>
</literallayout>
</para><para>
zarf komutları ile röleleme konağı xyz.com'dan alınan posta normal olarak,
</para><para>
<literallayout indent="0">
    <command>MAIL </command>FROM:&lt;userx@y.foo.org>
    <command>RCPT </command>TO:&lt;userc@d.bar.org>
</literallayout>
</para><para>
zarf komutları ile doğrudan d.bar.org konağına gönderilmiş olacaktır. <rfcmaybe><xref linkend="rfc2821-appc"/> ekinde belirtildiği gibi, xyz.com ayrıca iletiyi hosta.int'e de rölelemeyi seçebilir</rfcmaybe>:
</para><para>
<literallayout indent="0">
    <command>MAIL </command>FROM:&lt;userx@y.foo.org>
    <command>RCPT </command>TO:&lt;@hosta.int,@jkl.org:userc@d.bar.org>
</literallayout>
</para><para>
zarf komutları ile hosta.int'e de veya,
</para><para>
<literallayout indent="0">
    <command>MAIL </command>FROM:&lt;userx@y.foo.org>
    <command>RCPT </command>TO:&lt;@jkl.org:userc@d.bar.org>
</literallayout>
</para><para>
zarf komutları ile jkl.org'a da röleleyebilir.
</para><para>
Hizmet eklentileri karşılıklı uzlaşılmışsa, <command>RCPT</command> komutu ek olarak sunucu tarafından sunulan belli bir hizmet eklentisi ile ilgili bağımsız değişkenleri de taşıyabilir. <rfcmust>İstemcinin, <command>EHLO</command> yanıtında, sunucu tarafından sunulan bir hizmet eklentisi ile ilgili olanlar dışında bağımsız değişken iletmemesi gerekir</rfcmust>.
</para><para>Sözdizimi:</para><para>
<literallayout indent="0">
  "<command>RCPT </command>TO:" ("&lt;Postmaster@" <emphasis>alan</emphasis> ">" / "&lt;Postmaster>" / <emphasis>sevk-yolu</emphasis>)
                    [BOŞKRK <emphasis>Rcpt-bağımsız değişkenleri</emphasis>] CRLF
</literallayout>
</para>
</sect4>

<sect4 xml:id="rfc2821-s4114">
<title>Posta Verisi (<command>DATA</command> komutu)</title>
<para>
Alıcı <command>DATA</command> komutuna normalde bir 354 yanıtı gönderir ve komuttan sonrasını göndericiden yollanan veri olarak, (<xref linkend="rfc2821-s237"/> bölümünde bahsedildiği gibi, CRLF ile biten) satırlar halinde ele alır. Bu komut, posta verisinin posta verisi tamponuna eklenmesini sağlar. Deneyimlerin BOŞKRK (boşluk), YSEK (yatay sekme), CR (satırbaşı), ve LF (satırsonu) dışında kontrol karakteri kullanımının sorunlara yol açacağını ve <rfcshould>mümkün oldukça bundan kaçınılması gerektiğini</rfcshould> göstermesine rağmen, posta verisi 128 ASCII karakterin her birini içerebilir.
</para><para>
Posta verisi tek bir nokta içeren bir satırla, yani "<literal>&lt;CRLF>.&lt;CRLF></literal>" karakter dizisiyle sonlanır (bkz, <xref linkend="rfc2821-s452"/>).  Bu posta verisi varlığının sona erdiğini gösterir. Bu sonlandırma dizgesindeki ilk  <literal>&lt;CRLF></literal>'in ayrıca verinin son satırının sonunu, hatta eğer veri yoksa, <command>DATA</command> komutunun sonunu belirttiğine dikkat ediniz. <rfcmust>İletinin sonuna boş bir satır eklenmesine yolaçacak ek bir <literal>&lt;CRLF></literal> kullanılmamalıdır</rfcmust>. Bu kuralın tek istisnası, ilk çıkış SMTP göndericisine aktarılan ileti gövdesinin <literal>&lt;CRLF></literal> ile bitmeyen bir sonuncu satır içermesi durumudur; <rfcmust>bu durumda ilk çıkış SMTP sistemi ya geçersiz sayarak iletiyi reddetmeli</rfcmust> ya da <rfcmust>alan SMTP sunucusu "veri sonu" durumunu arayacağından iletiye eksik <literal>&lt;CRLF></literal>'i kendi eklemelidir</rfcmust> (ikisinden biri zorunlu).
</para><para>
<rfcmust>Bazı UNIX sistemlerinde uyumsuz davranışa bir taviz olarak, çözümlediğinden fazla birlikte çalışabilirlik sorunlarına sebep olduğu kanıtlanmış sadece &lt;LF> ile biten satırların kabul edilmesi özelinde, dayanıklılığı arttırmak/mükemmelleştirmek adına yapılıyor olarak sunulsa bile, SMTP sunucu sistemleri bunu yapmamalıdırlar</rfcmust>. <rfcmust>Özellikle, "&lt;LF>.&lt;LF>" dizgesi (çıplak, satırbaşı karakterleri olmaksızın satırsonu karakterleri arasında nokta) posta verisinin sonunu belirten <literal>&lt;CRLF>.&lt;CRLF></literal> dizgesinin eşdeğeri olarak ele alınmamalıdır</rfcmust>.
</para><para>
Posta verisi sonu belirtecinin alınması sunucunun saklanan posta aktarım bilgisini işleme koymasını gerektirir. Bu işlem, dönüş yolu, sevk yolu ve posta verisi tamponlarındaki bilgilerin toplanmasını da kapsar ve komutun işi bittiğinde bu tamponlar temizlenir. <rfcmust>İşlem başarıyla tamamlanmışsa, alıcı bir tamam yanıtı göndermelidir</rfcmust>. <rfcmust>Aksi takdirde, alıcı bir başarısızlık yanıtı göndermelidir</rfcmust>. SMTP modeli bu noktada kısmi başarısızlıklara izin vermez: ya ileti teslim edilmek üzere sunucu tarafından kabul edilip bir olumlu yanıt verilir ya da kabul edilmez ve bir başarısızlık yanıtı gönderilir. Posta verisi sonu alındıktan sonra bir olumlu tamamdır yanıtı gönderilmesiyle, alıcı iletinin tüm sorumluluğunu almış olur (bkz, <xref linkend="rfc2821-s61"/>).  <rfcmust>Bundan sonra tespit edilen hatalar, <xref linkend="rfc2821-s44"/> bölümünde açıklandığı gibi, bir posta iletisinde raporlanmalıdır</rfcmust>.
</para><para>
SMTP sunucusu rölelemek veya yerine teslim etmek için kabul ettiğinde, posta verisinin üst kısmına bir izleme kaydı ekler (ayrıca, "<literal>Received</literal>" -alındı- satırı veya "zaman damgası satırı" olarak da bilinir). Bu izleme kaydında, iletiyi gönderen ve alan konakların kimliği ile iletinin alındığı tarih ve saat belirtilir. Rölelenen iletilerin birden fazla zaman damgası satırı olur. Bu satırların oluşturulması sözdizimleriyle birlikte <xref linkend="rfc2821-s44"/> bölümünde ayrıntılı olarak belirtilmiştir.
</para><para>
<command>DATA</command> komutunun işlemlerinden ayrıca <xref linkend="rfc2821-s33"/> bölümünde de bahsedilmiştir.
</para><para>Sözdizimi:</para><para>
<literallayout indent="0">
    "<command>DATA</command>" CRLF
</literallayout>
</para>
</sect4>

<sect4 xml:id="rfc2821-s4115"><title>Sıfırlama (<command>RSET</command> komutu)</title>
<para>
Bu komut o an ki posta harekatının ister istemez duracağını belirtir. <rfcmust>Saklanmış olan gönderici, alıcılar ve posta verisi iptal edilip tüm tamponlar ve durum tabloları temizlenmelidir</rfcmust>. <rfcmust>Alıcı bağımsız değişkeniz bir <command>RSET</command> komutuna bir "250 OK" yanıtı göndermelidir</rfcmust>. Sıfırlama komutu istemci tarafından herhangi bir anda gönderilebilir. Oturumda <command>EHLO</command> komutundan hemen önce veya sonra ve posta verisi sonu belirtecinden sonra veya bir <command>QUIT</command> komutundan hemen önce gönderilmesi halinde etki bakımından bir <command>NOOP</command> komutuna eşdeğerdir (etkisizlik anlamında). <rfcmust>Bir SMTP sunucusu aldığı bir <command>RSET</command> komutunun sonucu olarak bağlantıyı kapatmamalıdır</rfcmust>; Bu eylem <command>QUIT</command> komutuna ayrılmıştır  (bkz, <xref linkend="rfc2821-s411a"/>).
</para><para>
<command>EHLO</command>  komutu sunucu tarafından yerine getirilecek bazı ek işlemler ve yanıtlar gerektirdiğinden, normal olarak <command>RSET</command> komutu, biçimsel anlamsallığı aynı olmasına rağmen bile, <command>EHLO</command>  komutunu yeniden göndermekten daha verimli olacaktır.
</para><para>
Bu belirtimin amacının aksine, bir SMTP sunucusunun, temel TCP bağlantısının kapanması veya sıfırlanmasının belirtilerini aldığı bazı durumlar vardır. <rfcshould>Posta sisteminin dayanıklılığını korumak için SMTP sunucuları bu duruma hazır olmalı</rfcshould> ve <rfcshould>bağlantı kaybolmadan önce bir <command>QUIT</command> komutu almış gibi davranmalıdırlar</rfcshould>.
</para><para>Sözdizimi:</para><para>
<literallayout indent="0">
    "<command>RSET</command>" CRLF
</literallayout>
</para>
</sect4>

<sect4 xml:id="rfc2821-s4116">
<title>Posta Kutusu Doğrulama (<command>VRFY</command> komutu)</title>
<para>
Bu komut, bağımsız değişkeninde belirtilen bir kullanıcı veya posta kutusunu alıcının doğrulamasını ister. Eğer bağımsız değişken bir kullanıcı ismi ise bilgi, <xref linkend="rfc2821-s35"/> bölümünde belirtilen şekilde döndürülür.
</para><para>
Bu komutun dönüş yolu, sevk yolu veya posta verisi tamponu üzerinde bir etkisi yoktur.
</para><para>Sözdizimi:</para><para>
<literallayout indent="0">
    "<command>VRFY</command>" BOŞKRK <emphasis>dizge</emphasis> CRLF
</literallayout>
</para>
</sect4>

<sect4 xml:id="rfc2821-s4117">
<title>Liste ve Üyelik Doğrulama (<command>EXPN</command> komutu)</title>
<para>
Bu komut bağımsız değişkeninde belirtilen bir posta listesinin doğrulanmasını ister ve eğer böyleyse, liste üyeliğinin döndürülmesini talep eder. Eğer komut başarılıysa, <xref linkend="rfc2821-s35"/> bölümünde açıklanan bilgiyi içeren bir yanıt döndürülür. Bu yanıt bir (listenin tek bir üyesi olması durumu) veya daha fazla satır içerecektir.
</para><para>
Bu komutun dönüş yolu, sevk yolu veya posta verisi tamponu üzerinde bir etkisi yoktur ve her zaman gönderilebilir.
</para><para>Sözdizimi:</para><para>
<literallayout indent="0">
    "<command>EXPN</command>" BOŞKRK <emphasis>dizge</emphasis> CRLF
</literallayout>
</para>
</sect4>

<sect4 xml:id="rfc2821-s4118">
<title>Yardım (<command>HELP</command> komutu)</title>
<para>
Bu komut, sunucunun istemciye yardım bilgisi göndermesini sağlar. <rfcmaybe>Bu komut bir bağımsız değişken alabilir (örn, bir komut ismi) ve yanıt olarak bağımsız değişkene özgü bilgi döndürebilir</rfcmaybe>.
</para><para>
Bu komutun dönüş yolu, sevk yolu veya posta verisi tamponu üzerinde bir etkisi yoktur ve her zaman gönderilebilir.
</para><para>
<rfcshould>SMTP sunucuları <command>HELP</command> komutunu bağımsız değişkeniz desteklemelidirler</rfcshould>, ancak <rfcmaybe>bağımsız değişkenler ile birlikte de destekleyebilirler</rfcmaybe>.
</para><para>Sözdizimi:</para><para>
<literallayout indent="0">
    "<command>HELP</command>" [ BOŞKRK <emphasis>dizge</emphasis> ] CRLF
</literallayout>
</para>
</sect4>

<sect4 xml:id="rfc2821-s4119">
<title>Eylemsizlik (<command>NOOP</command> komutu)</title>
<para>
Bu komut, hiçbir bağımsız değişkeni ya da daha önce girilmiş hiçbir komutu etkilemez. Alıcının OK yanıtı göndermesi dışında hiçbir faaliyet belirtmez.
</para><para>
Bu komutun dönüş yolu, sevk yolu veya posta verisi tamponu üzerinde bir etkisi yoktur ve her zaman gönderilebilir. <rfcshould>Bir bağımsız değişken dizgesi belirtilmişse sunucu bunu yoksaymalıdır</rfcshould>.
</para><para>Sözdizimi:</para><para>
<literallayout indent="0">
    "<command>NOOP</command>" [ BOŞKRK <emphasis>dizge</emphasis> ] CRLF
</literallayout>
</para>
</sect4>

<sect4 xml:id="rfc2821-s411a">
<title>Çıkış (<command>QUIT</command> komutu)</title>
<para>
Bu komut, <rfcmust>alıcının OK yanıtını göndermesi ve ardından da aktarım kanalını kapatması</rfcmust> gerektiğini belirtir.
</para><para>
<rfcmust>Alıcı aktarım kanalını, <command>QUIT</command> komutu alınana ve yanıtlanana kadar kasten kapatmamalıdır (bir hata oluşmuş olsa bile)</rfcmust>. <rfcmust>Gönderen ise <command>QUIT</command> komutunu gönderip yanıtı almadan aktarım kanalını kasten kapatmamalıdır (daha önceki bir komuta bir hata yanıtı olsa bile)</rfcmust>. <rfcmust>Eğer bağlantı, daha önce bahsedilmiş olan bozukluklar ya da sistem veya ağ hataları yüzünden vaktinden önce kapatılmışsa, sunucu askıda bekleyen herhangi bir hareketi iptal etmeli</rfcmust>, fakat <rfcmust>daha önce tamamlanmış olan bir hareketi geri almamalı</rfcmust> ve <rfcmust>genellikle komut ya da hareket işlemdeymiş de o sırada geçici bir hata alınmışmış gibi davranmalıdır</rfcmust> (örneğin, bir 4<replaceable>yz</replaceable> yanıtı).
</para><para>
<command>QUIT</command> komutu her zaman gönderilebilir.
</para><para>Sözdizimi:</para><para>
<literallayout indent="0">
    "<command>QUIT</command>" CRLF
</literallayout>
</para>
</sect4>
</sect3>

<sect3 xml:id="rfc2821-s412"><title>Komut Bağımsız değişkenlerinin Sözdizimi</title>
<para>
Yukarıda sözü edilen komutların bağımsız değişken alanlarının sözdizimleri (uygulanabildiği yerlerde [<xref linkend="rfc2821-bib8"/>]'de belirtilen sözdizimleri kullanılarak) aşağıda verilmiştir. Aşağıda verilen bazı gösterimler, sadece <xref linkend="rfc2821-appc"/> bölümünde anlatılan kaynak rotaları ile birarada kullanılır. <literal>HARF, RAKAM, BOŞKRK, CR, LF, CRLF</literal> gibi karakterlerden bu belgede söz edilmemiştir; bunlar, "çekirdek" sözdizimi olarak [<xref linkend="rfc2821-bib8"/> (6. bölüm)]'de ve ileti biçimi sözdizimi olarak [<xref linkend="rfc2821-bib32"/>]'de tanımlanmıştır.
</para><para>
<literallayout indent="0">
    Dönüş-Yolu = Yol
    Sevk-Yolu  = Yol
    Yol = "&lt;" [ A-d-l ":" ] Posta-kutusu ">"
    A-d-l = Alan-da *( "," A-d-l )
          ; Bu biçime dikkat, "kaynak rota" da denir ve
          ; <rfcmust>kabul edilmesi</rfcmust>, <rfcshould>üretilmemesi</rfcshould>
          ; ve <rfcmaybe>yoksayılması</rfcmaybe> gerekir.
    Alan-da = "@" alan
    Mail-bağımsız değişkenleri = esmtp-param *(BOŞKRK esmtp-param)
    Rcpt-bağımsız değişkenleri = esmtp-param *(BOŞKRK esmtp-param)

    esmtp-param     = esmtp-anah-klm ["=" esmtp-değeri]
    esmtp-anah-klm  = (HARF / RAKAM) *(HARF / RAKAM / "-")
    esmtp-değeri    = 1*(%d33-60 / %d62-127)
          ; "=" hariç herhangi bir KARakter, BOŞKRK (boşluk)
          ; ve denetim karakterleri
    Anah-klm = Hrt-dizge
    Bağımsız-değişken  = Atom
    Alan     = (alt-alan 1*("." alt-alan)) / IP-kodlu-ad
    Alt-alan = Harf-rakam [Hrt-dizge]

    IP-kodlu-ad = "["  IPv4-kodlu-ad  /
                       IPv6-kodlu-ad  /
                       Genel-kodlu-ad "]"
          ; bkz, <xref linkend="rfc2821-s413"/>

    Posta-kutusu = Yerel-kısım "@" Alan

    Yerel-kısım  = Noktalı-dizge / Tırnaklı-dizge
          ; <rfcmaybe>harf büyüklüğüne duyarlılık</rfcmaybe>

    Noktalı-dizge = Atom *("." Atom)

    Atom = 1*birmetin

    Tırnaklı-dizge = ÇTIRNAK *tdizge ÇTIRNAK

    Dizge = Atom / Tırnaklı-dizge
</literallayout>
</para><para>
<rfcshould>Yerel-kısım için yukarıdaki tanım, birlikte çalışabilirliğin en yüksek derecede olabilmesi için görece serbest olduğu sürece posta almayı uman bir konak Yerel-kısım'ları Tırnaklı-dizge biçimini gerektiren veya harf büyüklüğüne duyarlı olmayı gerektiren posta kutuları tanımlamaktan kaçınmalıdır</rfcshould>. <rfcmust>Yerel-kısımların üretilmesini ve karşılaştırılmasını gerektiren her amaç (posta kutularının isimlerine özgü olmak gibi) için, tırnaklı tüm biçimler eşdeğer olarak ele alınmalı</rfcmust>  ve <rfcshould>gönderen sistem olası en az tırnaklama kullanan biçimde aktarmalıdır</rfcshould>.
</para><para>
<rfcmust>Sistemler, posta kutularını, ASCII olmayan karakterlerin (yüksek bitleri 1 olan sekizliler) veya ASCII "denetim karakterleri"nin (onluk değerleri 0-31 ve 127 olan karakterler) SMTP'de kullanılmasını gerektirecek şekilde tanımlamamalıdırlar</rfcmust>. <rfcmust>Bu karakterler <command>MAIL</command> ve <command>RCPT</command> komutları ile posta kutusu ismi gerektiren diğer komutlarda kullanılmamalıdır</rfcmust>.
</para><para>
Tersbölü "\" karakterinin, kendinden sonra gelen karakterin harfiyen yorumlanmasını (normal yorumu yerine) belirtmek üzere kullanılması bakımından bir önceleme karakteri oluşuna dikkat ediniz. Örneğin, "Joe\,Smith", dördüncü karakteri virgül olan dokuz karakterlik bir kullanıcı alanı belirtir.
</para><para>
<rfcmust>Uygulamalarda ve isimlendirmede DNS'nin (örn, temel DNS belgesi RFC 1035'in [<xref linkend="rfc2821-bib22"/>] <link linkend="rfc2035-s231">2.3.1. bölümüne</link> bakınız) uzun süredir devam eden tutucu kullanımıyla tutarlılığı ve birlikte çalışabilirliği yükseltmek için, harfler, rakamlar ve tire işareti dışındaki karakterler SMTP istemcileri ve sunucularının alan adı yaftalarında görünmemelidir</rfcmust>. Özellikle, altçizgi karakterine izin verilmemiştir. <rfcmust>Geçersiz karakterlerden oluşan bir komut alan her SMTP sunucusu, reddi için başka bir sebep yoksa, bu komutu bir 501 yanıtı ile reddetmelidir</rfcmust>.
</para>
</sect3>

<sect3 xml:id="rfc2821-s413"><title>IP Kodlu Adlar</title>
<para>
Bazan, bir konak, alan adı sistemi tarafından bilinmez ve iletişim engellenir (özellikle, bir hatayı bildirme ve giderme iletişiminde). Bu engeli aşmak için, bir alan isminin yerine kullanılmak üzere adresin özel kodlanmış bir biçimine izin verilir. IPv4 adresler için bu biçim, bir Genel Ağ adresini (IPv4) [123.255.37.2] örneğindeki gibi, köşeli ayraç içine alınmış, birbirlerinden noktalarla ayrılmış, sıralı, dört küçük, sekiz bitlik bayta sığabilen onluk tamsayılar biçiminde kullanılır. En sonunda standartlaşabilen IPv6 ve diğer adres biçimleri için biçim, IPv6 standartlarının [<xref linkend="rfc2821-bib17"/>] bir parçası olarak belirtilen biçimde, bir ikinokta üstüste ve adresin kendisi olarak adres sözdizimini tanımlayan standartlaşmış bir "yafta"dan oluşur.
</para><para>Özellikle:</para><para>
<literallayout indent="0">
    IPv4-kodlu-ad  = Snum 3("." Snum)
    IPv6-kodlu-ad  = "IPv6:" IPv6-adrs
    Genel-kodlu-ad = Standardize-yafta ":" 1*tdizge
    Standardize-yafta  = Hrt-dizge
          ; <rfcmust>Standartlaşma aşamalarındaki bir RFC'de belirtilmiş</rfcmust>
          ; ve <rfcmust>IANA ile kayıt altına alınmış olmalıdır</rfcmust>.

    Snum = 1*3RAKAM  ; 0 ile 255 arasındaki onluk bir tamsayı gösterimi
    Harf-rakam = HARF / RAKAM
    Hrt-dizge  = *( HARF / RAKAM / "-" ) Harf-rakam

    IPv6-adrs   = IPv6-tam / IPv6-kısmi / IPv6v4-tam / IPv6v4-kısmi
    IPv6-onaltı = 1*4ONALTILIKRAKAM
    IPv6-tam    = IPv6-onaltı 7(":" IPv6-onaltı)
    IPv6-kısmi  = [IPv6-onaltı *5(":" IPv6-onaltı)] "::" [IPv6-onaltı *5(":"
                   IPv6-onaltı)]
          ; "::" ile en az 2 tane 16 bitlik sıfır grubu belirtilir.
          ; "::"ye ek olarak 6 gruptan fazlası yoktur.
    IPv6v4-tam   =  IPv6-onaltı  5(":" IPv6-onaltı)  ":"  IPv4-kodlu-ad
    IPv6v4-kısmi = [IPv6-onaltı *3(":" IPv6-onaltı)] "::"
                   [IPv6-onaltı *3(":" IPv6-onaltı)  ":"] IPv4-kodlu-ad
          ; "::" ile en az 2 tane 16 bitlik sıfır grubu belirtilir.
          ; "::"ye ek olarak 4 gruptan fazlası yoktur ve
          ; IPv4-kodlu-ad bulunabilir.
</literallayout>
</para>
</sect3>

<sect3 xml:id="rfc2821-s414"><title>Komutların Sırası</title>
<para>
Hangi komutun hangi sırada kullanılacağına ilişkin sınırlamalar vardır.
</para><para>
<rfcmust>Posta aktarımını içerecek bir oturum önce <command>EHLO</command> komutu kullanarak ilklendirilmelidir</rfcmust>. <rfcshould>Posta aktarımı yapılmayacaksa bir SMTP sunucusu bu ilklendirme olmaksızın komut kabul edebilmelidir</rfcshould> (<command>VRFY</command> veya <command>EXPN</command> gibi).
</para><para>
İstemci tarafından oturum sırasında bir <command>EHLO</command> komutu gönderilebilir. Oturum başlangıcından sonra gönderilmişse, SMTP sunucusu tüm tamponları temizlemeli ve bir <command>RSET</command> komutu alınmışçasına aşamayı sıfırlamalıdır. Başka bir deyişle, <command>RSET</command>'in hemen ardından <command>EHLO</command> kullanımı gereksizdir ama lüzumsuz komutların çalıştırılmasının başarıma maliyeti yanında zararsızdır.
</para><para>
<rfcmust>Eğer <command>EHLO</command> komutu SMTP sunucusu tarafından kabul edilebilir değilse, 501, 500 veya 502 başarısızlık yanıtlarından hangisi uygunsa o gönderilmelidir</rfcmust>. <rfcmust>SMTP sunucusu bu yanıtlar aktarılıncaya kadar <command>EHLO</command> alınmadan önceki durumunda kalmalıdır</rfcmust>.
</para><para>
<rfcmust>SMTP istemcisi, eğer mümkünse, <command>EHLO</command> komutundaki alan bağımsız değişkeninin kendi konağı için geçerli bir asıl konak adı (bir <literal>CNAME</literal> veya <literal>MX</literal> ismi değil) içerdiğinden emin olmalıdır</rfcmust>. Bu mümkün değilse (örneğin, istemcinin adresi özdevimli atanmıştır ve istemci belirgin bir isme sahip değildir), <rfcshould>alan ismini bir IP kodlu adla ikame etmeli</rfcshould> ve istemciyi tanıtmaya yardımcı olacak ek bilgileri de sağlamış olmalıdır.
</para><para>
<rfcmaybe>SMTP sunucusu, <command>EHLO</command> komutundaki alan adı bağımsız değişkeninin istemcinin IP adresine tekabül edip etmediğini doğrulatabilir</rfcmaybe>. Ancak, <rfcmust>doğrulama başarısız olursa, sunucu bu sebeple bir iletiyi reddetmemelidir</rfcmust>; doğrulama bilgisi başarısızlığı sadece oturum açma ve izleme gecikmelerinden kaynaklanmış olabilir.
</para><para>
<command>NOOP</command>, <command>HELP</command>, <command>EXPN</command>, <command>VRFY</command> ve <command>RSET</command> komutları oturum sırasında veya önceden oturumu ilklendirmeksizin herhangi bir anda kullanılabilir. <rfcshould>SMTP sunucuları bunları evvelce bir <command>EHLO</command> komutu alınmamış olsa bile normal olarak (yani, bir 503 kodu döndürmeksizin) işleme almalı</rfcshould>; <rfcshould>istemciler ise bu komutları göndermeden önce <command>EHLO</command> ile bir oturum açmalıdır</rfcshould>.
</para><para>
Eğer bu kurallara uyulursa, RFC 821'deki bir örnekteki, bir <command>EXPN</command> komutuna "550 erişiminize izin verilmedi" yanıtının verilmesi, <command>EXPN</command> komutunun öncesinde bir <command>EHLO</command> olmadıkça veya erişim yasağı istemcinin IP adresine veya diğer kimlik kanıtlama/saptama mekanizmalarından kaynaklanmadıkça yanlış olacaktır.
</para><para>
<command>MAIL</command> komutu (veya artık atıl olan SEND, SOML ve SAML komutları) bir posta aktarımı başlatır.  Başlatıldığında, bir posta aktarımı, sırasıyla, bir aktarım başlatma komutu, bir veya daha fazla <command>RCPT</command> komutu ve bir <command>DATA</command> komutundan oluşur. Bir posta aktarımı <command>RSET</command> (veya yeni bir <command>EHLO</command>) komutu ile terkedilebilir. Bir oturumda birden fazla posta aktarımı yapılabildiği gibi hiç posta aktarımı da yapılmayabilir. <rfcmust><command>MAIL</command> komutu (veya artık atıl olan <command>SEND</command>, <command>SOML</command> ve <command>SAML</command> komutları) zaten açık olan bir posta aktarımında gönderilmemelidir</rfcmust>, yani, sadece şu durumlarda gönderilebilir: başlatılmış bir posta aktarımı yoksa veya aktarım başarılı bir <command>DATA</command> komutuyla önceden tamamlanmışsa ya da evvelce bir <command>RSET</command> ile oturum terkedilmişse.
</para><para>
<rfcmust>Eğer aktarım başlatma komutunun bağımsız değişkeni kabul edilebilir değilse, bir 501 başarısızlık yanıtı döndürülmeli</rfcmust> ve <rfcmust>SMTP sunucusu aynı durumda kalmalıdır</rfcmust>. <rfcmust>Bir aktarımdaki komutlar sunucu tarafından işlenemeyecek derecede sırasızsa, bir 503 başarısızlık yanıtı döndürülmeli</rfcmust> ve <rfcmust>SMTP sunucusu aynı durumda kalmalıdır</rfcmust>.
</para><para>
<rfcmust>Bir oturumdaki son komut <command>QUIT</command> komutu olmalıdır</rfcmust>. <command>QUIT</command> komutu oturum sırasında herhangi bir başka zaman kullanılamaz, fakat <rfcshould>bir oturum açma komutu gönderilmiş veya alınmış olmasa bile, SMTP istemcisi tarafından bağlatının kapatılmasını istemek için kullanılması gerekir</rfcshould>.
</para>
</sect3>
<sect3 xml:id="rfc2821-s415"><title>Özel Kullanımlı Komutlar</title>
<para>
<xref linkend="rfc2821-s222"/> bölümünde belirtildiği gibi, "X" ile başlayan komutlar istemci (gönderen) ve sunucu (alan) SMTP sistemleri arasında karşılıklı uzlaşılarak kullanılabilir. Böyle bir komutu tanımayan bir SMTP sunucusunun komutu, "500 Komut tanınmıyor" ile yanıtlaması beklenir. <rfcmaybe>Eklentili bir SMTP sunucusu <command>EHLO</command> komutunun yanıtında bu özel komutlarla ilgili özellik isimlerini listeleyebilir</rfcmaybe>.
</para><para>
<rfcmust>SMTP sistemlerince gönderilip kabul edilen "X" ile başlamayan komutlar <xref linkend="rfc2821-s222"/> bölümündeki gereksinimlere uymalıdırlar</rfcmust>.
</para>
</sect3>
</sect2>

<sect2 xml:id="rfc2821-s42" chunkthis="1"><title>SMTP Yanıtları</title>
<para>
SMTP komutlarının yanıtları, posta aktarım işlemindeki isteklerin ve eylemlerin eşzamanlanmasının temini ve SMTP istemcisinin SMTP sunucusunun durumunu daima bilmesini garantilemek için kullanılırlar. <rfcmust>Her komutun sadece ve sadece bir yanıt üretmesi gerekir</rfcmust>.
</para><para>
Komut-yanıt dizilimlerinin ayrıntıları <xref linkend="rfc2821-s43"/> bölümünde açıklanmıştır.
</para><para>
Bir SMTP yanıtı bu belgede aksi belirtilmiş olmadıkça, üç rakamlı bir sayıyı (üç tane sayısal karakter olarak aktarılır) izleyen bir metinden oluşur. Sayı bilgisayar tarafından geçilecek durumu saptamak için, metin ise insan kullanıcılar içindir. 3 rakam, SMTP istemcisinin metni incelemeksizin kullanıcıya mı aktaracağı yoksa iptal mi edeceğine karar verebilmesine yetecek kadar kodlanmış bilgiyi içerir. İstisnalara bu belgenin çeşitli yerlerinde dikkat çekilmiştir. Kısmen, 220, 221, 251, 421 ve 551 yanıt kodları, makineler tarafından çözümlenip yorumlanması gereken ileti metinleriyle ilgilidir. Genel durumda ise, metin alıcıya bağımlı ve bağlama bağımlı olabilir, bu yüzden her yanıt kodu için metnin değişmesi sözkonusu olabilir. Yanıt kodları teorisinin açıklaması <xref linkend="rfc2821-s421"/> bölümünde verilmiştir. Biçimsel olarak bir yanıt bir dizilim olarak tanımlanmıştır: üç rakamlık bir kod, <literal>&lt;BOŞKRK></literal>, metnin bir satırı ve <literal>&lt;CRLF></literal> ya da çok satırlı bir yanıt (<xref linkend="rfc2821-s421"/> bölümünde tanımlandığı gibi). <rfcshould>Bu belirtimle çelişerek metin bazan gönderilmediğinden, metni almayan istemciler kodu tek başına (bir boşluk karakteri içersin içermesin) işlemeye hazırlıklı olmalıdırlar</rfcshould>. Sadece <command>EHLO</command>, <command>EXPN</command> ve <command>HELP</command> komutlarının normal koşullarda çok satırlı yanıtlarla sonuçlanması beklenirse de, çok satırlı yanıtlara her komutta izin verilmektedir.
</para><para>
ABNF gösterimiyle sunucunun yanıtları:
</para><para>
<literallayout indent="0">
    Karşılama = "220 " Alan [ BOŞKRK metin ] CRLF
 Yanıt-satırı =  Yanıt-kodu [ BOŞKRK metin ] CRLF
</literallayout>
</para><para>
sadece 220 yanıtının göründüğü "Karşılama" iletisi ile sunucu, bağlantının kendine düşen parçasını açtığını duyurmuş olur.
</para><para>
<rfcshould>Bir SMTP sunucusu sadece bu belgede listelenen yanıt kodlarını göndermeli</rfcshould> ve <rfcshould>uygun düştükçe örneklerde gösterilen metinleri kullanmalıdır</rfcshould>.
</para><para>
<rfcmust>Bir SMTP istemcisi eylemini metne bakarak değil sadece yanıt koduna bakarak saptamalıdır</rfcmust> ("adres değişikliği" için olan 251 ve 551 ile gerekliyse 220, 221 ve 421 yanıtları hariç); <rfcmust>genel durumda,  hiç metin bulunmaması halini de içererek her metin kabul edilebilmelidir</rfcmust>(<rfcshould>göndericiler çıplak kodlar göndermemelidir</rfcshould> dense de). Yanıt kodundan sonra gelen boşluk metnin parçası olarak kabul edilir. <rfcshould>Mümkün olduğunca, bir alıcı SMTP sistemi yanıt kodunun ilk rakamını (önem belirteci) sınamalıdır</rfcshould>.
</para><para>
<rfcmust>Aşağıda bulunan kodların listesi kalıcıymış gibi yorumlanmamalıdır</rfcmust>. Yanıtın metinsel kısmındaki tamamlayıcı bilginin tercih edilmesiyle birlikte yeni kodların eklenmesi nadir ve önemli bir etkinlik olduğu sürece,  yeni standartların ya da standartlaşma aşamalarındaki belirtimlerin sonucu olarak yeni kodlar eklenebilir. <rfcmust>Sonuç olarak, bir gönderici SMTP sistemi bu belgede belirtilmemiş kodlarla çalışmaya hazırlıklı olmalı</rfcmust> ve <rfcmust>sadece ilk rakamı yorumlayarak gereğini yapmalıdır</rfcmust>.
</para>
<sect3 xml:id="rfc2821-s421"><title>Yanıt Kodlarının Önemleri ve Kuram</title>
<para>
Yanıtın üç rakamının her birinin özel bir önemi vardır. İlk rakam yanıtın iyi mi, kötü mü yoksa eksik mi olduğunu belli eder. Aşırı karmaşıklaşmamış veya beklenmedik bir kod alan bir SMTP istemcisi bu ilk rakamı inceleyerek yapacağı eylemi (planlı işlem, yeniden yapma, kısıntı, vb. gibi) saptayabilecektir. Ne çeşit hata oluştuğunu (posta sistemi hatası, komut sözdizimi hatası, vb. gibi) yaklaşık olarak bilmek isteyen bir SMTP istemcisi, ikinci rakamı inceleyebilir. Üçüncü rakam ve mevcut olabilecek bütünleyici her bilgi, bilginin eniyi derecelenmesi için ayrılmıştır.
</para><para>
Yanıt kodunun ilk rakamı için beş değer vardır:
</para><glosslist><glossentry>
<glossterm><command>1</command><replaceable>yz</replaceable> Ön Hazırlık Olumlu yanıtı</glossterm>
<glossdef><para>
Komutun kabul edilmiş olduğunu ama istenen eylemin askıda tutulduğunu, bu yanıttaki bilginin doğrulanmasının bekletildiğini belirtir. SMTP istemcisi eylemin sürdürüleceğini mi yoksa bırakılacağını mı belirten başka bir komut göndermelidir. Bilgi: Eklentisiz SMTP'nin yanıtın bu türüne izin veren komutları yoktur ve dolayısıyla devam veya terk komutlarına da sahip değildir.
</para></glossdef></glossentry><glossentry>
<glossterm><command>2</command><replaceable>yz</replaceable> Tamamlama Olumlu yanıtı</glossterm>
<glossdef><para>
İstenen eylem başarıyla tamamlanmıştır. Yeni bir istek başlatılabilir.
</para></glossdef></glossentry><glossentry>
<glossterm><command>3</command><replaceable>yz</replaceable> Araişlem Olumlu yanıtı</glossterm>
<glossdef><para>
Komut kabul edilmiştir, fakat istenen eylem askıya alınmış olup bu bilginin alındısı bekletilmektedir. SMTP istemcisi bu bilgiyi belirten başka bir komut göndermelidir. Bu yanıt sıralı komut gruplarında (örn, <command>DATA</command>) kullanılır.
</para></glossdef></glossentry><glossentry>
<glossterm><command>4</command><replaceable>yz</replaceable> Geçici Tamamlama Olumsuz yanıtı</glossterm>
<glossdef><para>
Komut kabul edilmemiş ve istenen eylem gerçekleşmemiştir.  Ancak, hata durumu geçicidir ve eylem yeniden talep edilebilir. Gönderici (varsa) komut sırasının başına dönmelidir. "Geçici" için bir anlam atamak, her iki tarafın da (alıcı ve gönderici SMTP sistemleri) yorumda hemfikir olması gerektiğinde zordur. Bu kapsamdaki her yanıt farklı bir zaman değerine sahip olabilir, fakat SMTP sunucusu tekrar denemesi için teşvik edilir. Bir yanıtın <command>4</command><replaceable>yz</replaceable> ya da <command>5</command><replaceable>yz</replaceable> (aşağıya bakınız) sınıfına girip girmediğini saptamanın ana kuralı, gönderici veya alıcının özelliklerinde veya komut biçiminde değişiklik yapmaksızın  yinelenebilirse başarılı olma şansı varsa (yani, komut aynen yinelenir ve alıcı yeni bir gerçeklenim ortaya koymaz), bu yanıtlar <command>4</command><replaceable>yz</replaceable> yanıtlarıdır, şeklindedir.
</para></glossdef></glossentry><glossentry>
<glossterm><command>5</command><replaceable>yz</replaceable> Kalıcı Tamamlama Olumsuz yanıtı</glossterm>
<glossdef><para>
Komut kabul edilmemiş ve istenen eylem gerçekleşmemiştir. SMTP istemcisi aynı isteği (aynı sırayla) yinelemekten vazgeçirilir.  Hatta bazı "kalıcı" hata durumları doğrulanabilir, böylece insan kullanıcı, SMTP istemcisinden, gelecekteki bir anda doğrudan bir eylemin sonucu olarak komut sırasını yeniden başlatmasını isteyebilir (örneğin, yazılışta veya kullanıcının hesap bilgilerinde değişiklik olduğunda).
</para></glossdef></glossentry></glosslist><para>
İkinci rakam yanıtları belli sınıflara kodlar:
</para><glosslist><glossentry>
<glossterm><replaceable>x</replaceable><command>0</command><replaceable>y</replaceable>  Sözdizimi:</glossterm>
<glossdef><para>
Bu yanıtlar, başka bir işlevsel sınıfla örtüşmeyen sözdizimsel olarak yanlış komutlar, gerçeklenmemiş ya da gereksiz komutlar ve sözdizimi hataları ile ilgilidir.
</para></glossdef></glossentry><glossentry>
<glossterm><replaceable>x</replaceable><command>1</command><replaceable>y</replaceable>  Bilgi:</glossterm>
<glossdef><para>
Bunlar yardım veya durum bilgisi isteği gibi bilgi isteklerine yanıtlardır.
</para></glossdef></glossentry><glossentry>
<glossterm><replaceable>x</replaceable><command>2</command><replaceable>y</replaceable>  Bağlantılar:</glossterm>
<glossdef><para>
Bunlar aktarım kanalına atıfta bulunan yanıtlardır.
</para></glossdef></glossentry><glossentry>
<glossterm><replaceable>x</replaceable><command>3</command><replaceable>y</replaceable> Belirsiz.</glossterm>
<glossterm><replaceable>x</replaceable><command>4</command><replaceable>y</replaceable> Belirsiz.</glossterm>
<glossdef/></glossentry><glossentry>
<glossterm><replaceable>x</replaceable><command>5</command><replaceable>y</replaceable>  Posta sistemi:</glossterm>
<glossdef><para>
Bu yanıtlar alıcı posta sisteminin istenen aktarımla veya başka bir posta sistemi eylemiyle karşı karşıya kaldığı durumu belirtir.
</para></glossdef></glossentry></glosslist><para>
Üçüncü rakam, ikincisi tarafından belirtilen sınıflamalara daha hassas dereceleme sağlar. Yanıtların listesi bunu en iyi gösteren yerdir. Her yanıt metni zorunludan ziyade önerileni belirtir ve hatta ilişkilendirildiği komuta göre değişebilir. Diğer taraftan, yanıt kodları kesinlikle bu bölümdeki belirtimleri takip etmelidir. Alıcı gerçeklenimleri, burada açıklanandan azcık farklı durumlarda zaten tanımlanmış olanlara uyum sağlamaktansa yeni kodlar uydurmamalıdırlar.
</para><para>
Örneğin, başarılı çalışması SMTP istemcisine yeni bir bilgi sunmayan <command>NOOP</command> gibi bir komut bir 250 yanıtı döndürecektir.  Bir komut siteye özgü olmayan gerçeklenmemiş bir eylemi talep ettiğinde yanıt 502 olur. Gerçeklenmiş bir komuttan gerçeklenmemiş bir bağımsız değişken ile istekte bulunmanın cezası ise 504 yanıtıdır.
</para><para>
Yanıt metni tek bir satırdan daha uzun olabilir; bu gibi durumlarda, SMTP istemcisinin metnin tamamın elde etmek için nereye kadar okuyacağını belirtecek şekilde ileti metni imlenmelidir. Bu, çok satırlı bir yanıt belirten özel bir biçimi gerektirir.
</para><para>
Çok satırlı yanıt biçimi, son satır dışında bütün satırlar yanıt koduyle başlar, ardına bir tireden (eksi işareti diye de bilinir) sonra satır metni eklenir. Son satırda ise tire işaretinin yerini <literal>&lt;BOŞKRK></literal> (boşluk) alır ve metin isteğe bağlıdır. Satırların tamamı <literal>&lt;CRLF></literal> ile biter. Yukarıda da dikkat çekildiği gibi, <rfcshould>sunucular, ardında bir metin bulunmasa bile <literal>&lt;BOŞKRK></literal> göndermelidir</rfcshould>, <rfcmust>fakat istemcilerin bunun yokluğuna karşı hazırlıklı olması gerekir</rfcmust>.
</para><para>Örneğin:</para><para>
<literallayout indent="0">
    123-ilk satir
    123-ikinci satir
    123-234 metin sayiyla basliyor
    123 son satir
</literallayout>
</para><para>
Çoğu durumda SMTP istemcisi basitçe yanıt kodundan sonra <literal>&lt;BOŞKRK></literal> veya <literal>&lt;CRLF></literal> gelen satırı aramaya ihtiyaç duyar ve öncesindeki tüm satırları yoksayar. Sadece birkaç durumda, yanıt metninde istemci için önemli bilgi vardır. İstemci bu durumları o anki bağlamdan tespit etme konusunda yetkin olmalıdır.
</para>
</sect3>

<sect3 xml:id="rfc2821-s422"><title>İşlev Gruplarına göre Yanıt Kodları</title>
<para>
<literallayout indent="0">
  500 Sözdizimi hatası, komut tanınmıyor
      (Komut satırı çok uzun gibi hataları içerebilir)
  501 Bağımsız değişken ya da bağımsız değişkenlerde sözdizimi hatası
  502 Komut gerçeklenmedi (bkz, <xref linkend="rfc2821-s424"/>)
  503 Komutların sırası hatalı
  504 Komut bağımsız değişkeni gerçeklenmedi
  211 Sistem durumu veya sistem yardımı yanıtı
  214 Yardım iletisi
      (Kullanım bilgisi veya standartdışı bir komutun anlamı;
      bu yanıt sadece insan kullanıcılar için yararlıdır.)
  220 &lt;alan> Hizmete hazır
  221 &lt;alan> Hizmet, aktarım kanalını kapatıyor
  421 &lt;alan> Hizmete uygun değil, aktarım kanalı kapanıyor
      (Hizmet kapatılmakta olduğunu biliyorsa bu yanıt herhangi bir
       komuta verilebilir.)
  250 İstenen posta eylemi başarıyla tamamlanmıştır
  251 Kullanıcı yerel kullanıcı değil; &lt;sevk-yolu> adresine sevkedilecek
      (bkz, <xref linkend="rfc2821-s34"/>)
  252 VRFY için kullanıcı doğrulanamıyor, ama ileti kabul edilecek ve
      teslim edilmeye çalışılacaktır
      (bkz, <xref linkend="rfc2821-s353"/>)
  450 İstenen posta eylemi yerine getirilemedi: posta kutusu elverişli değil
      (örn, posta kutusu meşgul)
  550 İstenen eylem yerine getirilemedi: posta kutusu elverişli değil
      (örn, posta kutusu bulunamadı, erişilemedi veya
       kurallar gereği komut reddedildi)
  451 İstenen eylem tamamlanmadı: işlem sırasında hata
  551 Kullanıcı yerel kullanıcı değil; lütfen &lt;sevk-yolu> adresini deneyin
      (bkz, <xref linkend="rfc2821-s34"/>)
  452 İstenen eylem yerine getirilemedi: sistem kaynakları yetersiz
  552 İstenen posta eylemi yerine getirilemedi: saklama alanı yetmiyor
  553 İstenen eylem yerine getirilemedi: posta kutusu ismine izin yok
      (örn, posta kutusu isminde sözdizimi hatası)
  354 Posta girdisini başlat ve &lt;CRLF>.&lt;CRLF> ile bitir
  554 Aktarım başarısız oldu (Veya, bir bağlantı açılış yanıtında:
      "Burada öyle bir SMTP hizmeti verilmiyor")
</literallayout>
</para>
</sect3>
<sect3 xml:id="rfc2821-s423"><title>Numara Sırasıyla Yanıt Kodları</title>
<para>
<literallayout indent="0">
  211 Sistem durumu veya sistem yardımı yanıtı
  214 Yardım iletisi
      (Kullanım bilgisi veya standartdışı bir komutun anlamı;
      bu yanıt sadece insan kullanıcılar için yararlıdır.)
  220 &lt;alan> Hizmete hazır
  221 &lt;alan> Hizmet, aktarım kanalını kapatıyor
  250 İstenen posta eylemi başarıyla tamamlanmıştır
  251 Kullanıcı yerel kullanıcı değil; &lt;sevk-yolu> adresine sevkedilecek
      (bkz, <xref linkend="rfc2821-s34"/>)
  252 VRFY için kullanıcı doğrulanamıyor, ama ileti kabul edilecek ve
      teslim edilmeye çalışılacaktır
      (bkz, <xref linkend="rfc2821-s353"/>)
  354 Posta girdisini başlat ve &lt;CRLF>.&lt;CRLF> ile bitir
  421 &lt;alan> Hizmete uygun değil, aktarım kanalı kapanıyor
      (Hizmet kapatılmakta olduğunu biliyorsa bu yanıt herhangi bir
       komuta verilebilir.)
  450 İstenen posta eylemi yerine getirilemedi: posta kutusu elverişli değil
      (örn, posta kutusu meşgul)
  451 İstenen eylem tamamlanmadı: işlem sırasında hata
  452 Talep edilen faaliyet alınamadı: yetersiz bellek alanı
  500 Sözdizimi hatası, komut tanınmıyor
      (Komut satırı çok uzun gibi hataları içerebilir)
  501 Bağımsız değişken ya da bağımsız değişkenlerde sözdizimi hatası
  502 Komut gerçeklenmedi (bkz, <xref linkend="rfc2821-s424"/>)
  503 Komutların sırası hatalı
  504 Komut bağımsız değişkeni gerçeklenmedi
  550 İstenen eylem yerine getirilemedi: posta kutusu elverişli değil
      (örn, posta kutusu bulunamadı, erişilemedi veya
       kurallar gereği komut reddedildi)
  551 Kullanıcı yerel kullanıcı değil; lütfen &lt;sevk-yolu> adresini deneyin
      (bkz, <xref linkend="rfc2821-s34"/>)
  552 İstenen posta eylemi yerine getirilemedi: saklama alanı yetmiyor
  553 İstenen eylem yerine getirilemedi: posta kutusu ismine izin yok
      (örn, posta kutusu isminde sözdizimi hatası)
  554 Aktarım başarısız oldu (Veya, bir bağlantı açılış yanıtında:
      "Burada öyle bir SMTP hizmeti verilmiyor")
</literallayout>
</para>
</sect3>
<sect3 xml:id="rfc2821-s424"><title>502 Yanıt Kodu</title>
<para>
<rfcshould>502 yanıt kodu (Komut gerçeklenmedi) diğer kodlara tercih edildiğinde</rfcshould>, sorular yükselir. <rfcshould>502 yanıt kodu, komutun aslında SMTP sunucusu tarafından tanındığı ama gerçeklenmediği durumda kullanılmalıdır</rfcshould>. <rfcshould>Eğer komut tanınmıyorsa 500 yanıt kodu döndürülmelidir</rfcshould>. <rfcmust>Eklentili SMTP sistemleri <command>EHLO</command> yanıtında yeteneklerini listelerken 502 (veya 500) döndürecekleri yetenekleri belirtmemelidirler</rfcmust>.
</para>
</sect3>

<sect3 xml:id="rfc2821-s425">
<title><literal>&lt;CRLF>.&lt;CRLF></literal>'in Ardından <command>DATA</command> Komutuna Yanıt</title>
<para>
Bir SMTP sunucusu <command>DATA</command> komutu <literal>&lt;CRLF>.&lt;CRLF></literal> ile tamamlandıktan sonra bir <command>2</command><replaceable>yz</replaceable> Tamamlama Olumlu yanıtı geri döndürdüğünde şu sorumlulukları almış olur:
</para><itemizedlist><listitem><para>
iletinin teslimatı (alıcı posta kutusu mevcutsa) veya
</para></listitem><listitem><para>
eğer geçici durumlar yüzünden (gecikerek) ileti teslim etmeye çalışacaksa, <xref linkend="rfc2821-s454"/> bölümünde belirtilen zaman aralıklarıyla makul sayıda yineleyerek iletinin teslimatı
</para></listitem><listitem><para>
iletinin teslimat çalışması kalıcı durumlar yüzünden başarısız olursa veya geçici durumlar yüzünden yinelenen teslimat çabası başarısız olursa, özgün ileti göndericisine uygun bir uyarı iletisinin gönderilmesi (SMTP <command>MAIL</command> komutundaki adresi kullanarak).
</para></listitem></itemizedlist><para>
<rfcmust>Bir SMTP sunucusu <command>DATA</command> komutu <literal>&lt;CRLF>.&lt;CRLF></literal> ile tamamlandıktan sonra bir kalıcı hata durumu (<command>5</command><replaceable>yz</replaceable>) kodu geri döndürdüğünde, iletiyi teslim etmek için bir daha teşebbüste bulunmamalıdır</rfcmust>. İletinin teslimatı SMTP istemcisinin sorumluluğundadır ve bunu ya kullanıcıya geri döndürür ya da teslim etmeye çalışmak üzere yeniden kuyruğa alır (bkz, <xref linkend="rfc2821-s4541"/>).
</para><para>
<rfcshould>İletinin kaynaklandığı kullanıcı, geçici hata durumundan dolayı bir dönüşü (posta iletisi veya başka bir şekilde) tıpkı kalıcı başarısızlıkta olduğu gibi teslimatın yapılamayışının bir belirtisi olarak yorumlayabilmelidir</rfcshould>. Yani, istemci SMTP sistemi bu durumları başarıyla ele alabiliyorsa, kullanıcı böyle bir yanıt almayacaktır.
</para><para>
<rfcmust>Bir SMTP sunucusu <command>DATA</command> komutu <literal>&lt;CRLF>.&lt;CRLF></literal> ile tamamlandıktan sonra bir kalıcı hata durumu (<command>5</command><replaceable>yz</replaceable>) kodu geri döndürdüğünde, iletiyi teslim etmek için bir daha teşebbüste bulunmamalıdır</rfcmust>. Geçici hata durumu kodlarındaki gibi iletinin teslimatı yine SMTP istemcisinin sorumluluğundadır, fakat <rfcshould>kullanıcı iletiyi inceleyip müdahale etmeden teslimatı tekrar aynı sunucuya yapmaya çalışmamalıdır</rfcshould>.
</para>
</sect3>
</sect2>

<sect2 xml:id="rfc2821-s43" chunkthis="1">
<title>Komutların ve Yanıtların Sıralanışı</title>
<sect3 xml:id="rfc2821-s431"><title>Sıralanışa Genel Bakış</title>
<para>
Alıcı ile gönderici arasındaki iletişim gönderici tarafından denetim altında tutulan değişken bir diyalogdur. Aslında, gönderici bir komut verir ve alıcı da yanıtını. Başka türlü düzenlenmedikçe, hizmet eklentileri üzerinden görüşülür. <rfcmust>Gönderici bir komut yollamadan önce önceki komutun yanıtını beklemelidir</rfcmust>.
</para><para>
Önemli tek yanıt bağlantı karşılama yanıtıdır. Normal olarak, bağlantı kurulduğunda alıcı bir 220 "Hizmete hazırım" yanıtı gönderir. <rfcshould>Göndericinin herhangi bir komut göndermeden önce bu karşılama iletisini beklemesi gerekir</rfcshould>.
</para><note><para>
Tüm karşılama türü yanıtlarda yanıt kodundan sonraki ilk sözcük sunucu konağın resmi adı (tamamen nitelenmiş birincil alan adı) olur. Bazan konak anlamlı bir isme sahip olmayabilir. Bu gibi durumlarla ilgili olasılıkların açıklamaları için <xref linkend="rfc2821-s413"/> bölümüne bakınız.
</para><para>Örneğin,
</para><para>
<screen>
220 ISIF.USC.EDU Service ready
</screen>
</para><para>veya</para><para>
<screen>
220 mail.foo.com SuperSMTP v 6.1.2 Service ready
</screen>
</para><para>ya da</para><para>
<screen>
220 [10.0.0.1] Clueless host service ready
</screen>
</para></note><para>
Aşağıdaki tablo, her komut için olası başarı ya da başarısızlık yanıtlarını listeler. <rfcshould>Bunlar şuna kesinlikle bağlı kalmalıdır</rfcshould>: alıcı yanıtlardaki metinlerde değişiklik yapabilir, fakat kod numaralarına ve komuta özgü yanıt sırasına göre uygulanan eylem ve anlam değiştirilemez.
</para>
</sect3>

<sect3 xml:id="rfc2821-s432"><title>Komut-Yanıt Sıralanışı</title>
<para>
Her komut kendi olası yanıtlarıyla birlikte listelenmiştir. Kullanılan öneklerlerle olası yanıtlar belirtilmiştir: Ara yanıtlar için "A", hatalar için "H", başarı yanıtları için "B" önekleri kullanılmıştır. Özel bazı durumlar ve gelecek eklentilere izin vermek için bazı sunucular özel yanıtlar üretebildiklerinden, SMTP istemcilerinin, mümkün olduğu anda, <rfcshould>yanıtın sadece ilk rakamını yorumlamaları</rfcshould> ve <rfcmust>sadece ilk rakamı yorumlayarak, tanımadıkları yanıt kodları ile çalışmaya hazırlıklı olmaları gerekir</rfcmust>. <rfcmust><xref linkend="rfc2821-s22"/> bölümünde açıklanan mekanizmaları kullanarak genişletilmiş olmadıkça, SMTP sunucularının üç rakamdan farklı veya 2,3,4,5 ile başlamayan yanıt kodları aktarmamaları gerekir</rfcmust>.
</para><para>
Bu sıralama kuralları ve presipte kodların kendileri, sunucularda sunulmak ve istemcilerce kabul edilmek (istenmek) üzere, SMTP eklentileri tarafından değiştirilebilir ve genişletilebilir.
</para><para>
Aşağıda listelenen kodlara ilaveten, her SMTP komutu, ilgili yararsız durumlar saptanırsa aşağıdaki kodlardan herhangi birini döndürebilir:
</para><variablelist><varlistentry>
<term><literal>500</literal></term><listitem><para>
"komut satırı çok uzun" durumunda veya komut isminin tanınmadığı durumlarda. Bu komutların gerekli alt kümesine yanıtta bir "komut tanınmıyor" hatası üretilmesinin bu belirtimle çelişildiğini göstereceğine dikkat ediniz.
</para></listitem></varlistentry><varlistentry>
<term><literal>501</literal></term><listitem><para>
Komut veya bağımsız değişkenlerde sözdizimi hatası. <rfcshould>Gelecekteki genişletmeler için sağlanması durumunda, bu belgede bağımsız değişken kabul etmeyen komutlar olarak geçen komutlar (<command>DATA</command>, <command>RSET</command>, <command>QUIT</command> komutları), bağımsız değişkenler <command>EHLO</command> için ilan edilmiş eklentilerin yokluğunda sağlanmışsa, bir 501 yanıtı döndürmelidir</rfcshould>.
</para></listitem></varlistentry><varlistentry>
<term><literal>421</literal></term><listitem><para>
Hizmet kapanıyor ve aktarım kanalını kapatıyor.
</para></listitem></varlistentry></variablelist>
<para>Belli başlı sıralamalar:</para><para>
<literallayout indent="0">
   BAĞLANTI TESİSİ
      B:  220
      H:  554
   EHLO veya HELO
      B:  250
      H:  504, 550
   MAIL
      B:  250
      H:  552, 451, 452, 550, 553, 503
   RCPT
      B:  250, 251 (ama 251 ve 551 açıklaması için
          bkz, <xref linkend="rfc2821-s34"/>)
      H:  550, 551, 552, 553, 450, 451, 452, 503, 550
   DATA
      A:  354 -> veri -> B:  250
                         H:  552, 554, 451, 452
      H:  451, 554, 503
   RSET
      B:  250
   VRFY
      B:  250, 251, 252
      H:  550, 551, 553, 502, 504
   EXPN
      B:  250, 252
      H:  550, 500, 502, 504
   HELP
      B:  211, 214
      H:  502, 504
   NOOP
      B:  250
   QUIT
      B:  221
</literallayout>
</para>
</sect3>
</sect2>

<sect2 xml:id="rfc2821-s44" chunkthis="1"><title>İzleme Bilgisi</title>
<para>
Bir SMTP sunucusu teslim etmek veya işleme koymak için bir ileti aldığında, <xref linkend="rfc2821-s4114"/> bölümünde açıklandığı gibi ileti içeriğinin başlangıcına bir izleme bilgisi ("zaman damgası" veya "<literal>Received</literal>" satırı) yerleştirmelidir.
</para><para>
<rfcmust>Bu satır şöyle yapılandırılmalıdır</rfcmust>:
</para><itemizedlist><listitem><para>
<rfcmust>Bir SMTP ortamından kaynaklanması gereken <literal>FROM</literal> alanı</rfcmust>, <rfcshould>şunların ikisini birden içermelidir</rfcshould>: (1) <command>EHLO</command> komutunda sunulduğu gibi kaynak konağın ismi ve (2) TCP bağlantısından saptanan, kaynak IP adresiyle kodlanmış adres.
</para></listitem><listitem><para>
<rfcmaybe>RFC 822'de tavsiye edildiği gibi <literal>ID</literal> alanı "<literal>@</literal>" içerebilir</rfcmaybe>, fakat bu gerekli değildir.
</para></listitem><listitem><para>
<rfcmaybe>Çok sayıda <command>RCPT</command> komutu verildiğinde <literal>FOR</literal> alanı &lt;yol> girdilerinden oluşmuş bir liste içerebilir</rfcmaybe>. Bu bazı güvenlik sorunlarını arttırabilir ve genellikle de istenen bir şey değildir; bkz, <xref linkend="rfc2821-s72"/>.
</para></listitem></itemizedlist><para>
<rfcmust>Bir Genel Ağ posta programı, evvelce ileti başlığına eklenmiş bir "<literal>Received:</literal>" satırını değiştirmemelidir</rfcmust>. <rfcmust>SMTP sunucuları "<literal>Received:</literal>" satırlarını iletilerin başlarına eklemeli</rfcmust>; <rfcmust>mevcut satırların sırasını değiştirmemeli</rfcmust> veya <rfcmust>"<literal>Received:</literal>" satırlarını başka bir yerlere yerleştirmemelidirler</rfcmust>.
</para><para>
Genel Ağ'ın büyümesiyle, <literal>Received</literal> alanlarının karşılaştırılabilirliği, sorunları, özellikle de yavaş röle sorunlarını saptamada önem kazanmaktadır. <rfcshould><literal>Received</literal> alanlarını oluşturan SMTP sunucuları zaman dilimi isimlerinden ziyade doğrudan doğruya saat farklarını (-0800 gibi) kullanmalıdırlar</rfcshould>. Uygulanabilir olduğunda, yerel zamanı evrensel zamana (UT) göre saat farkıyla belirtmek tercih edilmelidir. Bu yöntem, belirtilecek yerel durumlar hakkında biraz daha fazla bilgiyi mümkün kılar. Evrensel zaman (UT) gerekliyse, alıcının değer dönüşümü için sadece basit işlemler yapmaya ihtiyacı olur. Evrensel zaman (UT) kullanımı, sunucunun yeri-zaman dilimi hakkındaki bilgiyi kaybeder. <rfcshould>Bir zaman dilimi ismi sağlanması isteniyosa, ismin bir açıklamanın içinde bulunması gerekir</rfcshould>.
</para><para>
Teslimatçı SMTP sunucusu bir iletinin "son teslimat"ını yaparken, posta veririnin başına bir "<literal>Return-Path</literal>" (Dönüş Yolu) satırı yerleştirir. <rfcmust>Bu "<literal>Return-Path</literal>" satırı kullanımı gereklidir ve posta sistemleri bunu desteklemelidir</rfcmust>. "<literal>Return-Path</literal>" satırı <command>MAIL</command> komutundaki &lt;dönüş-yolu> bilgisinin korunmasını sağlar. Burada, "son teslimat" ile iletinin SMTP ortamında kaldığı anlatılmak istenmektedir. Normalde, bu, postanın hedef kullanıcıya veya posta ile ilişkili bir yere teslim edileceği, ancak bazı durumlarda başka bir posta sistemine aktarılabileceği ve orada işleme sokulacağı anlamına gelirdi.
</para><para>
Dönüş yolundaki posta kutusunun asıl göndericininkinden farklı olması olasıdır, örneğin, hata yanıtlarının ileti göndericisinden ziyade özel bir hata iletileri alıcısı posta kutusuna teslimi gerekiyorsa, bu yararlıdır. Olaya postalama listeleri karıştığında bu düzenleme sıradandır ve hataların iletiyi yazana değil de listeyi yönetene yönlendirilmesi anlamında yararlıdır.
</para><para>
Yukarıdaki metinde ima edilen, son posta verisinin dönüş yolu satırı ile başladığı, bir ya da daha fazla zaman damgası satırı ile devam ettiğidir. Bu satırları posta verisi başlıkları ve gövdesi izler [<xref linkend="rfc2821-bib32"/>].
</para><para>
Sevk ve diğer işlemler ileti teslimat için kabul edildikten sonra yapıldığından teslimatın ne amaçla yapıldığının tespiti bir SMTP sunucusu için bazan zor olur. Sonuç olarak, <rfcmaybe>ilgili (sevk, ağgeçidi, röle) sistemler dönüş yolunu silebilir</rfcmaybe> ve <command>MAIL</command> komutunu, teslim edilen iletide tam olarak böyle tek bir satırın görünmesini temin edecek şekilde yeniden kurgulayabilirler.
</para><para>
<rfcshould>İletinin kaynaklandığı SMTP sistemi, iletiyi, başlığında bir "<literal>Return-Path</literal>" satırı mevcut olarak göndermemelidir</rfcshould>. <rfcmust>Bir röleleme işlemi uygulayan SMTP sunucuları ileti verisini incelememeli</rfcmust> ve özellikle de bir "<literal>Return-Path</literal>" satırı mevcut mu, diye bakmamalıdırlar. <rfcmaybe>Son teslimatı yapan SMTP sunucuları ise, kendilerininkini eklemeden önce "<literal>Return-Path</literal>" satırlarını silebilirler</rfcmaybe>.
</para><para>
Dönüş yolunun birincil amacı, yapılmayan teslimatı belirten iletinin veya gönderilecek başka bir posta sistemi başarısızlık bildiriminin adresini tayin etmektir. <rfcshould>Bir belirsizlik oluşturmaması için, iletinin teslimatı sırasında sadece ve sadece bir dönüş yolu mevcut olmalıdır</rfcshould>. <rfcshould>SMTPdışı aktarımlarda RFC 822 sözdizimini kullanan sistemler hataların (örn, teslim edilmeyen iletiler) raporlanması gerektiğinde, aktarım zarfıyla ilişkili ve belirsizlik oluşturmayan bir adres tayin etmelidirler</rfcshould>.
</para><note><title>Tarihsel Bilgi</title><para>
Hata iletileri için hedef olarak "<literal>Return-Path</literal>" başlığının (veya <command>MAIL</command> komutundaki zarf dönüş yolu adresinin) kullanımını yalanlar görünen RFC 822'deki metin Genel Ağ'da uygulanabilir değildir. <rfcmust>Dönüş yolu adresi (Return-path içine kopyalanmış olanı), teslimat hatalarını içeren hata iletilerinin hedefi olarak kullanılmalıdır</rfcmust>.
</para></note><para>Özellikle:</para>
<itemizedlist><listitem><para>
<rfcshould>SMTP'den bir "başka yere" ağgeçidi olan bir konağın, bu "başka yer" aktarımının Genel Ağ alan adreslerini kullanıp zarf göndericisi adresini de ayrıca sağladığı bilinmedikçe bir dönüş yolu başlığı yerleştirmesi gerekir</rfcshould>.
</para></listitem><listitem><para>
<rfcshould>bir "başka yerden" SMTP'ye ağgeçidi olan bir konak, iletide mevcut bir dönüş yolu başlığı varsa silmeli ve bilgiyi ya SMTP zarfına kopyalamalı ya da SMTP zarfındaki <command>MAIL</command> komutunun dönüş yolu bağımsız değişkenini oluşturacak diğer aktarım sisteminin zarfındaki mevcut bilgiyle biraraya getirmelidir</rfcshould>.
</para></listitem></itemizedlist><para>
Sunucu, posta verisi sonu belirtecini izleyen işlemlerin sadece kısmen başarılı olduğu durumlarda özel muamele yapmalıdır. Bu, bir miktar alıcı ve posta verisi kabul edildikten sonra SMTP sunucunun posta verisini alıcıların tamamına olmasa bile, bir kısmına başarıyla teslim edebileceğini saptarsa olur. <rfcmust>Bu durumlarda, <command>DATA</command> komutuna OK yanıtı verilmelidir</rfcmust>.  Bununla birlikte, <rfcmust>SMTP sunucusu iletinin oluşturucusuna bir "teslim edilemeyen posta" uyarı iletisi oluşturup göndermesi gerekir</rfcmust>.
</para><para>
<rfcmust>Başarısız olunmuş her alıcı için ya ayrı ayrı uyarı iletileri ya da bunları listeleyen tek bir uyarı iletisi gönderilmelidir</rfcmust>. İşlemin gönderici açısından ekonomik olması için mümkün olduğunca ikincisi tercih edilir. Tüm teslim edilemeyen posta uyarı iletileri <xref linkend="rfc2821-s37"/> bölümünde açıklandığı gibi boş dönüş yollu <command>MAIL</command> komutu kullanılarak gönderilir (artık kullanılmayan <command>SEND</command>, <command>SOML</command> veya <command>SAML</command> komutlarının işleme sokulmasının sonucu olsalar bile).
</para><para>
Zaman damgası ve dönüş yolu satırları biçimsel olarak şöyle tanımlanır:
</para><para>
<literallayout indent="0">
Dönüş-yolu-satırı = "Return-Path:" KBOŞ Dönüş-yolu &lt;CRLF>

Zaman-damgası-satırı = "Received:" KBOŞ Damga &lt;CRLF>

Damga = Kimden-alanı Tarafından-alanı İstemlik-bilgi ";"  KBOŞ tarih-saat

      ; buradaki "tarih-saat" [<xref linkend="rfc2821-bib32"/>]'de açıklandığı gibidir.
      ; fakat "atıl-" biçimler, özellikle iki haneli yıllar
      ; SMTP'de yasaklanmıştır ve kullanılmamalıdır *ZORUNLU*.

Kimden-alanı = "FROM" KBOŞ Genişletilmiş-alan AKBOŞ

Tarafından-alanı = "BY" KBOŞ Genişletilmiş-alan AKBOŞ

Genişletilmiş-alan = Alan /
                   ( Alan KBOŞ "(" TCP-bilgisi ")" ) /
                   ( IP-kodlu-ad KBOŞ "(" TCP-bilgisi ")" )

TCP-bilgisi = IP-kodlu-ad  / ( Alan KBOŞ IP-kodlu-adı )
      ; Bilgi sunucu tarafından TCP bağlantısından üretilir,
      ; istemci EHLO komutundan değil.

İstemlik-bilgi = [Üzerinden] [İle] [Kimlik] [İçin]

Üzerinden = "VIA" KBOŞ Bağ AKBOŞ

İle = "WITH" KBOŞ Protokol AKBOŞ

Kimlik = "ID" KBOŞ Dizge / İleti-kimliği AKBOŞ

İçin = "FOR" KBOŞ 1*( Yol / Posta-kutusu ) AKBOŞ

Bağ = "TCP" / Ek-Bağ
Ek-Bağ = Atom
      ; Bağlarla ilgili ek standart isimler Genel Ağ Atanmış
      ; Numaralar Yetkilisi (IANA) tarafından kayıt altına
      ; alınır. SMTP sunucularının kayıtdışı isimler kullanmaması
      ; gerekir *ÖNERİ*. "Üzerinden" değeri asıl olarak,
      ; Genel Ağ dışı aktarımlarla ilgilidir.
Protokol = "ESMTP" / "SMTP" / Ek-Protokol
Ek-Protokol = Atom
      ; Protokollerle ilgili ek standart isimler Genel Ağ Atanmış
      ; Numaralar Yetkilisi (IANA) tarafından kayıt altına
      ; alınır. SMTP sunucularının kayıtdışı isimler
      ; kullanmaması gerekir *ÖNERİ*.
</literallayout>
</para>
</sect2>

<sect2 xml:id="rfc2821-s45" chunkthis="1"><title>Gerçeklenimle İlgili Ek Hususlar</title>
<sect3 xml:id="rfc2821-s451"><title>Asgari Gerçeklenim</title>
<para>
SMTP'yi tüm alıcılar için çalışır kılmak için, aşağıdaki asgari gerçeklenim gereklidir. <rfcmust>Aşağıdaki komutların bu belirtimle uyumlu olmak için desteklenmesi gerekir</rfcmust>.
</para><para>
<literallayout indent="0">
    EHLO
    HELO
    MAIL
    RCPT
    DATA
    RSET
    NOOP
    QUIT
    VRFY
</literallayout>
</para><para>
<rfcmust>Posta röleleme ve teslimatını destekleyen bir SMTP sunucusu içeren her sistemin harf büyüklüğüne duyarsız bir yerel isim olarak "<literal>postmaster</literal>" adına ayrılmış bir posta kutusunu desteklemesi gerekir</rfcmust>. Eğer sunucu bağlantı açılışında (<xref linkend="rfc2821-s31"/> bölümünde açıklandığı gibi) daima 554 döndürüyorsa, bu <literal>postmaster</literal> adresi mutlaka gerekli değildir. <rfcmust><literal>Postmaster</literal> için posta kabul etme gereksinimi, SMTP sunucusunun posta hizmeti verdiği her alan adı için bir <literal>postmaster</literal> posta kutusu belirtilen <command>RCPT</command> komutları ile "<command>RCPT</command><literal> TO:&lt;Postmaster></literal>" şeklindeki (alan belirtilmeksizin) özel durumun desteklenmesi gerektiği</rfcmust>, anlamına gelir.
</para><para>
SMTP sistemlerinin, Genel Ağ üzerindeki herhangi bir sistemden <literal>postmaster</literal>'a doğrudan posta kabul edilmesi için makul her türlü çabayı göstereceği umulur. Bazı uç durumlarda, örneğin, bir hizmet reddi saldırısı veya diğer güvenliği kırma saldırılarının olduğu durumlarda, bir SMTP sunucusu <literal>postmaster</literal>'a gelen postayı engelleyebilir. Bununla birlikte, <rfcshould>bu tür saldırıların bir parçası olmayan iletilerin de engellenmemesi için böyle düzenlemelerin kapsamı oldukça dar tutulmalıdır</rfcshould>.
</para>
</sect3>
<sect3 xml:id="rfc2821-s452"><title>Şeffaflık</title>
<para>
Veri şeffaflığı için gerekli bazı önlemleri almaksızın "<literal>&lt;CRLF>.&lt;CRLF></literal>" karakter dizisi posta metnini bitirir ve kullanıcı tarafından gönderilemez. Genelde,  kullanıcıların bazı " yasaklanmış" dizilimlerden haberleri yoktur. Tüm kullanıcılarca oluşturulan metinlerin şeffaf olarak aktarılabilmesini mümkün kılmak için şu yöntemler kullanılır:
</para><itemizedlist><listitem><para>
Posta metninin bir satırını göndermeden önce, SMTP istemcisi satırın ilk karakterine bakar. Bir nokta ise, onun yanına, satırın başına bir nokta daha konur.
</para></listitem><listitem><para>
SMTP sunucusu posta metninin bir satırını aldığında satıra bakar. Satırın tamamı tek bir noktadan oluşmuşsa, bu satır posta sonu belirteci olarak ele alınır. Eğer ilk karakter bir nokta olduğu halde satırın devamında başka karakterler varsa ilk karakter silinir.
</para></listitem></itemizedlist><para>
Posta verisi, 128 ASCII karakterinin herhangi birini içerebilir. Boşluklar, dikey ve yatay sekmeler ile diğer kontrol karakterleri de dahil olmak üzere tüm karakterler alıcının posta kutusuna (bir yoruma konu edilmeksizin) teslim edilmek içindir. Eğer aktarım kanalı veri akımını 8 bitlik baytlarla (sekizli) sağlıyorsa, 7 bitlik ASCII kodları sekizlilerde sağa yanaştırılıp en anlamlı bitleri sıfır yapılarak iletilirler. Bir röleleme işlevi sunan SMTP sistemlerinde bu durumlar <xref linkend="rfc2821-s37"/> bölümünde özelikle ele alınmıştır.
</para><para>
Bazı sistemlerde veriyi alınıp saklanmış gibi dönüştürmek gerekli olabilir. Yerel karakter kümesi olarak ASCII'den farklı bir karakter kümesi kullanan, veriyi dizgeler halinde değil kayıtlar halinde saklayan veya posta kutularının içinde ayraç olarak özel karakter dizilimleri kullanan konaklar için bu gerekli olabilir. <rfcmust>Eğer böyle dönüşümler gerekliyse, bunlar geri alınabilir olmalıdır</rfcmust>; özellikle de, rölelenen postaya uygulanmışsa.
</para>
</sect3>
<sect3 xml:id="rfc2821-s453"><title>Boyutlar ve Zamanaşımları</title>
<sect4 xml:id="rfc2821-s4531"><title>Boyut sınırları ve asgari değerler</title>
<para>
Azami ve/veya asgari boyutları olması gereken bazı nesneler vardır. <rfcmust>Her gerçeklenimin nesneleri en azından bu boyutlarda almasının mümkün olması gerekir</rfcmust>. <rfcshould>Bu boyutlardan daha büyük nesnelerden olabildiğince kaçınılmalıdır</rfcshould>. Bununla birlikte, kodlanmış X.400  adresleri [<xref linkend="rfc2821-bib16"/>] gibi sıklıkla daha geniş nesneler gerektiren bazı Genel Ağ posta oluşumları vardır: <rfcmaybe>istemciler bunları aktarmaya çalışabilirler</rfcmaybe>, <rfcmust>fakat onları işleme alamıyacak bir sunucu tarafından reddedilmelerine karşı da hazırlıklı olmalıdırlar</rfcmust>. Azami genişleme olasılığı için, bu nesnelerin uzunluğu ile ilgili bir sınır koymayan gerçeklenim teknikleri kullanılmalıdır.
</para><variablelist><varlistentry>
<term>yerel-kısım</term><listitem><para>
Bir kullanıcı isminin veya bir yerel-kısım'ın toplam uzunluğu en çok 64 karakter olabilir.
</para></listitem></varlistentry><varlistentry>
<term>alan</term><listitem><para>
Bir alan isminin veya numarasının toplam uzunluğu en çok 255 karakter olabilir.
</para></listitem></varlistentry><varlistentry>
<term>yol</term><listitem><para>
Bir dönüş veya sevk yolunun toplam uzunluğu en çok 256 karakter olabilir (noktalama imlerini ve bileşen ayraçlarını içererek).
</para></listitem></varlistentry><varlistentry>
<term>komut satırı</term><listitem><para>
Komut sözcüğünü ve <literal>&lt;CRLF></literal>'yi içererek bir komut satırının toplam uzunluğu en çok 512 karakter olabilir. Bu sınırı arttırmak için SMTP eklentileri kullanılabilir.
</para></listitem></varlistentry><varlistentry>
<term>yanıt satırı</term><listitem><para>
Yanıt kodunu ve <literal>&lt;CRLF></literal>'yi içererek bir yanıt satırının toplam uzunluğu en çok 512 karakter olabilir. Daha fazla bilgi çok satırlı yanıtlarla taşınabilir.
</para></listitem></varlistentry><varlistentry>
<term>metin satırı</term><listitem><para>
<literal>&lt;CRLF></literal>'yi içererek bir metin satırının toplam uzunluğu en çok 1000 karakter olabilir (şeffaflık açısından uçlardaki nokta tekrarları sayılmaz). Bu miktar SMTP Hizmet Eklentileri kullanarak arttırılabilir.
</para></listitem></varlistentry><varlistentry>
<term>ileti içeriği</term><listitem><para>
<rfcmust>Bir ileti içeriğinin (ileti başlıklarını da içererek ileti gövdesinin) toplam uzunluğu hiç olmazsa (bari, en azından) [at least] 64K sekizli olmalıdır</rfcmust>. Çoklu ortam postası Genel Ağ standartlarına [<xref linkend="rfc2821-bib12"/>] girdiğinden beri, Genel Ağ'da ileti uzunlukları çarpıcı biçimde büyümektedir. Bu bakımdan ileti boyu sınırlamalarından mümkün olduğunca kaçınılmalıdır. <rfcshould>Sınırlamaları zorlamak isteyen SMTP sunucu sistemleri "BOYUT" hizmet eklentisini [<xref linkend="rfc2821-bib18"/>] gerçeklemelidir</rfcshould>.
</para></listitem></varlistentry><varlistentry>
<term>alıcılar tamponu</term><listitem><para>
Tamponlanması gereken alıcıların toplam sayısı en az 100 olabilir. 100 <command>RCPT</command> komutundan daha azından sonraki alıcılar için iletilerin reddedilmesi bu belirtime uyulmadığı anlamına gelir. Genelde prensip olarak, <rfcmust>röleleyen SMTP sunucuları için zorunlu olarak</rfcmust> ve <rfcshould>teslimat SMTP sunucuları için öneri olarak</rfcshould>, bir iletinin alıcılarının toplam sayısına bağlı olarak reddildiğini ima eden ileti başlıkları üzerinde doğrulama denemeleri yapılmaması gerekir. <rfcmust>Alıcı sayısına bir sınır koyan bir sunucu alıcıları sıralı bir tarzda ele almalı, örneğin, sınırı aşan adresleri reddetmeli ama evvelce kabul edilmiş adresleri sonraya kalmış gibi reddetme yoluna gitmemelidir</rfcmust>. Eğer sunucu tek bir iletide 100 alıcıdan fazlasını kabul etmeyi tavsatıyorsa, istemci, 100'den fazla <command>RCPT</command> komutu gerektiren bir iletinin teslimatını 100 alıcılık iletiler halinde yapmak için hazırlıklı olmalıdır.
</para></listitem></varlistentry></variablelist><para>
Bu sınırların aşılmasından dolayı oluşan hatalar yanıt kodları kullanılarak raporlanabilir. Bazı yanıt kodu örnekleri:
</para><para>
<screen>500 Satır çok uzun.</screen>
</para><para>veya</para><para>
<screen>501 Yol çok uzun</screen>
</para><para>veya</para><para>
<screen>452 Alıcılar çok fazla (aşağıya bakınız)</screen>
</para><para>ya da</para><para>
<screen>552 Posta verisi çok fazla.</screen>
</para><para>
RFC 821 [<xref linkend="rfc2821-bib30"/>] bir hatayı yanlış listelemiştir: <command>RCPT</command> komutlarının miktarıyla ilgili gerçeklenim sınırından dolayı yetersiz kalan bir SMTP sunucusunun hatayı ("Alıcılar çok fazla") '552 yanıt koduyla' bildireceği belirtilmiştir. Doğrusu '452 yanıt koduyla' olacaktır. <rfcshould>İstemciler bu durumda bir 552 yanıt kodunu kalıcı değil geçici bir hata durumu olarak ele almalıdırlar</rfcshould>, başarısızlık durumunda aşağıdaki mantık yürütülür.
</para><para>
Belirtimle uyumlu bir SMTP sunucusu bu durumu saptadığında, alıcılar tamponunda en azından 100 başarılı <command>RCPT</command> komutu var demektir. Sunucu iletiyi kabul edebilecekse, en azından 100 adres SMTP istemcisinin kuyruğundan silinmiş olacaktır. 452 yanıtı almış adresleri istemci yeniden aktarmaya çalışırsa, bunların en azından 100 tanesi SMTP sunucusunun alıcılar tamponuna sığabilecektir. Teslim edilecek ne varsa yeniden her aktarma çabasında bu alıcıların en azından 100 tanesinden kurtulmak mümkün olacaktır.
</para><para>
<rfcmust>Bir SMTP sunucusunun <command>RCPT</command> komutlarının sayısına bağlı bir gerçeklenim sınırı varsa ve bu sınıra ulaşılmışsa, sunucu 452 yanıt kodunu kullanmalıdır</rfcmust> (fakat, <rfcshould>istemci yukarıda belirtildiği gibi bir 552 yanıtına karşı da hazırlıklı olmalıdır</rfcshould>). <rfcmaybe>Eğer sunucu <command>RCPT</command> komutlarının sayısı ile ilgili kural olarak konmuş bir sınırlamaya (gerçeklenimin desteklediğinden az) göre hareket ediyorsa bir 5XX yanıt kodu da kullanabilir</rfcmaybe>. Eğer belli bir ileti gövdesi çok sayıda posta aktarımı ile gönderilmiş olsa bile o ileti için bir toplam alıcı sayısı sınırı uygulanabiliyorsa, böyle bir sınırlama en iyisi olurdu.
</para>
</sect4>
<sect4 xml:id="rfc2821-s4532"><title>Zamanaşımları</title>
<para>
<rfcmust>Her SMTP istemcisi bir zamanaşımı mekanizması sağlamalıdır</rfcmust>. <rfcmust>Bu mekanizma posta aktarımının tamamına bir şekilde uygulanabilen bir zamanaşımı değil her komut için ayrı ayrı uygulanabilen zamanaşımları kullanmalıdır</rfcmust>. <rfcshould>Zamanaşımları, tercihan SMTP kodunu yeniden derlemek gerekmeksizin, yeniden yapılandırılabilir olmalıdır</rfcshould>. Bunu gerçeklemek için, her SMTP komutu ve her veri aktarım tamponu için bir zamanlayıcı tahsis edilir. Sonuncusu, aktarımın bütününü kapsayan zamanaşımının ister istemez iletinin boyutuyla orantılı olduğu anlamına gelir.
</para><para>
<rfcshould>Meşgul posta röleleme konakları ile gerçekleştirilen kapsamlı deneyimlere dayanarak, komut başına asgari zamanaşımı değerleri şöyle olmalıdır</rfcshould>:
</para><glosslist><glossentry>
<glossterm>İlk 220 İletisi: 5 dakika</glossterm>
<glossdef><para>
Bir SMTP istemci sürecinin, başarısız bir TCP bağlantısı ile ilk 220 karşılama iletisinin gecikmesi arasındaki farkı ayrımsamaya ihtiyacı vardır. Çoğu SMTP sunucusu bir TCP bağlantısını kabul eder ama sistem yükü başka postaları da işleme almayı mümkün kılana kadar 220 iletisinin teslimatını geciktirir.
</para></glossdef></glossentry><glossentry>
<glossterm><command>MAIL</command> Komutu: 5 dakika</glossterm>
</glossentry><glossentry>
<glossterm><command>RCPT</command> Komutu: 5 dakika</glossterm>
<glossdef><para>
Postalama listelerinin ve takma adların işlenmesi iletinin kabulü sonrasına ertelenmiyorsa, daha uzun bir zamanaşımı gerekir.
</para></glossdef></glossentry><glossentry>
<glossterm><command>DATA</command> ilklendirme: 2 dakika</glossterm>
<glossdef><para>
Bu, <command>DATA</command> komutuna "354 Girdiyi Başlat" yanıtı beklenirken geçen süredir.
</para></glossdef></glossentry><glossentry>
<glossterm>Veri Bloku: 3 dakika</glossterm>
<glossdef><para>
Veri kısım kısım aktarılırken her TCP GÖNDER çağrısının tamamlanması için geçmesi beklenecek süredir.
</para></glossdef></glossentry><glossentry>
<glossterm><command>DATA</command> sonlandırma: 10 dakika.</glossterm>
<glossdef><para>
Bu, "250 OK" yanıtı beklenirken geçen süredir. Alıcı ileti verisini sonlandıran son noktayı aldığında, genellikle iletinin kullanıcının posta kutusuna teslimini gerçekleştirir. Bu noktada taklit bir zamanaşımı, ileti gönderilmiş ve sunucu teslimatın sorumluluğunu zaten kabul etmiş olduğundan çok yıkıcı olurdu ve genelde aynı iletinin çok sayıda kopyasının teslimi ile sonuçlanırdı. Bu konu ile ilgili olarak <xref linkend="rfc2821-s61"/> bölümüne de bakınız.
</para></glossdef></glossentry></glosslist><para>
<rfcshould>Bir SMTP sunucusu göndericiden gelecek bir sonraki komutu en az 5 dakika beklemelidir</rfcshould>.
</para>
</sect4>
</sect3>

<sect3 xml:id="rfc2821-s454"><title>Yanıt Stratejileri</title>
<para>
Bir konak SMTP gerçekleniminin bilinen yapısı kullanıcı posta kutuları, gelip geçen iletileri kuyruğa almak için bir veya daha fazla alan ile posta alımı ve gönderimi için çalışan bir veya daha fazla artalan sürecinden oluşur. Kesin yapı konak üzerindeki kullanıcıların ihtiyaçları ile konak tarafından desteklenen posta listelerinin boyutlarına ve sayısına bağlı olarak değişir. Özellikle yüksek trafik seviyelerini destekleyen postacılar için yardımcı olduğu kanıtlanmış çeşitli eniyilemeleri açıklayacağız.
</para><para>
<rfcmust>Her kuyruklama stratejisi her türlü etkinliğin zamanaşımını her komuta özel olarak ele almalıdır</rfcmust>. <rfcmust>Bir kuyruklama stratejisi ne olursa olsun hata iletilerine yanıt olarak hata iletileri göndermemelidir</rfcmust>.
</para>
<sect4 xml:id="rfc2821-s4541"><title>Gönderme Stratejisi</title>
<para>
Bir SMTP istemcisinin genel modeli giden postayı aktarmaya çalışan bir veya daha fazla süreçten oluşur. <rfcmust>Ortalama bir sistemde, bir iletiyi oluşturan program, hemen aktarılamayıp kuyruğa alınıp belirli aralıklarla tekrar gönderilmeye çalışılmalıyken</rfcmust>,  giden postanın yeni bir parçasının hemen dikkate alınmasını talep eden bir yönteme sahiptir. Bir posta kuyruğu girdisi iletinin kendisinden başka zarf bilgisini de içerecektir.
</para><para>
<rfcmust>Belli bir hedef için bir çaba başarısız olduktan sonra çabayı yinelemek için bir süre beklenmelidir</rfcmust>. Genelde, <rfcshould>yineleme aralığı en azından 30 dakika olmalıdır</rfcshould>; bununla birlikte, SMTP istemcisi teslimat yapılmaması için sebep saptayabildiği zaman, daha karmaşık ve değişken stratejilerin yararı olacaktır.
</para><para>
İleti aktarılana veya gönderici vazgeçene kadar yineleme devam eder; vazgeçme süresinin genelde en azından 4-5 gün olması gerekir. <rfcmust>Yineleme algoritmasının bağımsız değişkenleri yapılandırılabilir olmalıdır</rfcmust>.
</para><para>
<rfcshould>Bir istemci kuyruklu posta öğelerini salt tekrar göndermeye çalışmaktan çok, ulaşamadığı konakların ve ilgili bağlantı zamanaşımlarının bir listesini tutması gerekir</rfcshould>.
</para><para>
Deneyimler bu başarısızlıkların genellikle geçici olduğunu (hedef sistem ya da bağlantı çökmüştür), kuyruktaki iletiyi göndermek için ilk saatte iki, daha sonra ise iki veya üç saatte bir bağlantı kurmaya çalışmak şeklinde bir kuralın lehte olacağını göstermiştir.
</para><para>
SMTP istemcisi, SMTP sunucusu ile anlaşarak kuyruklama gecikmesini kısaltabilir. Örneğin, posta belli bir adresten alınmışsa, posta onu hemen gönderebilecek konak için kuyruğa alınmış gibi ele alınabilir. Bu prensibin uygulaması, çoğu durumda, ETRN [<xref linkend="rfc2821-bib9"/>] gibi apaçık bir "kuyruktakileri hemen gönder" işlevi için gereksinimi ortadan kaldırabilir.
</para><para>
Strateji, çok sayıda adresin her konak başına özkaynak kullanımını (teslimat zamanı gibi) eniyileme gereğinin bir sonucu olarak böyle değiştirilmiş olabilir.
</para><para>
Bir SMTP istemcisinin erişilemeyen hedef konakların her biri için dev bir ileti kuyruğu olabilir. Bu iletilerin tümü her yineleme döngüsünde yineleniyorsa, Genel Ağ'a haddinden fazla yük bindirebilir ve gönderen sistem uzun bir süre boyunca engellenebilir. Bir SMTP istemcisinin, bir teslimat çabasının başarısız olacağını, aynı konak için kuyruklanmış iletilerin düzinelerce hatta yüzlercesinin tekrar tekrar yinelenmesi halinde bağlantı başına bırakın bir kaç dakikalık sadece tek bir dakikalık zamanaşımının bile çok büyük bir gecikmeyle sonuçlanacağını saptayabileceğine dikkat ediniz.
</para><para>
Aynı zamanda, <rfcshould>SMTP istemcileri sunuculardan gelen olumsuz yanıtları arabelleğe alırken büyük dikkat sarfetmelidirler</rfcshould>. Çok uç bir durumda, aynı SMTP bağlantısı sırasında <command>EHLO</command> komutu defalarca kullanılmışsa, sunucudan farklı yanıtlar dönebilir. Daha manidar olarak, <rfcmust><command>MAIL</command> komutuna verilen <literal>5</literal><replaceable>yz</replaceable> yanıtları arabelleğe alınmamalıdır</rfcmust>.
</para><para>
<rfcshould>Bir posta iletisi çok sayıda alıcıya teslim edilecekse ve bunlardan bir kısmı tek bir SMTP sunucusundaysa, bu sunucuya iletinin sadece tek bir kopyası aktarılmalıdır</rfcshould>. Yani, SMTP istemcisi böyle bir komut dizisi yerine:
</para><para>
<command>MAIL</command>, <command>RCPT</command>, <command>DATA</command>, ..., <command>MAIL</command>, <command>RCPT</command>, <command>DATA</command>
</para><para>
böyle bir komut dizisini kullanmalıdır:
</para><para>
<command>MAIL</command>, <command>RCPT</command>, <command>RCPT</command>,... <command>RCPT</command>, <command>DATA</command>.
</para><para>
Yine de, <rfcmaybe>çok fazla adres varsa, <command>MAIL</command> komutu başına <command>RCPT</command> komutu sayısına bir sınırlama getirilebilir</rfcmaybe>. Bu verimli özelliğin gerçeklenmesi kesinlikle önerilmektedir.
</para><para>
Benzer şekilde, <rfcmaybe>teslimatlarda tam zamanındalığın sağlanması için, SMTP istemcisi aynı anda çok sayıda giden posta aktarımını destekleyebilir</rfcmaybe>. Bununla birlikte, bütün kaynakların postaya tahsis edilmesinden korunmayı sağlayacak bir sınırlama uygun olabilir.
</para>
</sect4>

<sect4 xml:id="rfc2821-s4542"><title>Alım Stratejisi</title>
<para>
<rfcshould>SMTP sunucusu her zaman SMTP portunu dinlemeyi sürdürmeye çalışmalıdır</rfcshould>. Bu, SMTP için gelen çok sayıda TCP bağlantısının desteklenmesini gerektirir. <rfcmaybe>Bazı sınırlar konulabilir</rfcmaybe>, fakat aynı anda birden fazla SMTP aktarımını kabul edemeyen sunucular bu belirtimin amacıyla uyumlu değildirler.
</para><para>
Yukarıda bahsedildiği gibi SMTP sunucu postayı belli bir konak adresinden almaktayken bu konak adresi için bekleyen bir postayı yineleyebilmek için kendi SMTP kuyruklama mekanizmasını etkinleştirebilir.
</para>
</sect4>
</sect3>

<sect3 xml:id="rfc2821-s455"><title>Dönüş yolu boş olan iletiler</title>
<para>
Mevcut standartlardan başka standart adayı belirtimlerin de gerektirdiği boş dönüş yolu ile gönderilecek çeşitli uyarı türleri vardır. Bunlar arasında <xref linkend="rfc2821-s37"/> bölümünde açıklanan "teslimatı yapılamayan posta" uyarısı iletisi, Teslimat Durum Bildirimleri (Delivery Status Notifications - DSN'ler) [<xref linkend="rfc2821-bib24"/>] ve İleti Elverişlilik Bildirimleri (Message Disposition Notifications - MDN'ler)[<xref linkend="rfc2821-bib10"/>] başlıcalarıdır. Tüm bu ileti çeşitleri önceki bir posta iletisi hakkında birer bildirimdirler ve önceki posta iletisinin dönüş yoluna gönderilirler. (Eğer böyle bir bildirim iletisi teslim edilemezse, bu, bildirim iletisinin adreslendiği konağın posta sistemi ile ilgili bir sorunun olduğunu gösterir. Bu sebeple bazı konaklarda MTA,  böyle başarısız bildirim iletilerinin sevkedileceği, posta sistemi ile ilgili sorunları giderebilen birilerine, örneğin, <literal>postmaster</literal> takma adı kullanılarak, yönlendirilmiş bir posta kutusuna sahiptir. )
</para><para>
<rfcshould>Tüm diğer ileti türleri (yani, boş bir dönüş yoluna sahip olması standartlaşma aşamalarındaki bir RFC tarafından gerekli görülmemiş her ileti), boş olmayan geçerli bir dönüş yolu ile gönderilmelidir</rfcshould>.
</para><para>
Özdevinimlileştirilmiş eposta işlemcilerinin gerçeklenimcileri boş dönüş yolu içeren ileti çeşitlerini işleme sokarken dikkatli olmalı, özellikle de <rfcshould>böyle sistemler boş dönüş yolu içeren iletileri yanıtlamamalıdırlar</rfcshould>.
</para>
</sect3>
</sect2>
</sect1>

<sect1 xml:id="rfc2821-s5"><title>Adres Çözümleme ve Posta Yönetimi</title>
<para>
<rfcmust>Bir SMTP istemcisi işlenmek üzere (<xref linkend="rfc2821-s36"/> ve <xref linkend="rfc2821-s37"/> bölümünde açıklandığı gibi) posta gönderebileceği bir alanı sözdizimsel olarak tanımladığında, alan adını çözümlemek için bir DNS sorgusu yapmalıdır</rfcmust> [<xref linkend="rfc2821-bib22"/>]. İsimlerin tam nitelikli alan adları (FQDN) olması beklenir: kısmi isimlerden veya yerel takma adlardan tam nitelikli alan adlarını elde etme mekanizmaları bu belirtimin kapsamı dışında olup, sorunlarla dolu bir geçmişten dolayı genellikle tavsiye edilmez. Sorgu öncelikle isimle ilişkili bir <literal>MX</literal> kaydı bulmak için yapılır. Eğer bunun yerine bir <literal>CNAME</literal> kaydı bulunursa, sonuçlanan isim bir ilk isimmiş gibi işleme sokulur. Eğer hiç <literal>MX</literal> kaydı bulunmaz da bir <literal>A</literal> kaydı bulunursa, <literal>A</literal> kaydı <literal>0</literal> tercihli örtük bir <literal>MX</literal> kaydı ile ilişkiliymiş gibi ele alınır. <rfcmust>Belirtilen isim için bir veya daha fazla <literal>MX</literal> kaydı bulunursa, <literal>MX</literal> kayıtlarında aynı isim belirtilmiş olmadıkça, SMTP sistemlerinin bu alan adıyla bir <literal>A</literal> kaydını ilişkilendirmemeleri gerekir</rfcmust>; yukarıdaki "örtük <literal>MX</literal>" kuralı sadece mevcut bir <literal>MX</literal> kaydının bulunmaması durumunda uygulanır. <rfcmust>Eğer <literal>MX</literal> kayıtları varsa, fakat hiçbiri kullanışlı değilse, bu durum bir hata olarak raporlanmalıdır</rfcmust>.
</para><para>
Sorgu başarılı olabilir ve çok sayıda <literal>MX</literal> kaydı, çok evlilik veya her ikisinin de varlığından dolayı tek bir adres yerine birbirlerinin yerlerine kullanılabilecek birden fazla adres içeren bir liste ile eşleşme sağlanabilir. <rfcmust>Güvenilir posta aktarımı sağlamak için SMTP istemcisi, başarılı bir teslimat gerçekleştirene kadar bu listedeki her adresi deneyebilmelidir (hatta tekrar tekrar)</rfcmust>. Yine de, <rfcmaybe>denenebilecek adres sayısı ile ilgili yapılandırılabilir bir sınır konulabilir</rfcmaybe>. Ancak ne olursa olsun, <rfcshould>SMTP istemcisinin en azından iki adresi denemesi gerekir</rfcshould>.
</para><para>
Konak adreslerinin sıralanmasında iki tür bilgi kullanılır: çoklu <literal>MX</literal> kaydı ve çok evli konaklar.
</para><para>
<rfcmust>Çoklu <literal>MX</literal> kaydı, sıralı erişilme gereğini</rfcmust> belirten bir tercih gösterimi içerir (aşağıya bakınız). Küçük sayılar büyüklere göre öncelik belirtir. <rfcmust>Aynı tercihe sahip birden fazla hedef varsa ve birinin tercih edilmesi için aleni bir sebep (örneğin, kolay erişilen bir adresin saptanması) yoksa, gönderici SMTP sisteminin yükü çok sayıda posta aktarımcısı arasında onlara özel bir örgütlenime göre dağıtması gerekir</rfcmust>.
</para><para>
Hedef konak (şüphesiz, tercihli bir <literal>MX</literal> kaydından alınmış olarak) çok evli olabilir, yani, alan adı çözümleyici aynı konak için hepsi birbirinin yerine kullanılabilen birden fazla IP adresi döndürebilir. Gerektiğinde listenin azalan tercihli sıralamaya tabi tutulması alan adı çözümleme arayüzünün sorumluluğundadır. <rfcmust>SMTP listeyi sunulduğu sıraya göre denemelidir</rfcmust>.
</para><para>
Birbirlerinin yerine kullanılabilen çok sayıda adresi deneyebilme yeterliliğinin gerekliliğinden dolayı, bazı kurulumlar bu tür adres kullanımını sınırlamak hatta tamamen iptal etmek isteyebilirler. Bir gönderici çok evli bir konağın farklı adreslerini kullanarak gönderiyi yinelemeli midir sorusu tartışmalıdır. Çok sayıda adres kullanımını savunanların ana bağımsız değişkeni zamanında teslimat olasılığını ve hatta bazan da herhangi bir teslimat olasılığını azamileştirmesidir; karşıtların bağımsız değişkeni ise, gereğinden fazla özkaynak kullanımına yolaçmasıdır. <xref linkend="rfc2821-s4541"/> bölümünde açıklanan gönderi stratejisi kullanılarak ek olarak özkaynak kullanımının da kesin olarak saptanabileceğini dikkatinize sunarız.
</para><para>
<rfcmaybe>Bir SMTP sunucusu, hedefi, tasarlanmış bir posta aktarımcısı (<literal>MX</literal>) olan bir ileti alırsa, iletiyi röleleyebilir</rfcmaybe> (mumtemelen <command>MAIL FROM</command> ve/veya <command>RCPT TO</command> adreslerini yeniden yazdıktan sonra), <rfcmaybe>iletinin son teslimatını yapabilir</rfcmaybe> ya da <rfcmaybe>SMTP dışı bir aktarım mekanizmasını kullanarak elden çıkarabilir</rfcmaybe>. Tabii ki, sonuncuya dahil olanların hiçbiri <literal>MX</literal> kayıtları listesinin bir şekilde incelenmesini gerektirmez.
</para><para>
<rfcmust>Eğer iletinin, adresler yeniden yazılmaksızın rölelenmesi gerektiği saptanırsa, teslimat adaylarını saptamak için <literal>MX</literal> kayıtlarının sıralanması gerekir</rfcmust>. En küçük numaralı kayıt en tercihli kayıt olmak üzere kayıtlar önce tercih sırasına sokulur. Röleleme konağı daha sonra bu listeyi posta aktarımı yapılabilecek isim ve adresleri saptamak için inceler. <rfcmust>Bir eşleşen kayıt bulunursa, tercih seviyesindeki ve daha yüksek numaralı tercihlere sahip tüm kayıtlar gözden çıkarılmalıdır</rfcmust>. <rfcmust>Bu noktada hiçbir kayıt kalmazsa, bu bir hata durumudur ve ileti teslim edilemediği gerekçesiyle geri gönderilmelidir</rfcmust>. <rfcshould>Eğer elde kayıt kalırsa, bunlar yukarıda açıklandığı gibi en tercihlisinden başlanarak denenmelidir</rfcshould>.
</para>
</sect1>

<sect1 xml:id="rfc2821-s6"><title>Sorun Saptama ve Giderme</title>
<sect2 xml:id="rfc2821-s61" chunkthis="1">
<title>Güvenilir Teslimat ve Eposta Yanıtları</title>
<para>
Alıcı SMTP bir posta parçasını kabul etmekle (<command>DATA</command> komutuna yanıt olarak bir "250 OK" iletisi göndererek), iletinin teslimat veya röleleme sorumluluğunu kabul etmiş olur. Bu sorumluluğu ciddiyetle ele alması gerekir. <rfcmust>İletiyi konağın sonradan bozulması veya önceden kestirilebilir kaynak kıtlığı gibi sudan sebeplerle kaybetmemelidir</rfcmust>.
</para><para>
<rfcmust>Bir iletinin kabulü sonrası bir teslimat başarısızlığı olursa, alıcı SMTP'nin bir bildirim iletisi oluşturup postalaması gerekir</rfcmust>. <rfcmust>Bu bildirim zarfta boş ("&lt;>") dönüş yolu kullanılarak gönderilmelidir</rfcmust>. <rfcmust>Bu bildirimin alıcısının adresi zarf dönüş yolundan (veya <literal>Return-Path:</literal> satırından) elde edilmelidir</rfcmust>. <rfcmust>Ancak, bu adres boşsa ("<literal>&lt;></literal>"), alıcı SMTP bir bildirim göndermemelidir</rfcmust>. Açıkça, bu bölümdeki hiçbir şey günlük tutma ile ilgili yerel kararları (alıcı SMTP ile aynı sistem ortamının parçası olarak) yasaklayamaz, yasaklamamalıdır da, aksi takdirde boş adres olayları hakkında bilgi yerel olarak aktarılır, eğer istenen buysa. <rfcmust>Eğer adres açık bir kaynak rotası ise, son sekmesine indirgenmelidir</rfcmust>.
</para><para>Örneğin,</para><para>
<screen>
<command>MAIL </command>FROM:&lt;@a,@b:kullanıcı@d>
</screen>
</para><para>
ile gelen bir ileti için bir hata bildirimi gönderilmesi gerektiğini varsayalım. <rfcmust unsigned="">Bildirim iletisinin</rfcmust>
</para><para>
<screen>
<command>RCPT </command>TO:&lt;kullanıcı@d>
</screen>
</para><para>
<rfcmust>kullanılarak gönderilmesi gerekir</rfcmust>. İleti SMTP tarafından kabul edildikten sonraki bazı teslimat başarısızlıkları kaçınılmaz olacaktır. Örneğin, <command>RCPT</command> komutlarındaki tüm teslimat adreslerinin doğrulanması alan SMTP sunucusu için imkansız olabilir; bunun sebebi, bir "yazılımsal" alan adı sistemi hatası olabileceği gibi hedefin bir posta listesi olması (<command>RCPT</command> ilk açıklamalarına bakınız) veya sunucunun bir röle olarak davranmasından dolayı teslimat sistemine doğrudan erişilememesi olabilir.
</para><para>
<rfcmust>Zamanaşımlarının bir sonucu olarak yinelenmiş iletilerin alınmasından kaçınmak için alıcı SMTP, son <literal>&lt;CRLF>.&lt;CRLF></literal> veri sonu belirtecine yanıt için gereken süreyi en aza indirecek çalışmayı yapmalıdır</rfcmust>. Bu sorunun daha ayrıntılı bir açıklaması için  RFC 1047'ye [<xref linkend="rfc2821-bib28"/>] bakınız.
</para>
</sect2>

<sect2 xml:id="rfc2821-s62" chunkthis="1"><title>Döngü Algılama</title>
<para>
Bir iletideki "<literal>Received:</literal>" başlıklarının basitçe sayılması her zaman en iyisi olmasa da posta sistemlerinde döngülerin saptanması için etkin bir yoldur. <rfcshould>Bu tekniği kullanan SMTP sunucuları en azından 100 "<literal>Received:</literal>" girdilik büyükçe bir red eşiği kullanmalıdırlar</rfcshould>. <rfcmust>Hangi mekanizma kullanılırsa kullanılsın, sunucular gereksiz döngüleri algılamak ve durdurmak için hazırlıklı olmalıdırlar</rfcmust>.
</para>
</sect2>

<sect2 xml:id="rfc2821-s63" chunkthis="1">
<title>Düzensizliklerin Giderilmesi</title>
<para>
Şanssızlık eseri, Genel Ağ posta protokolleri ile ilgili çeşitlemeler, yaratıcı yorumlar ve açıkça ihlaller ortaya çıkar; bazıları bunların o kadar sık görülmediğini söyler. İyi bir SMTP alıcısı veya rölesi, bozuk bir iletiyi red mi etmeli, hiçbir değişiklik yapmadan geçirmeye mi çalışmalı yoksa başarılı bir teslimat veya yanıt şansını arttırmak için onarmaya mı çalışmalı tartışmaları yapısal ağ postasının ortaya çıkışı ile başladı ve bitecek gibi de görünmemektedir. Red yanlıları onarmaya çalışmanın herzaman yeterli olmadığını ve hatalı iletilerin reddedilmesinin yazılımın tamirinde tek çözüm olduğunu iddia ederler. "Tamir et" veya "ne olursa olsun teslim et" yanlıları ise kullanıcıların postanın eğer olabilirse iletilmesi gerektiğini düşündüklerini ve bu yönde önemli piyasa baskısı olduğunu söyleyip karşı çıkarlar. Uygulamada, bu piyasa baskıları belirli satıcılar için asıl geliştiricilerin tercihlerine bakmaksızın, standartlara kesinlikle uymaya çalışmaktan daha önemli olabilir.
</para><para>
Hatalı biçimlenmiş iletilerle ilgili sorunlar ayrık posta okuma protokollerinin [<xref linkend="rfc2821-bib3"/>, <xref linkend="rfc2821-bib26"/>, <xref linkend="rfc2821-bib5"/>, <xref linkend="rfc2821-bib21"/>] ortaya çıkışı ile iyice arttı. Bu protokoller SMTP'yi postalama protokolü olarak ve SMTP sunucularını da bu istemci konaklar (sıkça ama aralıklarla Genel Ağ'a bağlanan konaklar) için röleleme sistemleri olarak kullanmayı teşvik etti. Geçmişe baktığımızda, bu istemci makinelerin çoğunun SMTP tarafından varsayılan bazı bilgilere ve mekanizmalara (ve tabii, posta biçimleme protokolüne [<xref linkend="rfc2821-bib7"/>]) ihtiyaç duyduklarını görürüz. Bazıları zamanı yeterince takip edemedi; bazıları zaman dilimleri kavramından habersizdi; bazıları hala isim ve adreslerini tanımlayamıyor; ve, tabii ki hiçbiri RFC 822'nin kimlik kanıtlamalı adresler kavramının dayandığı öngereklilikleri sağlayamadı.
</para><para>
Bu zayıf SMTP istemcilerine yanıt olarak, artık bir çok SMTP sistemi kendilerine eksik veya yanlış biçimlenmiş olarak teslim edilen iletileri tamamlamaktalar. Bu strateji, sunucu istemciyi tanıdığında veya kimliğini kanıtlamasını istediğinde ve aralarında ön anlaşmalar olduğunda genellikle doğru sayılır. Karşıt olarak, en büyük endişe, kullanıcı veya istemci makinesi hakkında çok az bilgisi olan veya hiç bilgisi olmayan bir röle veya teslimat SMTP sunucusu tarafından uygulanan düzeltmelerle ilgilidir.
</para><para>
<rfcmaybe>Aşağıdaki değişiklikler işlenmekte olan bir iletiye, gerek oluşturucu gerekse SMTP'nin ilk postalama protokolü hedefi olarak kullanıldığı SMTP sunucusu tarafından uygulanabilir</rfcmaybe>.
</para><itemizedlist><listitem>
<literal>message-id</literal> alanının yokluğu halinde eklenmesi
</listitem><listitem>
tarih, saat ve zaman dilimi bilgilerinin yokluğu halinde eklenmesi
</listitem><listitem>
adreslerin doğru FQDN biçimine getirilmesi
</listitem></itemizedlist><para>
Sunucunun istemci hakkında ne kadar az bilgisi olursa, bu değişiklikler o kadar az doğru olur ve düzeltmelerin yapılıp yapılmaması veya nasıl yapılması gerektiği ele alınırken daha fazla dikkat ve tutarlılık gösterilmesi gerekir. <rfcmust>Bu değişiklikler ara röleleme işlemi yapan SMTP sunucuları tarafından uygulanmamalıdır</rfcmust>.
</para><para>
Her durumda, doğru bilgi sağlayarak düzgün işleyen istemciler, SMTP sunucuları tarafından düzeltmeler bakımından tercih edilirler. Tüm durumlarda, sunucular tarafından yapılan hareketlerin mutlaka belgelenmesi (izleme alanları ve/veya başlık yorumlarında) önerilir.
</para>
</sect2>
</sect1>

<sect1 xml:id="rfc2821-s7"><title>Güvenlik Kaygıları</title>
<sect2 xml:id="rfc2821-s71" chunkthis="1">
<title>Posta Güvenliği ve Yanıltma</title>
<para>
SMTP postası doğal olarak güvensizdir, öyle ki ilgisiz kullanıcılar bile alıcı ve röle SMTP sunucuları ile doğrudan haşır neşir olabilirler ve  saf/toy/taze bir alıcıyı başka bir yerden gelmiş gibi görünen iletiler gönderip kandırabilirler. Böyle bir iletinin "yanıltıcı" davranışının bir uzman tarafından tespit edilemeyecek şekilde oluşturulması biraz zordur, ama bilgili ve kararlı birini caydıracak kadar değil. Sonuçta, Genel Ağ posta bilgisinin artışına bağlı olarak, SMTP postasının aktarım seviyesinde doğal olarak kimlik kanıtlamalı olamayacağı veya bütünlük sınamalarının yapılamayacağı ortaya çıktı. Gerçek posta güvenliği sadece uç noktalarda ileti gövdesinin incelenmesiyle (örn, sayısal imzalar) sağlanabilir (bkz, PGP [<xref linkend="rfc2821-bib4"/>], S/MIME [<xref linkend="rfc2821-bib31"/>]).
</para><para>
Aktarım seviyesinde (yani, SMTP istemcisinden SMTP sunucusuna aktarımda) kimlik kanıtlaması sağlayan çeşitli protokol eklentileri ve yapılandırma seçenekleri yukarıda açıklanan geleneksel durumu biraz düzeltebilir. Yine de, dikkatle tasarlanmış bir güvenlik ortamının sorumluluğu bunlara aynı dikkatle eşlik etmedikçe, aktarım sisteminin bütünlüğüne bağlı kalmaktansa sayısal imzalı iletileri kullanan uçtan uca mekanizmalardan doğal olarak daha zayıf kalacaklardır.
</para><para>
Zarf dönüş yolunu ve başlık "From" alanlarını kendilerininkinden farklı olarak doğru bir adresi gösterecek şekilde ayarlamayı kullanıcılar için daha zor hale getirme çabaları amacından epeyce saptırılmıştır: bir kullanıcı tarafından bir başkası yararına posta gönderimi veya özel bir adrese yönlendirilmesi gereken hata (veya normal) yanıtların gönderimi şeklindeki meşru uygulamaları boşa çıkarmışlardır. (Her iletiye özel olmak üzere kullanıcılarına bu alanları değiştirebilme imkanı sunan sistemler, ileti verisi içindeki gönderici alanlarının hassas bir şekilde üretilebilmesi için kullanıcıya bir birincil ve kalıcı posta kutusu adresi sağlamaya çalışmalıdırlar.)
</para><para>
Bu belirtim, sahte posta göndermeye çalışan görgüsüz bir kullanıcıya karşı küçük bir koruma sağlayacağını umarak bu faydalı işlevselliğin iptal edilmemesini savunmak dışında, SMTP ile ilgili kimlik kanıtlama konularının adresi değildir.
</para>
</sect2>

<sect2 xml:id="rfc2821-s72" chunkthis="1"><title>"Gizli" Kopyalar</title>
<para>
İleti başlıklarında görünmeyen adresler bir SMTP sunucusunda <command>RCPT</command> komutlarında şu veya bu sebeple görünebilir. En çok karşılaşılan ikisi bir posta adresinin bir "liste patlatıcısı" olarak kullanımı (tek bir adres çok sayıda adres olarak çözümlenir) ile "gizli kopya" varlığıdır. <rfcshould>Özellikle birden fazla <command>RCPT</command> komutunun varlığında ve bu mekanizmaların bazı amaçlarını da yok etmemek için, ister izleme başlıklarının parçası olarak ister bilgilendirici ya da özel eklenti başlıkları olarak, SMTP istemcileri ve sunucuları <command>RCPT</command> komutlarının bağımsız değişkenlerinin tamamını başlıklara kopyalamamalıdırlar</rfcshould>. <rfcmaybe>Bu kural uygulamada sıkça ihlal edildiğinden, "<literal>bcc</literal>" kullanmayı bilen gönderici SMTP sistemleri her gizli kopyayı tek bir <command>RCPT</command> komutu içeren ayrı bir ileti aktarımında göndermeleri daha yararlıdır</rfcmaybe>.
</para><para>
SMTP aktarımındaki ("zarf") ve başlıklardaki ne "dönüş" adresleri (<command>MAIL</command>, <command>SAML</command>, vs. komutlarındaki) ne de "sevk" adresleri (<command>RCPT</command> komutlarındaki) arasında doğal bir ilişki vardır. <rfcshould>Alıcı sistemler böyle ilişkileri ortaya çıkarmaya ve teslimat için onları ileti başlıklarını değiştirmekte kullanmaya çalışmamalıdırlar</rfcshould>. <rfcshould>Güncel olan "Apparently-to" başlığı bir kasıtsız bilgi ifşasının genel kaynağı olarak bu prensibin ihlalidir ve kullanılmamalıdır</rfcshould>.
</para>
</sect2>

<sect2 xml:id="rfc2821-s73" chunkthis="1"><title>
<literal>VRFY, EXPN</literal> ve Güvenlik</title>
<para>
<xref linkend="rfc2821-s35"/> bölümünde bahsedildiği gibi bağımsız bazı siteler güvenlik kaygılarıyla <command>VRFY</command> veya <command>EXPN</command> komutunu veya her ikisinide iptal etmek isteyebilirler. Yukarıda bahsedilenin doğal sonucu olarak, <rfcmust>buna izin veren gerçeklenimler aslında doğrulamadıkları halde adresleri doğrulamış gibi görünmemelidirler</rfcmust>. <rfcmust>Eğer bir site bu komutları güvenlik nedenleriyle iptal ederse, SMTP sunucu başarılı veya başarısız doğrulama ile karıştırılabilecek bir yanıt kodu kullanmak yerine bir 252 yanıtı döndürmelidir</rfcmust>.
</para><para>
Sadece sözdizimsel olarak kontrol ettikten sonra <command>VRFY</command> komutundaki adresi içeren bir 250 yanıtı döndürmek bu kuralı ihlal eder. Şüphesiz, <command>VRFY</command> komutunu, adres geçerli olsun olmasın daima 550 yanıtı döndürerek destekleyen bir gerçeklenim de aynı uyumlulukta değildir.
</para><para>
Son bir kaç yıldır, posta listelerinin içeriği "spamcılar" denen kitle için bir adres bilgi kaynağı haline geldi. Liste yöneticileri listelerin kendilerini uygunsuz kullanımına karşı korumak üzere önlemler aldıkça "adres hasadı"nda <command>EXPN</command> kullanımı arttı. <rfcshould>Gerçeklenimler <command>EXPN</command> desteğini yine de sağlamalı</rfcshould>, fakat <rfcshould>siteler karşılıklı tavizleri dikkatle değerlendirmelidirler</rfcshould>. Kimlik kanıtlama mekanizmaları SMTP'ye tanıtıldıkça, bazı siteler <command>EXPN</command>'yi sadece kimliğini kanıtlayan istekçilere kullanılabilir kılmayı seçebilir.
</para>
</sect2>

<sect2 xml:id="rfc2821-s74" chunkthis="1">
<title>Duyurularda Bilgi İfşası</title>
<para>
Karşılama yanıtlarında ya da <command>HELP</command> komutunun yanıtında sunucu türünü ve sürümünü (hatta bazan alan adını) duyurmanın hata ayıklamaya getirileri ile olası bir düşmanca saldırı için kullanışlı olabilecek bilgiyi açığa çıkarmasının götürüleri arasındaki ödünleşimler hakkında süregiden bir tartışma yaşanmıştı. Hata ayıklama bilgisinin faydası şüphe götürmez. Bu bilginin duyurulmasını isteyen kişiler bir SMTP sunucusunu gerçekten güvenli kılmanın, sunucunun kimliğini saklayarak bilinen savunmasızlıkların gizleneceğini ummaktan daha iyi olduğu noktasına dikkat çekerler. Sitelerin bu durumu akılda bulundurarak ödünleşime değer biçmeleri (neye taviz vereceklerine karar vermeleri) tavsiye edilir; gerçeklenimlerin diğer ağ konaklarına tür ve sürüm bilgilerini asgari düzeyde bile olsa bir şekilde erişilebilir kılmaya çalışmaları kesinlikle tavsiye edilmektedir.
</para>
</sect2>

<sect2 xml:id="rfc2821-s75" chunkthis="1">
<title>İzleme Alanlarında Bilginin İfşası</title>
<para>
Postanın konakları doğrudan Genel Ağ'a bağlı olmayan bir yerel ağdan kaynaklanması gibi durumlarda, bu belirtimle uyumlu olarak üretilmiş izleme ("<literal>Received</literal>") alanları, konak isimlerinin ve normalde erişilir olmayan benzeri bilgilerin ifşasına sebep olabilir. Bu sıradan bir durum olarak bir sorun teşkil etmese de isim ifşası ile özel ilgisi olan sitelerin bundan haberleri olması gerekir. Ayrıca, birden fazla alıcı olduğu durumda <literal>FOR</literal> cümleciği dikkatli kullanılmalıdır, aksi taktirde "gizli kopya" alıcılarının diğerlerine görünür hale gelmesine yol açılabilir.
</para>
</sect2>

<sect2 xml:id="rfc2821-s76" chunkthis="1">
<title>İleti Yönlendirmede Bilginin İfşası</title>
<para>
<xref linkend="rfc2821-s34"/> bölümünde açıklandığı gibi, bir posta kutusuyla ilişkilendirilmiş sevk yolu adresini tanımlamak için 251 veya 551 yanıt kodlarının kullanımı hassas bilgilerin açığa çıkmasına yol açabilir. Bu gibi durumlardan endişe duyan siteler, sunucuları buna uygun seçip yapılandırdıklarından emin olmalıdırlar.
</para>
</sect2>

<sect2 xml:id="rfc2821-s77" chunkthis="1">
<title>SMTP Sunucularının Harekat Alanı</title>
<para>
Sunucuyu sağlayan siteye mantıklı gelen herhangi bir işlemsel veya teknik sebep yüzünden bir SMTP sunucunun posta alımını reddetmesi iyice oturmuş bir prensiptir. Bununla birlikte, Genel Ağ, siteler ve tesisler arasındaki işbirliği ile mümkün olur. Siteler trafiği reddetmenin yararlarından aşırı yararlanmaya kalkarlarsa, epostanın yaygın olarak kullanılabilirliği (Genel Ağ'ın güçlü yanlarından biri) giderek azalmaya başlayacaktır; eğer bir site kabul edip işleyeceği trafikte seçici  olmaya karar verirse çok dikkatli olunmalı ve denge sağlanmalıdır.
</para><para>
Son yıllarda, postanın kaynaklandığı yeri gizlemek için röleleme işlevi düşmanca bir çababanın bir parçası olarak rasgele sitelerde kullanıldı. <rfcshould>Bazı siteler kaynakları tanımlayabilmek ve bilmek için röleleme işlevinin kısıtlanmasına ve gerçeklenimlerin bu tür filtreleme yapabilme kabiliyetinde olması gerektiğine</rfcshould> karar verdiler. <rfcshould>Posta bu veya başka bir kural sebebiyle reddedildiğinde, <command>EHLO</command>, <command>MAIL</command> veya uygunsa <command>RCPT</command>'e yanıt olarak bir 550 kodu kullanılmalıdır</rfcshould>.
</para>
</sect2>
</sect1>

<sect1 xml:id="rfc2821-s8"><title>IANA Değerlendirmeleri</title>
<para>
IANA bu belirtimi desteklemek için üç kayıt alanı sağlar. İlki anahtar kelimeler ve gerektikçe, bağımsız değişkenler ve fiiller ile ilişkili SMTP hizmet eklentilerinden oluşur. <xref linkend="rfc2821-s222"/> bölümünde belirtildiği gibi bu kayıt alanında "X" ile başlayan hiçbir girdi yapılmaz. Girdiler sadece IESG tarafından özellikle bu amaç için onaylanmış deneysel RFC'ler veya standartlaşma aşamalarındaki RFC'lerde tanımlanan hizmet eklentileri (ve ilişkili anahtar kelimeler, bağımsız değişkenler veya fiiller) için yapılabilir.
</para><para>
İkinci yazmaç, IPv4 (RFC 821'de ve bu belgede belirtildi) ve IPv6 (bu belgede belirtildi) adresler için olanlar hariç, alan sabitlerinin biçimlerini tanımlayan "yaftalardan" oluşur. Ek sabit türleri kullanım öncesi standartlaşım gerektirir; şimdilik böyle birşey yoktur.
</para><para>
RFC 821 tarafından kurgulanan ve bu belirtimle yenilenen üçüncüsü, <xref linkend="rfc2821-s44"/> bölümünde bahsedilen zaman damgasının ("<literal>Received:</literal>' başlığı) "<literal>via</literal>" ve "<literal>with</literal>" alt cümlecikleri ile kullanılacak bağ ve protokol betimleyicilerin bir kaydıdır. Bu belgede belirtilenlere ek olarak bağ ve protokol betimleyiciler sadece standartlaşarak veya bir RFC'de belgelenmiş IESG onaylı bir deneysel protokol eklentisi yoluyla kayıt altına alınabilir.
</para>
</sect1>

<sect1 xml:id="rfc2821-s9"><title>Kaynakça</title>
<orderedlist><listitem><para>
<biblioentry xreflabel="1" xml:id="rfc2821-bib1">
<abbrev>X3.4</abbrev>
<author><firstname>V. Cerf ve R. Kahn</firstname></author>
<title>X3.4, 1968, USA Code for Information Interchange</title>
<edition>(Bilgi değişimi için ABD kodu) ANSI X3.4-1968 arasıra yapılan değişikliklerle yeni sürümleriyle değiştirilmiştir ama 1968 sürümü Genel Ağ için tanımlayıcı olarak kalmıştır.</edition>
<publisher><publishername>Amerikan Ulusal Standartları Enstitüsü (eski adıyla, Amerika Birleşik Devletleri Standartları Enstitüsü)</publishername></publisher>
<pubdate>Mayıs 1974</pubdate>
</biblioentry>
</para></listitem><listitem><para>
<biblioentry xreflabel="2" xml:id="rfc2821-bib2">
<abbrev><link linkend="rfc1123">RFC1123</link></abbrev>
<author><surname>Braden</surname><firstname>R.</firstname></author>
<title>STD 3, Requirements for Internet hosts - application and support</title>
<edition>Genel Ağ konakları için gereksinimler - uygulama ve destek</edition>
<pubdate>Ekim 1989</pubdate>
</biblioentry>
</para></listitem><listitem><para>
<biblioentry xreflabel="3" xml:id="rfc2821-bib3">
<abbrev><link linkend="rfc937">RFC937</link></abbrev>
<author><firstname>M. Butler, D. Goldberger,J. Postel ve J.Reynolds</firstname></author>
<title>Posta Office Protocol - version 2</title>
<edition>Postane Protokolü -2. sürüm (POP2)</edition>
<pubdate>Şubat 1985</pubdate>
</biblioentry>
</para></listitem><listitem><para>
<biblioentry xreflabel="4" xml:id="rfc2821-bib4">
<abbrev><link linkend="rfc2440">RFC2440</link></abbrev>
<author><firstname>J. Callas, L. Donnerhacke, L. Finney, H. ve R. Thayer</firstname></author>
<title>OpenPGP Message Format</title>
<edition>OpenPGP İleti Biçimi</edition>
<pubdate>Kasım 1998</pubdate>
</biblioentry>
</para></listitem><listitem><para>
<biblioentry xreflabel="5" xml:id="rfc2821-bib5">
<abbrev><link linkend="rfc1176">RFC1176</link></abbrev>
<author><firstname>M. Crispin</firstname></author>
<title>Interactive Mail Access Protocol - Version 2</title>
<edition>Etkileşimli Posta Erişim Prokotolü - 2. sürüm</edition>
<pubdate>Ağustos 1990</pubdate>
</biblioentry>
</para></listitem><listitem><para>
<biblioentry xreflabel="6" xml:id="rfc2821-bib6">
<abbrev><link linkend="rfc2060">RFC2060</link></abbrev>
<author><firstname>M. Crispin</firstname></author>
<title>Internet Message Access Protocol - Version 4</title>
<edition>Genel Ağ İleti Erişim Prokotolü - 4. sürüm (IMAP4)</edition>
<pubdate>Aralık 1996</pubdate>
</biblioentry>
</para></listitem><listitem><para>
<biblioentry xreflabel="7" xml:id="rfc2821-bib7">
<abbrev><link linkend="rfc822">RFC822</link></abbrev>
<author><firstname>D. Crocker</firstname></author>
<title>Standard for the Format of ARPA Internet Text Messages</title>
<edition>ARPA Genel Ağ Metin İletilerinin Biçimi için Standart</edition>
<pubdate>Ağustos 1982</pubdate>
</biblioentry>
</para></listitem><listitem><para>
<biblioentry xreflabel="8" xml:id="rfc2821-bib8">
<abbrev><link linkend="rfc2234">RFC2234</link></abbrev>
<author><firstname>D. Crocker ve P. Overell</firstname></author>
<title>Augmented BNF for Syntax Specifications: ABNF</title>
<edition>Sözdizimi Belirtimleri için Arttırımlı BNF: ABNF</edition>
<pubdate>Kasım 1997</pubdate>
</biblioentry>
</para></listitem><listitem><para>
<biblioentry xreflabel="9" xml:id="rfc2821-bib9">
<abbrev><link linkend="rfc1985">RFC1985</link></abbrev>
<author><firstname>J. De Winter</firstname></author>
<title>SMTP Service Extension for Remote Message Queue Starting</title>
<edition>Uzaktan İleti Kuyruklamaya Başlamak için SMTP Hizmet Eklentisi</edition>
<pubdate>Ağustos 1996</pubdate>
</biblioentry>
</para></listitem><listitem><para>
<biblioentry xreflabel="10" xml:id="rfc2821-bib10">
<abbrev><link linkend="rfc2298">RFC2298</link></abbrev>
<author><firstname>R. Fajman</firstname></author>
<title>An Extensible Message Format for Message Disposition Notifications</title>
<edition>İleti Elverişlilik Bildirimleri için Gelişletilebilir İleti Biçimi</edition>
<pubdate>Mart 1998</pubdate>
</biblioentry>
</para></listitem><listitem><para>
<biblioentry xreflabel="11" xml:id="rfc2821-bib11">
<abbrev><link linkend="rfc2979">RFC2979</link></abbrev>
<author><firstname>N. Freed</firstname></author>
<title>Behavior of and Requirements for Internet Firewalls</title>
<edition>Genel Ağ Güvenlik Duvarları için Davranışlar ve Gereksinimler</edition>
<pubdate>Ekim 2000</pubdate>
</biblioentry>
</para></listitem><listitem><para>
<biblioentry xreflabel="12" xml:id="rfc2821-bib12">
<abbrev><link linkend="rfc2045">RFC2045</link></abbrev>
<author><firstname>N. Freed ve Borenstein</firstname></author>
<title>Multipurpose Internet Mail Extensions (MIME) Part One: Format of Internet Message Bodies</title>
<edition>Çok Amaçlı Genel Ağ Posta Eklentileri (MIME) Birinci Kısım: Genel Ağ İleti Gövdeleri</edition>
<pubdate>Aralık 1996</pubdate>
</biblioentry>
</para></listitem><listitem><para>
<biblioentry xreflabel="13" xml:id="rfc2821-bib13">
<abbrev><link linkend="rfc2920">RFC2920</link></abbrev>
<author><firstname>N. Freed</firstname></author>
<title>SMTP Service Extension for Command Pipelining</title>
<edition>Komut Borulama için SMTP Hizmet Eklentisi</edition>
<pubdate>Eylül 2000</pubdate>
</biblioentry>
</para></listitem><listitem><para>
<biblioentry xreflabel="14" xml:id="rfc2821-bib14">
<abbrev><link linkend="rfc1847">RFC1847</link></abbrev>
<author><firstname>J. Galvin, S. Murphy, S. Crocker, S. ve N. Freed</firstname></author>
<title>Security Multiparts for MIMH:  Multipart/Signed and Multipart/Encrypted</title>
<edition>MIMH için Çok Parçalı Güvenliği: Çok Parçalı/İmzalı ve Çok Parçalı/Şifreli</edition>
<pubdate>Ekim 1995</pubdate>
</biblioentry>
</para></listitem><listitem><para>
<biblioentry xreflabel="15" xml:id="rfc2821-bib15">
<abbrev><link linkend="rfc2476">RFC2476</link></abbrev>
<author><firstname>R. Gellens ve J. Klensin</firstname></author>
<title>Message Submission</title>
<edition>İleti Teslimatı</edition>
<pubdate>Aralık 1998</pubdate>
</biblioentry>
</para></listitem><listitem><para>
<biblioentry xreflabel="16" xml:id="rfc2821-bib16">
<abbrev><link linkend="rfc2156">RFC2156</link></abbrev>
<author><firstname>S. Kille</firstname></author>
<title>Mapping between X.400 and RFC822/MIME</title>
<edition>X.400 ve RFC822/MIME arasındaki Uyum</edition>
<pubdate>Ocak 1998</pubdate>
</biblioentry>
</para></listitem><listitem><para>
<biblioentry xreflabel="17" xml:id="rfc2821-bib17">
<abbrev><link linkend="rfc2373">RFC2373</link></abbrev>
<author><firstname>R. Hinden ve S. Deering</firstname></author>
<title>IP Version 6 Addressing Architecture"</title>
<edition>IPv6 Adreleme Mimarisi</edition>
<pubdate>Temmuz 1998</pubdate>
</biblioentry>
</para></listitem><listitem><para>
<biblioentry xreflabel="18" xml:id="rfc2821-bib18">
<abbrev><link linkend="rfc1870">RFC1870</link></abbrev>
<author><firstname>J. Klensin, N. Freed ve K. Moore</firstname></author>
<title>STD 10, SMTP Service Extension for Message Size Declaration</title>
<edition>İleti Boyu Bildirimi için SMTP Hizmet Eklentisi</edition>
<pubdate>Kasım 1995</pubdate>
</biblioentry>
</para></listitem><listitem><para>
<biblioentry xreflabel="19" xml:id="rfc2821-bib19">
<abbrev><link linkend="rfc1869">RFC1869</link></abbrev>
<author><firstname>J. Klensin, N. Rose, M. Stefferud, E. ve K. Crocker</firstname></author>
<title>STD 10, SMTP Service Extensions</title>
<edition>SMTP Hizmet Eklentileri Standardı</edition>
<pubdate>Kasım 1995</pubdate>
</biblioentry>
</para></listitem><listitem><para>
<biblioentry xreflabel="20" xml:id="rfc2821-bib20">
<abbrev><link linkend="rfc1652">RFC1652</link></abbrev>
<author><firstname>J. Klensin, N. Rose, M. Stefferud, E. ve K. Crocker</firstname></author>
<title>SMTP Service Extension for 8bit-MIMEtransport</title>
<edition>8bitlik MIME aktarımı için SMTP Hizmet Eklentisi</edition>
<pubdate>July 1994</pubdate>
</biblioentry>
</para></listitem><listitem><para>
<biblioentry xreflabel="21" xml:id="rfc2821-bib21">
<abbrev><link linkend="rfc1056">RFC1056</link></abbrev>
<author><firstname>M. Lambert</firstname></author>
<title>PCMAIL: A distributed mail system for personal computers</title>
<edition>PCMAIL: Kişisel Bilgisayarlar için Dağıtık Posta Sistemi</edition>
<pubdate>Temmuz 1988</pubdate>
</biblioentry>
</para></listitem><listitem><para>
<biblioentry xreflabel="22" xml:id="rfc2821-bib22">
<abbrev><link linkend="rfc1035">RFC1035</link></abbrev>
<author><firstname>P. Mockapetris</firstname></author>
<title>STD 13, Domain names - implementation and specification</title>
<edition>Alan adları - gerçeklenim ve belirtim</edition>
<pubdate>November 1987</pubdate>
</biblioentry>
</para></listitem></orderedlist>
<biblioentry>
<abbrev><link linkend="rfc1034">RFC1034</link></abbrev>
<author><firstname>P. Mockapetris</firstname></author>
<title>STD 13, Domain names - concepts and facilities</title>
<edition>Alan adları - kavramlar ve oluşumlar</edition>
<pubdate>Kasım 1987</pubdate>
</biblioentry>
<orderedlist continuation="continues"><listitem><para>
<biblioentry xreflabel="23" xml:id="rfc2821-bib23">
<abbrev><link linkend="rfc2047">RFC2047</link></abbrev>
<author><firstname>K. Moore</firstname></author>
<title>MIME (Multipurpose Internet Mail Extensions) Part Three: Message Header Extensions for Non-ASCII Text</title>
<edition>Çok Amaçlı Genel Ağ Posta Eklentileri (MIME) Üçüncü Kısım: ASCII olmayan Metinler için Posta Başlığı Eklentileri</edition>
<pubdate>Aralık 1996</pubdate>
</biblioentry>
</para></listitem><listitem><para>
<biblioentry xreflabel="24" xml:id="rfc2821-bib24">
<abbrev><link linkend="rfc1891">RFC1891</link></abbrev>
<author><firstname>K. Moore</firstname></author>
<title>SMTP Service Extension for Delivery Status Notifications</title>
<edition>Teslimat Durum Bildirimleri için SMTP Hizmet Eklentisi</edition>
<pubdate>Ocak 1996</pubdate>
</biblioentry>
</para></listitem><listitem><para>
<biblioentry xreflabel="25" xml:id="rfc2821-bib25">
<abbrev><link linkend="rfc1894">RFC1894</link></abbrev>
<author><firstname>K. Moore ve G. Vaudreuil</firstname></author>
<title>An Extensible Message Format for Delivery Status Notifications</title>
<edition>Teslimat Durum Bildirimleri için Geliştirilebilir Bir İleti Biçimi</edition>
<pubdate>Ocak 1996</pubdate>
</biblioentry>
</para></listitem><listitem><para>
<biblioentry xreflabel="26" xml:id="rfc2821-bib26">
<abbrev><link linkend="rfc1939">RFC1939</link></abbrev>
<author><firstname>J. Myers ve M. Rose</firstname></author>
<title>STD 53, Post Office Protocol - Version 3</title>
<edition>POstane Protokolü - 3. sürüm (POP3)</edition>
<pubdate>May 1996</pubdate>
</biblioentry>
</para></listitem><listitem><para>
<biblioentry xreflabel="27" xml:id="rfc2821-bib27">
<abbrev><link linkend="rfc974">RFC974</link></abbrev>
<author><firstname>C. Partridge</firstname></author>
<title>Mail routing and the domain system</title>
<edition>Posta yönlendirme ve alanadı sistemi</edition>
<pubdate>Ocak 1986</pubdate>
</biblioentry>
</para></listitem><listitem><para>
<biblioentry xreflabel="28" xml:id="rfc2821-bib28">
<abbrev><link linkend="rfc1047">RFC1047</link></abbrev>
<author><firstname>C. Partridge</firstname></author>
<title>Duplicate messages and SMTP</title>
<edition>Yinelenmiş İletiler ve SMTP</edition>
<pubdate>Şubat 1988</pubdate>
</biblioentry>
</para></listitem><listitem><para>
<biblioentry xreflabel="29" xml:id="rfc2821-bib29">
<abbrev><link linkend="rfc793">RFC793</link></abbrev>
<author><firstname>J. Postel</firstname></author>
<title>STD 7, Transmission Control Protocol - DARPA Internet Program Protocol Specification</title>
<edition>Aktarım Denetim Protokolü (TCP) - DARPA Genel ağ Programı Protokol Belirtimi</edition>
<pubdate>Eylül 1981</pubdate>
</biblioentry>
</para></listitem><listitem><para>
<biblioentry xreflabel="30" xml:id="rfc2821-bib30">
<abbrev><link linkend="rfc821">RFC821</link></abbrev>
<author><firstname>J. Postel</firstname></author>
<title>Simple Mail Transfer Protocol</title>
<edition>Basit Posta Aktarım Protokolü (SMTP)</edition>
<pubdate>Ağustos 1982</pubdate>
</biblioentry>
</para></listitem><listitem><para>
<biblioentry xreflabel="31" xml:id="rfc2821-bib31">
<abbrev><link linkend="rfc2633">RFC2633</link></abbrev>
<author><firstname>B. Ramsdell</firstname></author>
<title>S/MIME Version 3 Message Specification</title>
<edition>S/MIME 3. sürüm İleti Belirtimi</edition>
<pubdate>Haziran 1999</pubdate>
</biblioentry>
</para></listitem><listitem><para>
<biblioentry xreflabel="32" xml:id="rfc2821-bib32">
<abbrev><link linkend="rfc2822">RFC2822</link></abbrev>
<author><firstname>B. Ramsdell</firstname></author>
<title>Internet Message Format</title>
<edition>Genel Ağ İleti Biçimi</edition>
<pubdate>Nisan 2001</pubdate>
</biblioentry>
</para></listitem><listitem><para>
<biblioentry xreflabel="33" xml:id="rfc2821-bib33">
<abbrev><link linkend="rfc1830">RFC1830</link></abbrev>
<author><firstname>G. Vaudreuil</firstname></author>
<title>SMTP Service Extensions for Transmission of Large and Binary MIME Messages</title>
<edition>Büyük ve İkili MIME İletilerinin Aktarımı için SMTP Hizmet Eklentisi</edition>
<pubdate>Ağustos 1995</pubdate>
</biblioentry>
</para></listitem><listitem><para>
<biblioentry xreflabel="34" xml:id="rfc2821-bib34">
<abbrev><link linkend="rfc1893">RFC1893</link></abbrev>
<author><firstname>G. Vaudreuil</firstname></author>
<title>Enhanced Mail System Status Codes</title>
<edition>Gelişkin Posta Sistemi Durum Kodları</edition>
<pubdate>Ocak 1996</pubdate>
</biblioentry>
</para></listitem></orderedlist>
</sect1>

<sect1 xml:id="rfc2821-sa"><title>Yazarın Adresi</title>
<literallayout indent="0">
   John C. Klensin
   AT&amp;T Laboratories
   99 Bedford St
   Boston, MA 02111 USA

   Telefon: 617-574-3076
   Eposta: <email>klensin@research.att.com</email>
</literallayout>
</sect1>

<sect1 xml:id="rfc2821-sb"><title>Teşekkür</title>
<para>
Bu belgenin çoğu yenilemesinde bir çok insan uzun ve zorlu bir çalışma yaptı. IETF DRUMS Çalışma grubunda, hem grubun posta listesinde hem yüz yüze yapılan tartışmalarda bir çok teknik husus ve Genel Ağ posta aktarımında gözden geçirilmiş standardın rolü çok geniş çapta tartışıldı ve katkıda bulunan bir çok kişi bu belirtimin anlatım biçiminin oluşmasına yardım etti. RFC 821 üretilmeden önce yapılan tartışmalardaki yüzlerce katılımcı saymak için çok fazla, ama bu belgenin bu haline gelmesi için hepsinin yardımı oldu.
</para>
</sect1>

<appendix xml:id="rfc2821-appa"><title>TCP İletim Hizmeti</title>
<para>
TCP bağlantısı 8 bitlik baytların iletimini destekler. SMTP verisi ise 7 bitlik ASCII karakterlerden oluşur. Her karakter yüksek biti sıfırlanarak bir 8 bitlik bayt olarak iletilir. SMTP komutlarında veya yanıtlarında  değil, sadece ileti gövdesinin veri parçasının tam 8 bitlik baytlarla aktarımını mümkün kılmak için hizmet eklentileri bu kuralı değiştirebilirler.
</para>
</appendix>

<appendix xml:id="rfc2821-appb">
<title>SMTP Komutlarının RFC 822 Başlıklarından Üretilmesi</title>
<para>
Bazı sistemler posta teslimat protokolünde (sadece) RFC 822 başlıklarını kullanır, kullanamadığında da,  örneğin bir ileti bir kullanıcı aracı (MUA) tarafından bir aktarım aracına (MTA) bırakıldığında, SMTP komutlarını RFC 822 başlıklarından üretir. MTA-MUA protokolü özel bir konu olduğundan ve hiçbir Genel Ağ standardınca kapsanmadığından, bu yaklaşımla ilgili sorunlar vardır. Örneğin, kavramsal olarak bir posta zarfına ait bir bilgi başlık bilgisinden önceden ayrılmadığında (ve ayrı olarak tutulmadığında) listelerin tekrar dağıtılmasıyla ve gizli ("<literal>bcc</literal>") kopyaların düzgün ele alınmasıyla ilgili yinelenen sorunlar yaşanmıştır.
</para><para>
Kullanıcı aracının (MUA) ilk aktarım aracına (MTA) postayı bırakırken ileti ve zarfı ayrı ayrı teslim etmesinin sağlanması önerilir. Bunula birlikte, <rfcshould>eğer zarf ayrı olarak sağlanmıyorsa, SMTP komutları şöyle üretilmelidir</rfcshould>:
</para><orderedlist><listitem><para>
<rfcshould><literal>TO</literal>, <literal>CC</literal> veya <literal>BCC</literal> başlık alanındaki her alıcı adresi <command>RCPT</command> komutuna kopyalanmalıdır</rfcshould> (eğer kuyruklama veya teslimat için gerekliyse çok sayıda ileti kopyası üreterek). BCC alanları varsa başlıklardan kaldırılmalıdır. <rfcshould>Bu işlem tamamlandıktan sonra, kalan başlıklar, <literal>To:</literal>, <literal>Cc:</literal> veya <literal>Bcc:</literal> başlıklarından en az birinin kaldığından emin olmak için sınanmalıdır</rfcshould>. <rfcshould>Eğer hiçbiri yoksa, [<xref linkend="rfc2821-bib32"/>]'de belirtildiği gibi hiçbir ek bilgi olmaksızın bir <literal>Bcc:</literal> başlığı yerleştirilmelidir</rfcshould>.
</para></listitem><listitem><para>
<command>MAIL</command> komutundaki dönüş adresi, eğer mümkünse, postayı teslim eden (yerel) kullanıcının sistemdeki kimliğinden, mümkün değilse, "<literal>From:</literal>" başlığından türetilmelidir. <rfcshould>Kullanılabilir sistem kimliği varsa ve <literal>From:</literal> başlığındaki adresten farklıysa, ayrıca <literal>Sender</literal> başlığına da kopyalanmalıdır</rfcshould>. (<rfcshould>Bir <literal>Sender</literal> alanı zaten varsa silinmelidir</rfcshould>.) Sistemler zarf dönüş adresini değiştirmek için kullanıcılarına bir yöntem sunabilirler, ama kullanımını ayrıcalıklı kullanıcılar için kısıtlamak isteyebilirler. Bu, posta sahtekarlığını önlemeyecektir, ama görülme sıklığını düşürebilir; bkz, <xref linkend="rfc2821-s71"/>.
</para></listitem></orderedlist><para>
Bir MTA bu yönde kullanıldığında, aktarılan iletinin geçerliliğinden emin olunması sorumluluğunu alır. Geçerliliği sınama ve geldiğinde geçersiz olan iletileri elden geçirme (veya almama) mekanizmaları MUA-MTA arayüzünün bir parçası olup bu belirtimin kapsamında değildir.
</para><para>
<rfcmust>Standard RFC 822 bilgisine dayalı bir teslimat protokolü bir iletiyi yabancı (SMTP dışı) bir posta sisteminden SMTP ortamına geçirmek için tek başına kullanılmamalıdır</rfcmust>. Zarfı oluşturacak ek bilgi, ister ilave başlıklarla ister yabancı sistemin zarfıyla olsun, diğer ortamdaki bir kaynaktan gelmelidir.
</para><para>
İletilerin sadece "<literal>to</literal>" ve "<literal>cc</literal>" alanlarını kullanarak geçitleme çabaları, posta döngülerine ve Genel Ağ posta ortamının düzgün çalışmasını engelleyici başka davranışlara yol açtı. Bu sorunlar çoğunlukla yaygın olarak, ileti bir Genel Ağ posta listesinden kaynaklanıp zarf bilgisi kullanılarak yabancı ortama dağıtıldığında görüldü. Bu iletiler daha sonra bir salt-başlık posta göndericisi tarafından işlendiğinde, Genel Ağ ortamına (ve posta listesine) geri dönüşler nerdeyse kaçınılmazdır.
</para>
</appendix>

<appendix xml:id="rfc2821-appc"><title>Kaynak Rotalar</title>
<para>
Tarihsel olarak, &lt;dönüş-yolu> konakların ve bir kaynak posta kutusunun tersine kaynak yönlendirme listesiydi. <rfcshould>&lt;dönüş-yolu> içindeki ilk konak <command>MAIL</command> komutunu gönderen konak olmalıdır</rfcshould>.
</para><para>
Benzer şekilde, &lt;sevk-yolu> konakların ve bir varış posta kutusunun kaynak yönlendirme listesi olabilir.  Yine de, genelde, <rfcshould>&lt;sevk-yolu> sadece bir posta kutusu ve gerekiyorsa yönlendirme bilgisini sağlamak için alan adı sistemine güvenerek, alan adını içermelidir</rfcshould>. Kaynak rota kullanımı önerilmemektedir; <rfcmust>sunucuların <xref linkend="rfc2821-s33"/> ve <xref linkend="rfc2821-appf2"/> bölümünde bahsedildiği gibi kaynak rotaları almaya ve işleme sokmaya hazırlıklı olmaları gerekliyken</rfcmust>, <rfcshould>istemciler bunları aktarmasalar daha iyi olur</rfcshould>. Bu bölüm sadece bu bağlamı bulundurmak için eklendi.
</para><para>
Röleleme amacıyla, &lt;sevk-yolu>, <replaceable>alfa</replaceable>, <replaceable>beta</replaceable> ve <replaceable>gama</replaceable> tamamen nitelenmiş alan adları olmaları şartıyla "<replaceable>@alfa,@beta:biri@gama</replaceable>" biçiminde bir kaynak rotası olabilir. Bu biçim bir adresle bir rota arasında ayrımı vurgulamak için kullanılır. Posta kutusu bir mutlak adresken, rota bir yere nasıl ulaşılacağı bilgisini içerir. İki kavram karıştırılmamalıdır.
</para><para>
Kaynak rotalar kullanılıyorsa, sevk ve dönüş yollarını oluşturma ve güncelleme mekanizmaları için RFC 821'e ve aşağıdaki metne başvurulmalıdır.
</para><para>
Sevk yolundan dönüş yolunun başlangıcına kadar kendi tanıtıcısı (kendi alan adı veya posta aktarımcılığını yaptığı alan adı) görünüyorsa, SMTP sunucusu komut bağımsız değişkenlerini kendi tanıtıcısını taşıyarak dönüştürür.
</para><para>
Dönüş ve sevk yollarının SMTP komutlarında ve yanıtlarında göründüğü halde iletide görünmesinin gerekli olmayışına dikkat ediniz. Yani, bu yolların, özellikle de bu sözdiziminin ileti başlığının "<literal>To:</literal>" , "<literal>From:</literal>", "<literal>CC:</literal>", vs. alanlarında görünmesine ihtiyaç yoktur. Ancak, <rfcmust>SMTP sunucularının da son ileti teslimat bilgisini iletinin başlık alanlarından elde etmemesi gerekir</rfcmust>.
</para><para>
Konak listesinin varlığı durumunda, bu bir "tersine" kaynak rotasıdır ve postanın listedeki konaklarda rölelendiğini gösterir (listedeki ilk konak en son röleleyendir). Bu liste göndericiye yapılamayan teslimatların bildirimlerini göndermek için kaynak rotası olarak kullanılır. <rfcmust>Bir röleleme konağı olarak bir konak kendisini listenin başına eklerken, isim olarak, postanın geldiği aktarım ortamında değil postasını rölelediği aktarım ortamında bilinen ismini (farklıysa) kullanmalıdır</rfcmust>.
</para>
</appendix>

<appendix xml:id="rfc2821-appd"><title>Senaryolar</title>
<para>
Bu bölümde çeşitli SMTP oturum türleri eksiksiz birer senaryo halinde sunulmuştur. Örneklerde "<literal>İ:</literal>" 'SMTP istemcisi dedi ki' anlamında "<literal>S:</literal>" ise 'SMTP sunucusu dedi ki' anlamında kullanılmıştır.<footnote><para>Ç.N. - Senaryolar, gerçekte olmayacak şekilde Türkçeye çevrilmiştir. Gerçekçi senaryolar için bu RFC'nin özgün haline bakınız.</para></footnote>
</para>
<sect1 xml:id="rfc2821-appd1"><title>Tipik bir SMTP Aktarım Senaryosu</title>
<para>
Bu SMTP örneğinde, bar.com konağındaki Smith tarafından foo.com konağındaki Jones, Green ve Brown'a posta gönderimi gösterilmiştir. Burada bar.com konağının foo.com konağına doğrudan eriştiğini varsayıyoruz. Posta Jones ve Brown için kabul edilmekte, Green için foo.com konağında bir posta kutusu olmadığı belirtilmektedir.
</para><para>
<screen>
S:  220 foo.com Basit Posta Aktarim Hizmetine Hazir
İ: EHLO bar.com
S:  250-foo.com bar.com'a hosgeldiniz der
S:  250-8BITMIME
S:  250-SIZE
S:  250-DSN
S:  250 HELP
İ: MAIL FROM:&lt;Smith@bar.com>
S:  250 OK
İ: RCPT TO:&lt;Jones@foo.com>
S:  250 OK
İ: RCPT TO:&lt;Green@foo.com>
S:  550 Burada boyle biri yok
İ: RCPT TO:&lt;Brown@foo.com>
S:  250 OK
İ: DATA
S:  354 Posta girdisini baslat; &lt;CRLF>.&lt;CRLF> ile bitir
İ: Falan filan fesmekan...
İ: ...vesaire vesaire vesaire
İ: .
S:  250 OK
İ: QUIT
S:  221 foo.com aktarim hizmeti bu kanalı kapatiyor
</screen>
</para>
</sect1>

<sect1 xml:id="rfc2821-appd2"><title>Sıfırlanan bir SMTP Aktarım Senaryosu</title>
<para>
<screen>
S:  220 foo.com Basit Posta Aktarim Hizmetine Hazir
İ: EHLO bar.com
S:  250-foo.com bar.com'a hosgeldiniz der
S:  250-8BITMIME
S:  250-SIZE
S:  250-DSN
S:  250 HELP
İ: MAIL FROM:&lt;Smith@bar.com>
S:  250 OK
İ: RCPT TO:&lt;Jones@foo.com>
S:  250 OK
İ: RCPT TO:&lt;Green@foo.com>
S:  550 Burada boyle biri yok
İ: RSET
S:  250 OK
İ: QUIT
S:  221 foo.com aktarım hizmeti bu kanali kapatiyor
</screen>
</para>
</sect1>

<sect1 xml:id="rfc2821-appd3"><title>Röleli Posta Senaryosu</title>
<para>
   1. Adım  --  Çıkış Konağından Röleleme Konağına
</para><para>
<screen>
S:  220 foo.com Basit Posta Aktarim Hizmetine Hazir
İ: EHLO bar.com
S:  250-foo.com bar.com'a hosgeldiniz der
S:  250-8BITMIME
S:  250-SIZE
S:  250-DSN
S:  250 HELP
İ: MAIL FROM:&lt;JQP@bar.com>
S:  250 OK
İ: RCPT TO:&lt;@foo.com:Jones@XYZ.COM>
S:  250 OK
İ: DATA
S:  354 Posta girdisini baslat; &lt;CRLF>.&lt;CRLF> ile bitir
İ: Date: Thu, 21 May 1998 05:33:29 -0700
İ: From: John Q. Public &lt;JQP@bar.com>
İ: Subject:  Kurulun gelecek toplantisi
İ: To: Jones@xyz.com
İ:
İ: Bill:
İ: Yonetim kurulunun  bir dahaki toplantisi
İ: Cuma gunu olacak.
İ:                          John.
İ: .
S:  250 OK
İ: QUIT
S:  221 foo.com aktarim hizmeti bu kanali kapatiyor
</screen>
</para><para>
   2. Adım  --  Röleleme Konağından Varış Konağına
</para><para>
<screen>
S:  220 xyz.com Basit Posta Aktarım Hizmetine Hazir
İ: EHLO foo.com
S:  250-xyz.com yayindayiz
İ: MAIL FROM:&lt;@foo.com:JQP@bar.com>
S:  250 OK
İ: RCPT TO:&lt;Jones@XYZ.COM>
S:  250 OK
İ: DATA
S:  354 Posta girdisini baslat; &lt;CRLF>.&lt;CRLF> ile bitir
İ: Received: from bar.com by foo.com ; Thu, 21 May 1998
İ:     05:33:29 -0700
İ: Date: Thu, 21 May 1998 05:33:22 -0700
İ: From: John Q. Public &lt;JQP@bar.com>
İ: Subject:  Kurulun gelecek toplantisi
İ: To: Jones@xyz.com
İ:
İ: Bill:
İ: Yonetim kurulunun  bir dahaki toplantisi
İ: Cuma gunu olacak.
İ:                          John.
İ: .
S:  250 OK
İ: QUIT
S:  221 foo.com aktarim hizmeti bu kanali kapatiyor
</screen>
</para>
</sect1>

<sect1 xml:id="rfc2821-appd4"><title>Doğrulama ve Gönderme Senaryosu</title>
<para>
<screen>
S:  220 foo.com Basit Posta Aktarım Hizmetine Hazir
İ: EHLO bar.com
S:  250-foo.com bar.com'a hosgeldiniz der
S:  250-8BITMIME
S:  250-SIZE
S:  250-DSN
S:  250-VRFY
S:  250 HELP
İ: VRFY Crispin
S:  250 Mark Crispin &lt;Admin.MRC@foo.com>
İ: SEND FROM:&lt;EAK@bar.com>
S:  250 OK
İ: RCPT TO:&lt;Admin.MRC@foo.com>
S:  250 OK
İ: DATA
S:  354 Posta girdisini baslat; &lt;CRLF>.&lt;CRLF> ile bitir
İ: Falan filan fesmekan...
İ: ...vesaire vesaire vesaire
İ: .
S:  250 OK
İ: QUIT
S:  221 foo.com aktarim hizmeti bu kanali kapatiyor
</screen>
</para>
</sect1>
</appendix>

<appendix xml:id="rfc2821-appe"><title>Diğer Ağgeçidi Konuları</title>
<para>
Genelde, <rfcshould>Genel Ağ ile diğer posta sistemleri arasındaki ağgeçitleri iki posta sisteminin sınırları arasında birini diğerine karşı katmanlama anlamında korumaya çalışmalıdır</rfcshould>. Eşleşmelerle kestirme yollar oluşturmaya çalışan ağgeçitli dönüşüm yaklaşımının (örneğin, ileti başlıklarına veya başka bir ileti gövdesine bir sistemdeki zarf bilgisini eşleme) önemli yollarda genellikle yetersiz kaldığı kanıtlanmıştır. Zarfların ve başlıkların her ikisini de desteklemeyen ortamlar arasında dönüşüm yapan sistemler ve Genel Ağ postası bilgi kaybının neredeyse kaçınılmaz olduğunun bilincinde olarak yazılmalıdır.
</para>
</appendix>

<appendix xml:id="rfc2821-appf">
<title>RFC 821'in Önerilmeyen Özellikleri</title>
<para>
RFC 821'in bir kaç özelliğinin sorunlu olduğu kanıtlanmıştır ve <rfcshould>Genel Ağ postasında kullanılmaması gerekir</rfcshould>.
</para>
<bridgehead renderas="sect3" xml:id="rfc2821-appf1"><literal>TURN</literal> Komutu</bridgehead>
<para>
RFC 821'de açıklanan bu komut, istemci ve sunucunun rol değiştirmesini talep eden konağın kimliğinin kesinlikle kanıtlanması gereği yerine getirilmedikçe bu durum, postayı kolayca doğru hedefinden saptırmak için kullanılabileceğinden önemli güvenlik kaçaklarını arttırır. Kullanımı önerilmez; <rfcshould>sunucu tarafından istemci kimliğinin kanıtlanması sağlanmadıkça SMTP sistemlerinin bu komutu kullanmaması gerekir</rfcshould>.
</para>

<bridgehead renderas="sect3" xml:id="rfc2821-appf2">Kaynak Yönlendirme</bridgehead>
<para>
RFC 821, postanın bir konaktan diğerine bir röleleme silsilesinden sonra aktarılması anlamına gelen doğrudan kaynak yönlendirme kavramından yararlanır. Sıradan posta trafiğinde kaynak rotalardan yararlanma gereksinimi, alan adı sistemine "<literal>MX</literal>" kaydının girişiyle ve bunların son derece önemli bir ayarlaması da, <link linkend="rfc1123">RFC 1123</link>'e, adreslerde "<literal>@</literal>" imini izleyen kısmın tamamen nitelenmiş alan isimleri içermesi şeklindeki açık gereksinimin girişiyle ortadan kalkmıştır.
</para><para>
Netice olarak, kaynak rota kullanımı için sadece hizalamanın kalması, çok eski SMTP istemcileri ile kullanıcı postalama araçları ve posta sistemi hata ayıklaması için desteklenmektedir. Bunlar yine de, son durumla ilgili olarak ve maksada uygun DNS kayıtları gibi ciddi ama geçici sorunların çevresinden dolanarak posta yönlendirme için hala kullanışlıdır.
</para><para>
<rfcmust>Bu belgenin ana gövdesinde ve <link linkend="rfc1123">RFC 1123</link>'te belirtildiği gibi SMTP sunucuları kaynak rota sözdizimini kabul etmeye devam etmelidirler</rfcmust>. <rfcmaybe>Bunlar gerekirse rotaları yoksayarak sadece adresteki hedef alandan yararlanabilirler</rfcmaybe>. <rfcmust>Eğer kaynak rotadan yararlanırlarsa, iletinin adreste gösterilen ilk alana gönderilmesi gerekir</rfcmust>. <rfcmust>Özellikle bir sunucu kaynak rota içindeki kısayollarda tahmin yapmamalıdır</rfcmust>.
</para><para>
<rfcshould>Posta sistemi yapılandırma hataları veya güvenlik duvarı etrafından dolaşmak için röleleme olasılığı veya hata ayıklama gibi olumsuz durumlar haricinde istemcilerin doğrudan kaynak yönlendirmeden yararlanmamaları gerekir</rfcshould>.
</para>

<bridgehead renderas="sect3" xml:id="rfc2821-appf3"><literal>HELO</literal> Komutu</bridgehead>
<para>
<xref linkend="rfc2821-s31"/> ve <xref linkend="rfc2821-s411"/> bölümünde bahsedildiği gibi, sunucu <command>EHLO</command> komutunu kabul edebilecekse, <command>EHLO</command> komutu daima/mutlaka <command>HELO</command> komutuna tercih edilir. Sunucuların eski istemcileri desteklemek için <command>HELO</command> komutunu kabul etmeye ve işleme sokmaya devam etmesi gerekir.
</para>

<bridgehead renderas="sect3" xml:id="rfc2821-appf4"><literal>#</literal> imli sabitler</bridgehead>
<para>
RFC 821, bir Genel Ağ adresinin, bir "<literal>#</literal>" imi ile başlayan ve konak numarasını ifade eden bir ondalık tamsayı ile belirtilmesine izin verir. <rfcmust>Uygulamada, TCP/IP'ye geçildiğinden beri, bu biçim artık kullanılmamaktadır ve kullanılmamalıdır</rfcmust>.
</para>

<bridgehead renderas="sect3" xml:id="rfc2821-appf5">Tarihler ve Yıllar</bridgehead>
<para>
<rfcmust>SMTP istemcileri ve sunucuları tarafından iletilere tarih yerleştirilmek istendiğinde (örn, izleme alanlarına), dört rakamlı yıl gösterimi kullanılmalıdır</rfcmust>. İki rakamlı yıllar önerilmemektedir; üç rakamlı yıllara ise Genel Ağ posta sisteminde hiçbir zaman izin verilmemiştir.
</para>

<bridgehead renderas="sect3" xml:id="rfc2821-appf6">Postalamayıp Gönderivermek</bridgehead>
<para>
İletilerin kullanıcıların posta kutularına teslimatı için bir mekanizma belirtilmesine ek olarak, RFC 821, iletileri doğrudan kullanıcının uçbirim ekranına teslim eden isteğe bağlı ek komutlar sağlamıştır. Bu komutlar (<command>SEND</command>, <command>SAML</command>, <command>SOML</command>) nadiren gerçeklenmiş, iş istasyonu teknolojisindeki değişiklikler ve diğer protokollerin devreye girmesiyle gerçeklendikleri yerlerde bile kullanılmayarak atıl olmuşlardır.
</para><para>
<rfcshould>İstemciler hizmet olarak <command>SEND</command>, <command>SAML</command>, <command>SOML</command> komutlarını bulundurmamalıdır</rfcshould>. <rfcmust>Bunlar sunucular tarafından gerçeklenirse, RFC 821'de belirtilen gerçeklenim modeli kullanılmalı</rfcmust> ve <rfcmust>komut isimleri <command>EHLO</command> komutunun yanıtında yayınlanmalıdır</rfcmust>.
</para>
</appendix>

<glossary xml:id="rfc2821-cl">
<title>Tam Telif Hakkı Beyanı</title>
<glosslist><glossentry><glossdef><para>
   Copyright (C) The Internet Society (2001).  All Rights Reserved.
</para><para>
   This document and translations of it may be copied and furnished to
   others, and derivative works that comment on or otherwise explain it
   or assist in its implementation may be prepared, copied, published
   and distributed, in whole or in part, without restriction of any
   kind, provided that the above copyright notice and this paragraph are
   included on all such copies and derivative works.  However, this
   document itself may not be modified in any way, such as by removing
   the copyright notice or references to the Internet Society or other
   Internet organizations, except as needed for the purpose of
   developing Internet standards in which case the procedures for
   copyrights defined in the Internet Standards process must be
   followed, or as required to translate it into languages other than
   English.
</para><para>
   The limited permissions granted above are perpetual and will not be
   revoked by the Internet Society or its successors or assigns.
</para><para>
   This document and the information contained herein is provided on an
   "AS IS" basis and THE INTERNET SOCIETY AND THE INTERNET ENGINEERING
   TASK FORCE DISCLAIMS ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING
   BUT NOT LIMITED TO ANY WARRANTY THAT THE USE OF THE INFORMATION
   HEREIN WILL NOT INFRINGE ANY RIGHTS OR ANY IMPLIED WARRANTIES OF
   MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE.
</para></glossdef></glossentry><glossentry>
<glossterm><emphasis role="bold">Bilgi için</emphasis></glossterm>
<glossdef><para>
&rfc.editor; işlevinin mali desteği şu an Genel Ağ Derneği (The Internet Society) tarafından sağlanmaktadır.
</para></glossdef></glossentry></glosslist>
</glossary>
</article>
<!-- buraya kadar imla denetimi bitti-->
