<?xml version="1.0" encoding="UTF-8"?>
<!-- ********************************************************************
     $Id: kahve-nasil.xml,v 1.20 2003/07/19 09:25:04 nilgun Exp $
     ******************************************************************** -->

<article xml:id="kahve-nasil" lang="tr">
  <info>
    <title>Kahve Yapmak Nasıl</title>
    <author>
     <personname><firstname>Fotis</firstname>
      <surname>Georgatos</surname></personname>
    </author><author role="translator">
     <personname><firstname>Oğuz</firstname>
      <surname>Yarımtepe</surname></personname>
    </author>
    <revhistory>
      <revision>
        <revnumber>1.0</revnumber>
        <date>2004-08-29</date>
        <authorinitials>FG</authorinitials>
      </revision>
    </revhistory>
    <abstract>
      <para>
Bir yazılım hakkında en çok hatırlanan yorumlardan biri de kodun şu veya bu parçasının kahve yapıp yapamadığıdır. Kahve petrolden sonra ikinci sırayı almış tüm dünyaya mal olmuş bir maddedir. LINUX kahve yapar ve gerçekten de kahvenin güzel bir tadı vardır!
      </para>
    </abstract>
  </info>

  <sect1 xml:id="kahve-nasil-tanitim">
    <title>Giriş</title>
    <para>
Uzun yıllardır insanlık, bir bilgisayarın nasıl kahve yapabileceğini merak etti.
    </para><para>
İnsanlar, uyanık kalmak ve bilgisayar karşısında uzun süre kalabilmek için kahveye ihtiyaç duyar. Geceleri kod yazmanın daha iyi olduğu yaygın bir bilgece sözdür!
    </para><para>
Esas hüner, bir kahve makinasını, bir yazılım ile kontrol edilebilmesi için, bilgisayarla bütünleştirmektir. Bu NASIL belgesi bunu nasıl yapacağınızı anlatacaktır.
    </para><para>
İlk başta, kahve makinasının güç kaynağını kontrol eden bir AÇMA/KAPAMA anahtarı, elektronik bir devre olarak gösterilecektir. Başka bir bölümde tam bir Turing Makinası (Turing Complete) gibi olan, akıllı kahve makinalarının nasıl yapılacağının sırları anlatılacaktır.
    </para><para>
Bu NASIL belgesi ilk olarak, linux-greek-users ileti listesindeki linux kahve yapabilir mi yapamaz mı tartışması üzerine yazıldı. Daha sonra internetteki <link xlink:href="http://magaz.hellug.gr/">magaz</link> isimli dergimizde bir makale haline geldi. Merak edenleriniz için söyliyeyim, magaz Yunancadır ve eminim ki bakınca size de öyle gelecektir!
    </para><para>
İyi Eğlenceler.
    </para>
    <sect2>
      <title>Telif Hakkı</title>
      <para>
Belgenin ingilizce orjinalinin Telif hakkı © 2004 Fotis Georgato'a, türkçe çevirisinin telif hakkı © 2005 Oğuz Yarımtepe'ye aittir. Aşağıdakileri yapmakta özgürsünüz:
      <itemizedlist>
        <listitem>
Bu çalışmayı kopyalamak, dağıtmak, göstermek ve gerçekleştirmekte
        </listitem><listitem>
Bu işten türetilmiş işler yapmakta
        </listitem><listitem>
Yapılan çalışmayı ticari hale getirmekte
        </listitem>
      </itemizedlist>
      </para><para>
Aşağıdaki durumlarda atıfta bulunmalısınız. Orjinal yazar bilgilerini vermelisiniz. Benzer şekilde paylaşın. Bu belgeyi değiştirir, farklılaştırır veya bu belgeyi kullanarak bir şeyler yaparsanız, ortaya çıkan çalışmayı bu belgedekinin aynısı olan bir lisansla dağıtabilirsiniz.
      </para><para>
      <itemizedlist>
        <listitem>
Herhangi bir yeniden kullanımında ya da dağıtımında, bu çalışmanın lisans haklarını açık şekilde duyurmalısınız
        </listitem><listitem>
Bu durumlardan bazılarından, yazardan izin almanız durumunda, feragat edilebilir.
        </listitem>
      </itemizedlist></para>
    </sect2>
    <sect2>
      <title>Feragatname</title>
      <para>
Bu belgede yazılanları kullanmak tamamen sizin sorumluluğunuzdadır. İçerikle ilgili oluşabilecek potansiyel herhangi bir sorumluluğu reddediyorum. İçeriğin, örneklerin ve/veya bu belgedeki diğer bilgilerin kullanımından doğacak risk tamamen size aittir.
      </para><para>
Tüm telif hakları aksi özellikle belirtilmediği sürece sahibine aittir. Belge içinde geçen herhangi bir terim, bir ticari isim ya da kuruma itibar kazandırma olarak algılanmamalıdır.
      </para><para>
Bir ürün ya da markanın kullanılmış olması ona onay verildiği anlamında görülmemelidir.
      </para><para>
Temel bir yükleme yapmadan önce sistemizle ilgili yedeklemeleri düzenli zamana aralıklarında yapmanız şiddetle tavsiye edilir.
      </para>
    </sect2>
    <sect2>
      <title>Sürüm</title>
      <para>
Bu Kahve NASIL belgesi artık Kahve Yapma NASIL (Coffee Making HOWTO) olarak anılmakta ve sürüm 1.0 a doğru yol almakta olup, şu adreste bir yerlerde gözükecektir:
      </para><para>
<link xlink:href="http://fotis.home.cern.ch/fotis/Coffee.html"/>
      </para><para>
Artık herkesin, Kahve Yapmanın *herhangi bir* Linux dağıtımıyla gelen standart bir özellik olduğunu bilmesinin zamanıdır. Yoksa SCO'nun bunun üzerinde de mi bir patent hakkı var?
      </para>
    </sect2>
    <sect2>
      <title>Çeviriler</title>
      <para>
Bu ve bundan önceki Kahve Yapma NASIL belgesinin sürümlerinin aşağıdaki dillerde çevirilerini kolaylıkla bulabilirsiniz:
      </para><para>
      <itemizedlist>
<listitem>Çince</listitem>
<listitem>Japonca</listitem>
<listitem>Rusça</listitem>
<listitem>Malay Dili</listitem>
<listitem>İtalyanca</listitem>
<listitem>Polonya Dili</listitem>
<listitem>Türkçe*</listitem>
      </itemizedlist>
      </para><para>
ve umuyorum daha fazlası... (İspanyolca ve Portekizce, var mı kimse?)
      </para>
    </sect2>
    <sect2>
      <title>Tanıtım</title>
      <para><itemizedlist>
<listitem>Etiyopya: Kahvenin anavatanı olarak tanınır</listitem>
<listitem>Kahve, 1683 yılında Türklerin Viyana'ya olan başarısız bir akınının geride kimsenin istemediği garip kahverengi fasulya taneleri içeren çuvallar bırakmasına kadar, Orta Doğuda çok yaygındı: <link xlink:href="http://www.vienna.cc/ekaffeeh.htm/"/>
    </listitem><listitem>
1967'de Kostas Lialiambis, Linux makinasıyla kahve yapamadığını söylemeye cesaret eden biriydi
      </listitem><listitem>
Panagiotis Vrionis, yakın zamanda bana ilginç ve komik notlar verip topun dönmesini sağladı.
      </listitem><listitem>
Internetteki PEKÇOKları, katılım ve yorumlarınıza... Hepinize gerçekten teşekkürler. Her ne kadar hepinizin iletilerine cevap veremesem de.
      </listitem></itemizedlist></para>
    </sect2>
    <sect2>
      <title>Bunu yazarken ne içersiniz?</title>
      <para>
Aslında, en iyi fikrime göre, bu tamamen özgür bir doping kullanım işidir.
      </para><para>
Ama size arka fonda çalan müziğin sırrını verebilirim: Zampetas veya Mpithikotsis söylediği herahngi bir şarkı (buzuki veya benzeri).
      </para>
    </sect2>
    <sect2>
      <title>Geri Besleme</title>
      <para>
Kendi yaptığınız DIY Kahve Makinası'nın online anlatımları için dümeni şu adrese kırınız: <link xlink:href="http://coffee.sf.net/">http://coffee.sf.net/</link>
      </para><para>
Hala söylemek istediğiniz yorumlar varsa, bu günlerde iletilerin (mail) kaybolduğu düşünülürse, neden güzel şehrinizden, içerisinde şehirinizdeki en güzel kahve yerlerinden birini öneren bir kartpostal atmıyorsunuz?
      </para>
<literallayout indent="0">
    Fotis Georgatos,
    Aliartou 32,
    TK 11142 Athens,
    GREECE
</literallayout>
      <para>Son Söz</para>
      <itemizedlist>
<listitem>Önerileriniz gözden kaçırılmayacaktır, bu aralar geziye çıkmaya çok meyilliyim, siz farkına varmadan birden etrafınızda olmuş olabilirim.</listitem>
<listitem>Evet, bir süre Amsterdam'da kaldım ve hatta orada 3 yıl yaşadım; Kahve Dükkanları alelade kafeler gibi sayılmazdı.</listitem>
<listitem>Süpriz: Ben aslında kahveyi üzerinde çukulata ve çay ile severim. ;)</listitem>
      </itemizedlist>
    </sect2>
  </sect1>
  <sect1 xml:id="kahve-nasil-menu">
    <title>Menü</title>
    <sect2>
      <title>Türk Usulü</title>
      <para>
Köpüğü ve nefaseti ile ünlüdür. Yapılması özen ister. Makineler için uygun değildir. Birinin sizin için yapması gerekir. Bir fincanının kırk yıl hatırı vardır.
      </para>
    </sect2>
    <sect2>
      <title>Fransız Usulü</title>
      <para>
Programcılar arasında ünlü olandır, çünkü çok fazla özen istemez ve tıpkı ticari bir yazılım gibi, pişirilmesi verim sağlar (streamlined). Heyecan verici tadı, günün daha ilk saatlerinde, pekçok programcıyı inanılmaz programlar yazma yönünde cezbeder. M$ Windows, örneğin, kahve sayesinde saat sabahın 5'in de yazılmıştır. Benzer bir netice garanti edilir!
      </para>
    </sect2>
    <sect2>
      <title>Nescafe</title>
      <para>
Nescafe biraz daha güçlü, üzerinde dumanı tüten sıcak su, şeker ve kahvenin karışımından yapılan bir kahvedir. Genelde, bir kaşık kahve ve bir kaşık şeker ve çok az da su alırsınız karıştırmak için. Bu arada suyunuz da kaynıyor olmalıdır. Su yeterince sıcak olur olmaz, hepsini karıştırıp, üzerine tercihen yoğun miktarda süt eklersiniz. Her ne kadar suyu kaynatmak için bir kahve makinasından daha basit şeyler de kullanabilseniz de, genelde bunun daha çok böyle yapıldığını gördüm...
      </para>
    </sect2>
    <sect2>
      <title>Frappe'</title>
      <para>
Yukarıda bahsedilen kahvenin değişik popüler bir halidir. Aslında, öyle özel bir kahve makinasına ihtiyacınız yoktur, yerine soğuk su ve buz küpleri için bir buzdolabı gerekir. Bu, Güney Doğu Avrupa'da sıcak yaz aylarında çok ünlüdür.
      </para>
    </sect2>
    <sect2>
      <title>Freddo</title>
      <para>
Bu biraz karışıktır, Kahve-SSS'i okuyunuz. (Daha fazla bilgi alma kısmını okuyunuz)
      </para>
    </sect2>
    <sect2>
      <title>Espresso</title>
      <para>
Espresso çok sert, İtalyan tarzı bir kahvedir. Küçük fincanlar içinde (Neden mi? Aşırı Doz Belirtileri'ne bakınız), bir veya iki parça şekerle servis edersiniz. İyi bir espresso yapmak için, taze öğütülmüş kahve çekirdekleri, su, kesme şeker ve özel bir makinaya ihtiyacınız vardır. Bu makinalar suyu kaynatarak meydana gelen sıcak buharın öğütülmüş kahve çekirdeklerinden geçmesini sağlar. Oldukça-aldatıcı bir makinayı oldukça fazla paraya alabilirsiniz. Ucuz bir makina da işinizi görebilir, tabii ki.
      </para><para>
Tamam, hadi başlayalım. Makinanıza suyu koyunuz. Isınmasını bekleyiniz. Bu arada, 1 çay kaşığı kahve tozunu makinanızın filtresine koyunuz. Kahve tozunu aşağı itiniz. Ama fazla değil. Evet, artık su yeterli ısıda. Filtreyi makinaya takarak, makinanın çalışmasını sağlayınız. Yaklaşık 30 saniye sonra, lezzetli, sıcak bir espressoyu servis edebilirsiniz. İyi bir yemekten sonra, güzel gider. Kendinizi iyi hisseder ve bir kaç saat daha kod yazabilirsiniz.
      </para>
    </sect2>
    <sect2>
      <title>Cappuccino</title>
      <para>
(Espresso kısmına da bakınız) Eğer daha kaliteliye benzer bir makinanız varsa, onu sütle köpürtmek için kullanabilirsiniz. Bu özelliğe, kremamsı bir kahve yapmak için ihtiyacınız vardır. Hazırlaması çok kolaydır. Bir kahve fincanına biraz köpüklü süt koyarak espresso ile doldurunuz. Çukulata parçalarıyla da süsleyiniz. Hepsi bu.
      </para>
    </sect2>
  </sect1>
  <sect1 xml:id="kahve-nasil-donanim">
  <title>Donanım</title>
  <para>
Sistem devre şeması şöyledir:
  </para><para>
<literallayout>
    ---------   0-5V  ---------  ~220V   ----------------
    |  PC   |====>====|Circuit|==========|Coffee-Machine|
    ---------         ---------          ----------------
</literallayout>
  </para><para>
Temel mantık şöyledir, elektriksel olarak yalıtılmış bir devreyi bir röle veya triyak ile kontrol etmemizi sağlayacak denetim gerilimini bilgisayardan alırız.
  </para><para>
200Wat'tan daha büyük bir kahve makinanız varsa bir röle devresi seçmelisiniz. Kahve makinanız o kadar büyük bir güce sahip değilse triyak tabanlı bir devreyi de seçebilirsiniz.
  </para><para>
Gösterilmiş olan tüm devreler denenmiştir, fakat sonuçlar ve riskler SİZİN SORUMLULUĞUNUZDUR. Eğer elektronik ile tecrübeniz yoksa bunları YAPMAmalısınız, yoksa kötü bir netice alabilirsiniz.
  </para><para>
220V ile çalışırken çok dikkatli olmalısınız, ayrıca uygun bir sigortanın kullanımı kesinlikle tavsiye edilmektedir.
  </para>
  <sect2>
    <title>Bilgisayardan 0-5V elde etmek</title>
    <para>
Aşağıda, bilgisayarın paraler portundan 0-5V elde etmek için  bir örnek vardır:
    </para><para>
<literallayout>
Arkadan görünüş    +------  Pin 10 - ACK
Erkek DB-25        |   +--  Pin  9 - D7            +------ Pin 2 - D0
Konnektör          |   |                           |   +-- Pin 1 - ~Strobe
                   v   v                           v   v
 ------------------------------------------------------------
/                                                            \
\     13  12  11  10   9   8   7   6   5   4   3   2   1     /
 \                                                          /
  \     25  24  23  22  21  20  19  18  17  16  15  14     /
   --------------------------------------------------------
</literallayout>
    </para><para>
1 numaralı, Strob'dur. (Strobe) (mantıksal ters)
    </para><para>
2-9 arası pinler veri yolu (DATA BUS) sinyalleri içindir, esas itibariyle paralel porta yazılan her şey bir OUTB komutuyla tutulmaktadır.
    </para><para>
10 numaralı pin, onay (ACK) sinyalidir, sizin tarafınızdan denetlenir, böylece işlemciye bir kesme gönderebilirsiniz.
    </para><para>
18-25 arası pinler kısa devredir, topraklağa bağlanmalıdır (GND).
    </para><para>
Ayrıntılı olarak:
    </para><para>
<literallayout indent="0">
&lt;= gir DB25   Cent   Sinyal    Yazmaç
=&gt; çık pin    pin     İsmi      Biti    Açıklama
------ ----   ----  --------    ---   -----------------------------
=&gt;      1      1    -Strobe     C0-   gönderme için >05us aşağı çekilir
=&gt;      2      2    Data 0      D0    en kıymetsiz bit
=&gt;      3      3    Data 1      D1    ...
=&gt;      4      4    Data 2      D2    ...
=&gt;      5      5    Data 3      D3    ...
=&gt;      6      6    Data 4      D4    ...
=&gt;      7      7    Data 5      D5    ...
=&gt;      8      8    Data 6      D6    ...
=&gt;      9      9    Data 7      D7    en kıymetli bit
&lt;=     10     10   -Ack         S6+   IRQ onaydan sonra ~5us aşağı çekilir
&lt;=     11     11   +Busy        S7-   Meşgul/Devredışı/Hata için yukarı çekilir
&lt;=     12     12   +PaperEnd    S5+   Kağıt sonu için yukarı çekilir
&lt;=     13     13   +SelectIn    S4+   yazıcı seçiliyse yukarı çekilir
=&gt;     14     14   -AutoFd      C1-   bir satır ileri için aşağı çekilir
&lt;=     15     32   -Error       S3+   Hata/Devredışı/Kağıtsonu için aşağı çekilir
=&gt;     16     31   -Init        C2+   ilklendirme için >50uS aşağı çekilir
=&gt;     17     36   -Select      C3-   yazıcıyı seçmek için aşağı çekilir
==gt;    18-25  19-30  Ground
</literallayout>
    </para></sect2>
    <sect2>
      <title>Röle ile kontrol</title>
      <para>
Bir röleyi sürebilecek bir devrenin şeması genelde şöyle birşeydir:
      </para><para>
<literallayout>
                                Vcc
                                  |
                                  +------+
                                  |    __|__
                                 Röle   /^\  Diode 1N4002
                                Bobini /---\
                                  |      |
                                  +------+
                                  |
                               | /
                    4.7K    B  |/  C
     paralel port >-\/\/\/\/---|        NPN Transistor: BC547A or 2N2222A
     veri ucu                  |\  E
                               | \
                                  V
     paralel port  >--------------+
     toprak ucu                   |
                               Toprak

</literallayout>
      </para><para>
Vcc ucunu rölenin çalışma gerilimine eşitı gerilimdeki bir kaynağa bağlayınız (Genellikle 5 veya 12 V'dir). Elbette ki röle özellikleriniz kahve makinasına göre ayarlanmış olmalıdır.
      </para><para>
Barmen, röleyi transistörden sonra, kollektör (C) ucu yerine, emetör (E) ucunun olduğu yere koyma meyilindedir. Bu kötü bir denemedir ve transistörü kötü yönde etkiler ve sonuç olarak da kötü bir kahve ile neticelenebilir. 1N4002 diyodu, transistörü rölenin ters akımından korumak için kullanışlıdır. Eğer kullanmazsanız, bir süre sonra transistör bozulabilir.
      </para>
    </sect2>
    <sect2>
      <title>TRIAK ile kontrol #1</title>
      <para>
Eğer basit bir devre istemezseniz, Motorola'nın triyak sürücüsü olan MOC301[012]'i, SC141D gibi genel amaçlı bir triyakla  kullanabilirsiniz. Bu yöntemin getirisi, ilave bir güç kaynağına ihtiyaç duymamanızdır.
      </para><para>
Endüktif olmayan yükler için, işte devre:
      </para><para>
<literallayout>
          270     1 +-------+ 6    180
    +5v -VAVAVA-----+       +----VAVAVA-----+-------------- Faz
                  2 |  MOC  |               |
    TTL in ---------+ 3012  +nc            VA  SC141D
                    |       | 4           / |
                  nc+       +------------/  |
                    +-------+               +----\/\/\/---- Nötr
                                                  LOAD
</literallayout>
      </para><para>
Eğer 220V ile çalışacaksanız, bir 3021 edinmeye çalışın. Endüktif yükler triyaka paralel kapasitörler ile birlikte kullanılmalıdır, en iyisi Motorola Application Note AN-780'a başvurun. Kahve makinaları genelde direnç gösteren yüklerdir ve (bir motor gibi) endüktif değildir, fakat sizinkinin ne olduğunu kim bilebilir?
      </para>
    </sect2>
    <sect2>
      <title>TRIAK ile kontrol #2</title>
<literallayout>
    +5VDC
    |    180                       180      2.2k
    +---/\/\/\----+----+     +----/\/\/-+--/\/\/\---+-----------> 120V
                  |   1|     |6         |           |             Faz
                  |    +=====+          |           | MT1
                  |    | MC  | TRIAC    |          +-+
                  |    | 3032| Sürücü   |        G | | TRIAC
                  |    +=====+          |         /| |
                  \|  2|     |4         |        / +-+
            2N3904 |---+     |          |        |  | MT2
                  /|   |     +--------- | -------+  |
                  V    |                |        |  |
                  |    >                |        >  |
                  |    > 43      .01u  ---   10k >  |
                  |    >         500V  ---       >  |
                  |    |                |        |  |
                  +----+                |        |  |             Nötr
                  |                     +--------+--+---o    o--> 120V
                |/                                        Yük
     >--/\/\/\--| 2N3904
                |\
                  V
                  |
                 ---
                 ///
</literallayout>
<blockquote><para>Bu devre 120V için tasarlanmıştır. 220V için dirençleri uygun şekilde ayarlamalısınız.</para></blockquote>
      <para>
MC3032 bir TRIAK sürücü optoizolatörüdür. 180-ohm'luk direnç optoizolatör içindeki LED emetörü için akımı ayarlar. Daha uygun akımlar almak için - eğer gerekliyse - bu direncin değerini değiştiriniz.
      </para><para>
Bir yük olmadan bu devreyi kontrol edemezsiniz. TRIAK herhangi bir AA gerilim kaynağı olmadan çalışmayacaktır, bu yüzden basit bir anahtarlama için şebeke gerilimi ve yük uygulamadan çalıştırmak mümkün değildir. .01uF'lık kapasitörün 500V'luk olmasına dikkat ediniz.
      </para>
    </sect2>
  </sect1>
  <sect1 xml:id="kahve-nasil-yazilim">
    <title>Yazılım</title>
    <sect2>
      <title>Programlama</title>
      <para>
Aşağıdaki işlemleri yapan çalıştırılabilir bir program oluşturmalısınız:
      </para><para>
      <itemizedlist><listitem>
<command>ioperm</command> ile çekirdeği çağırarak, Girdi/Çıktı adres uzayı için izin alınız: örn, <command>operm(BASE, range ,1);</command>
      </listitem><listitem>
Paralel portta 0-5V oluşturmak için dışarı bir istekte bulununuz: örn, <command>outb(1, BASE);</command>
      </listitem><listitem>
Kahve yapılana kadar yeterince bekleyiniz. Bu zaman dilimini komut satırına bakarak geçirmek güzel olabilir.
      </listitem><listitem>
Daha sonra kahve makinasını kapatılacaktır: <command>outb(0 , BASE);</command>
      </listitem><listitem>
Sonlanmadan önce <command>ioperm(BASE, range, 0);</command> ile paralel porta geri dönüş yapılmalıdır.
      </listitem></itemizedlist>
      </para><para>
<literal>BASE</literal> değerini <filename>/dev/lp0</filename> için <literal>BASE = 0x3bc</literal> olarak, <filename>/dev/lp1</filename> için <literal>0x378</literal> ve <filename>/dev/lp2</filename> için <literal>0x278</literal> olarak ve bu şekilde 8 farklı durum için düşünerek değiştiriniz.
      </para><para>
Programınızı setuid olarak ayarlamanız güzel olurdu, böylece herkes kahve içebilir.
      </para>
    </sect2>
    <sect2>
      <title>Aygıt sürücüsü</title>
      <para>
Bir aygıt sürücüsü yazmak için yalnızca <link xlink:href="http://en.tldp.org/LDP/khg/HyperNews/get/khg.html"/> adresindeki belgeyi (kernel hacker's guide) okuyun, bunu aynı zamanda kullanıcı uzayında da yapabilirsiniz. Lütfen bunu bir modül olarak derleyin ki bizlerde her kernel güncellemesinde, kernel derlemek zorunda kalmayalım. Daha sonra şunu yazın:
      </para><para>
<screen># <command>echo cappuccino >/dev/coffee</command></screen>
      </para><para>
Ve sonra bir dakika içinde sıcak kahveniz olacaktır! Sadece root'un kahve yapmasını isteyip istememenize göre, <filename>/dev/coffee</filename> aygıtına uygun erişim yetkilerini veriniz.
      </para><para>
Bu yöntemin getirisi, paraler port veya benzeri bir yerden gelen ACK'ı kullanarak kahve makinasından bir geri besleme sağlamasıdır, böylece akıllı kahve makinaları, hazır olduklarında bir kesme gönderebilirler.
      </para><para>
Alessandro Rubini ve Jonathan Corbet'in muhteşem <link xlink:href="http://www.xml.com/ldd/chapter/book/index.html">Linux Aygıt Sürücüleri</link>'ni okuyup <link xlink:href="http://lxr.linux.no/source/">Çapraz Linux Referansı</link>'ndaki kodları çalıştıktan sonra bunu kendiniz yapmaya çalışın.
      </para>
    </sect2>
    <sect2>
      <title>Internet ile bağlantı</title>
      <para>
Eğer kontrol programını C ile yazdıysanız (yukarıyı inceleyiniz), sadece bir CGI betiği yazarak kahve makinasını AÇIK veya KAPALI konuma getirmeli veya daha karmaşık komutlar göndermelisiniz. Güzel web sayfaları hazırlayarak, nasıl kahve yapılacağını ve <command>apache</command> sunucusuna nasıl konulacağını anlatmalısınız.
      </para><para>
LAMP teknolojisi, (<command>L</command>inux, <command>A</command>pache, <command>M</command>ySQL, [<command>P</command>erl|Python|PHP]), kullanıcı ayarlı mükemmel bir kahve sisteminin yapılmasında yardımcı olacaktır.
      </para><para>
Gelecekte bir gün, programlar daha karmaşık hal aldığında, akış-tabanlı programlamaya (Flow-Based Programming) geçmek istebilirsiniz: <link xlink:href="http://www.jpaulmorrison.com/fbp/"/>. Büyük bir kahve makinası için ne büyük bir tesadüf!
      </para>
    </sect2>
  </sect1>
  <sect1 xml:id="kahve-nasil-turing-makinasi">
    <title>Tam bir Turing Kahve Makinasını Oluşturmak</title>
    <para>
Erkeklerin erkek olduğu ve kendi kahve makinalarını yaptıkları eski günlerin özlemini duyar mısınız?
    </para><para>
Bu bölüm akıllı, zeki bir kahve makinası oluşturmakla ilgili olucaktır. von Neuman mimarisinde bir bilgisayar tasarımı olucak, CPU, ROM/RAM ve I/O'dan oluşacak, genel kullanıma açık olacaktır, ki bunlar <link xlink:href="http://www.wordiq.com/definition/Turing_machine">Turing Makinası</link> olarak da bilinmektedir.
    </para>
    <sect2>
      <title>Uygun bir assembly dili</title>
      <para>
CISC veya RISC gibi diğer popüler sistemlerin tersine, bizim makinamız MISC olacaktır: Mono-Instruction Set Computer!
      </para><para>
Ne yazık ki, bizim işlemcimiz sadece bir komut algılayabilecek ve sizin 3GHz Pentium 4 işlemcinizin gerçekleştirdiği herhangi bir eylemi yeterli zaman ve bellek verilirse gerçekleştirebilecek ya da simüle edecektir; hesaplanabilir bir problemi aşağıdaki gibi kodlar çalıştırarak çözebilecektir:
      </para><para>
<literallayout>
    SBN     $mem1, $addr1
    SBN     $mem2, $addr2
    SBN     $mem3, $addr3
    SBN     $mem4, $addr4
    SBN     $mem5, $addr5
    SBN     $mem6, $addr6
    [...]
</literallayout>
      </para><para>
Sihirli <literal>SBN $mem, $addr</literal> (Subtract and Branch if Negative) komutu, <literal>$mem</literal> bellek gözündeki veriyi almakta, sayiların tutulduğu akümülatörden bu değeri çıkarmakta (A, bu mimarideki tek yazmaçtır), daha sonra bunu <literal>$mem</literal> bellek gözünde ve akümülatörde saklamaktadır: <literal>[mem] &lt;= A &lt;= A-[mem]</literal>. Eğer sonuç negatifse, sadece o zaman, <literal>$addr</literal> ile belirtilen tasarım adresine dallanmaktadır. Eğer <literal>$addr</literal> bir sonraki komutu işaret ediyorsa o zaman koşullu bir dallanma yapılmamış olur. Şimdi, elinizdeki bu komutla, çıkarma, toplama, bellek adresini sıfırlama, baytları çevirme, çarpma, kıyaslama ve benzerlerini gerçekleyebilirsiniz. En güzeli ise, optimize edecek bir derleyici tasarlayabilirsiniz.
      </para><para>
Bu gerçek bir Turing Makinası problemi için harika bir sistemdir, artı orjinal Turing Makinası'na göre de kodlaması daha kolaydır!
      </para>
    </sect2>
    <sect2>
      <title>Donanım ve arayüz</title>
      <para>
Yenilikçi MIPS işlemcinizin en iyi tarafı, komutlarınızın opkod kısımlarını saklamak için 0 bite ihtiyaç duymanızdır. Bu da işlemcinizi çok çok daha basit hale getirir: Her seferinde bir iki değişkeni okumanız gerekecektir. İşlemcinizin yapabildiklerini, <literal>SBN</literal> komutunun işlediği değişken sayısını 3 veya 4'e çıkararak geliştirmek isteyebilirsiniz, böylece artık doğrudan bellekten veri okuyup, belleğe yazabilecektir. Bu, okuyucuya bırakılan bir denemedir, yüce <link xlink:href="http://www.google.com/">google</link>'a bir sorun.
      </para><para>
İşlemci diyagramı şu şekilde gözükür:
      </para><para>
<literallayout>
    &lt;========= ADDRESS BUS ==============>
            =                =
            =  +---------+   =
            =  | CONTROL |   =
        +---------+  +-----------------+
        | ALU &amp; A |  | Program Counter |
        +---------+  +-----------------+
            =  |  LOGIC  |   =
            =  +---------+   =
            =                =
    &lt;=========== DATA BUS ===============>
</literallayout>
      </para><para>
Şimdi tek yapmanız gereken bir kaç bellek çipini bir araya getirmek, mesela eski 386 bilgisayarınızın RAM'ini ve ALU birimini ve biraz da yapıştırıcı kullanabilirsiniz. Anahtar (latch) ve mantık devreleri için TTL veya CMOS kullanabilirsiniz; ben bir CMOS adamıyım, tabii bu tamamen sizin zevkinize kalmıştır. 8, 16, 32, 64 bit veya herhangi bir bitlikte sistemi ihtiyacınıza göre tasarlayabilirsiniz. Çok büyük kelime genişliklerinin olması durumuna karşı, önceden programlanmış bir 27128 EPROMS'u bir ALU ile beraber kullanmayı, bulunması daha zor olan 74x181s'a tercih ederim. Elde bitini (carry propogation bit) de kontrol etmeyi unutmayın.
      </para><para>
Bütün bu sistemin doğası sadece girdi/çıktı için bellek adreslemesine izin verir, çift yönlü tasarım için daha özel koşullara ihtiyaç duyari, fakat bu ihtiyaçlar, eski nesil sistemlerden daha acayip değildir. <link xlink:href="http://www.sandroid.org/Apollo/">AGC</link>, Apollo 11'i aya gönderen bilgisayardı ve bu tür sistemler kullanmaktaydı, onun için böylesi bir durumda yeterli olmalıdır.
      </para><para>
Veri yolunun tam olarak adres yolu kadar geniş olması gerektiğini unutmayınız, ki bu da byte kavramının 8 bitlik kahve makinalarına uygulanabilirliğini ortaya koyuyor ki, bir özellikten çok bir hata olarak anlayacaksınız. 8 veya 16 bitlik yollara sahip bir kahve makinasıyla nasıl kahveler yapabileceğinizi düşündükçe şaşıracaksınız. Bu, basit işler için tasarlanmış, gerçekten de genel amaçlı bir donanımdır.
      </para>
    </sect2>
    <sect2>
      <title>Yazılım</title>
      <para>
Böylesi saf bir sistem, gömülü sistem kontrolünde çok ünlü olan <link xlink:href="http://www.wordiq.com/definition/Forth_programming_language">FORTH</link> ile çok iyi uyuşacaktır. En temel gereksiniminiz, bir yığın yapısının olmasıdır, bu da bir bellek havuzuna bağlı bir sayaç ile tasarlanabilir.
      </para><para>
Eğer gerçekten de ciddi bir kahve geliştirme platformu tasarlamak istiyorsanız, C'nin taşınabilirliği gerçekten de bu zamanlarda bir zorunluluk olmuş durumdadır. Yapabileceklerinizden birisi, gcc, lcc veya sdcc'yi kırarak, özel olarak tasarlanmış MISC kodunda ince ayar yapmaktır. Belki ilerde siz de C diline benzer bir dil yazmak isteyebilirsiniz, D yi kullanmayı düşünmeyin - zaten alındı - bunun için de derleyicinizle aynı hatayı yapmayın ve lütfen şu adrese gidip bilgileri okuyunuz: <link xlink:href="http://www.gnu.org/software/gcc/projects/beginner.html"/>
      </para><para>
Kendi derleyicinizi yazmayı düşünmeniz halinde, flex, yacc ve ilgili konuları okuyunuz. Özellikle, Noam Chomsky'nin diller üzerindeki sınıflandırmasına hayran olacaksınız:
      </para><para><itemizedlist>
<listitem>Düzenli dilbilgisi (Düzenli ifadelerin (regular expression) soyutlanması)</listitem>
<listitem>İçerikten bağımsız dilbilgisi (BNF açıklamalı herhangi bir dil buna girer)</listitem>
      </itemizedlist></para><para>
Şimdilik bu kadar. <link xlink:href="http://www.wordiq.com/definition/Computability_theory">Hesaplanabilirlik Teorisi</link>ni okuyarak devam edebilirsiniz.
      </para>
    </sect2>
    <sect2>
      <title>Turing Makinası üzerine küçük bir eleştiri</title>
      <para>
Turing Makinası, çalışma şeklinden dolayı (bunun için şu adrese bakınız: <link xlink:href="http://plato.stanford.edu/entries/turing-machine/"/>), programlanması ve gün sonunda da hataların bulunması konusunda oldukça zor bir cihazdır. Bunun sebebi aşağıdaki değiştirgelere bağımlı, sıralı bir işlem yapısına sahip olmasındandır:
      </para><para><orderedlist>
<listitem>Makinanın bulunduğu durum</listitem>
<listitem>Bulunduğu daire içerisinde aradığı sembol ya da sayı, ve</listitem>
<listitem>Komut tablosu</listitem>
      </orderedlist></para><para>
Turing Makinasının (TM) en temel çağdaş sorunlarından biri, ardışıl yapısıdır, kendi yapısıyla yalnızca belli tipteki problemleri çözebilirsiniz. TM'ler seri depolama aygıtları (teypler) ve veri referansları için indeksler kullanmayan problemlerin çözümü için uygundur. Bu Kahve Makinası (KM) için bir tezattır, çünkü rastgele erişimli isteklere de cevap verebilmektedir (basitlikten çok da uzaklaşmayarak).
      </para><para>
Buna ek olarak, TM'ler 3. maddenin çok yüksek ve gereksiz karmaşıklığını, 1. ve 2. maddeleri basit tutarak lehlerine sağlamaktadır. Ve eğer, komut (instruction) tablosundakilerin karman çorman olduğunu düşünüyorsanız, Turing Makinası için bir derleyici yazmaya ne dersiniz? Kolay programlanamayan ve de hataları ayıklanmayan bir sistem, en azından bir bilgisayar mühendisi için sorgulanması gereken bir sistemdir. Mesela kahve makinasını Turing Makinası olarak simüle etmeye çalışın ya da tam tersi. Hey, eğer hala kabul etmiyorsanız, bana kodu gösterin.
      </para><para>
Alt Satır: Kahve Makinası (KM), von Neuman mimarisinin iyi bir modelidir, O(1) karmaşıklığına sahiptir.
      </para>
    </sect2>
  </sect1>
  <sect1 xml:id="kahve-nasil-yuksek-doz">
    <title>Aşırı doz belirtileri</title>
    <itemizedlist>
<listitem>heyecan</listitem>
<listitem>sinir</listitem>
<listitem>uykusuzluk</listitem>
<listitem>kalp çarpıntısı</listitem>
<listitem>yorgunluk</listitem>
<listitem>ışığa aşırı duyarlılık</listitem>
<listitem>değişik ses etkilerine sinirli tepki verme</listitem>
<listitem>mide ve bağırsak rahatsızlığı</listitem>
    </itemizedlist>
  </sect1>
  <sect1 xml:id="kahve-nasil-genisleme">
    <title>Belge Kapsamının Genişletilmesi</title>
    <itemizedlist>
<listitem>Burada bahsedilen tüm donanım ve yazılım, tostlara, elmalı keklere, v.b...'ne uygulanacak şekilde genişletilebilir</listitem>
<listitem>8 Kahve Makinalı bir küme (clusters). Birisi bitirse bile hemen kahvenizin hazır olmasını sağlayacak. Elbetteki biraz performans girdisi olacaktır.</listitem>
<listitem>Paralel-vektör kahve makinası, bir sonraki sürüm olacaktır</listitem>
<listitem>Maksimum kontrol/otomatik yönetim istiyorsanız, daha fazla devre ve sensöre ihtiyacınız vardır, böylece su akışını, sıcaklığı, kahve kalitesini, v.b... 'ni kontrol edebilirsiniz.</listitem>
<listitem>Yakın bir zamanda SNMP özelliklerini yazacağız.</listitem>
<listitem>115Kbps hızında seri kahve makinası</listitem>
    </itemizedlist>
  </sect1>
  <sect1 xml:id="kahve-nasil-daha-fazlasi">
    <title>Daha Fazla Bilgi İçin</title>
    <itemizedlist>
<listitem><link xlink:href="http://db.uwaterloo.ca/~alopez-o/Coffee/coffaq.html"/> Internetteki <command>Kahve-SSS</command></listitem>
<listitem><link xlink:href="http://faculty.washington.edu/chudler/caff.html"/> Kafein ve sinir sistemine etkileri</listitem>
<listitem><link xlink:href="http://www.gardfoods.com/coffee/coffee.coffee.htm"/> İnsalığın kahve bitkisiyle olan hikayesi. Afrika'da insanlar 100,000 yıldır kahve çiğnemektedir. Kahve Yemen'de de M.Ö 525'de anavatanı olmamakla beraber yetiştiriliyordu.</listitem>
<listitem><link xlink:href="http://www.faqs.org/rfcs/rfc2324.html"/> RFC2324: Hyper Text Coffee Pot Kontrol Protokolü (HTCPCP/1.0)</listitem>
<listitem><link xlink:href="http://www.faqs.org/rfcs/rfc2325.html"/> RFC2325: Damlatma-Tipi Sıvı Isıtan cihazların SMIv2 ile kontrolü</listitem>
<listitem><link xlink:href="http://www.tldp.org/HOWTO/mini/IO-Port-Programming"/> Ünlü işletim sistemi Linux altında Girdi/Çıktı portlarının programlanması</listitem>
<listitem><link xlink:href="http://www.ee.washington.edu/circuit_archive/circuits/F_ASCII_Schem_PC.html"/> ASCII de çizilmiş pek çok devre. Bazıları paralel port için.</listitem>
<listitem><link xlink:href="http://www.citr.auckland.ac.nz/~james/parport.html"/> Paralel port hakkında öğrenmek istediğiniz ve sormaya cesaret edemediğiniz her şey</listitem>
<listitem><link xlink:href="http://dir.yahoo.com/Computers_and_Internet/Internet/Devices_Connected_to_the_Internet/Coffee_Machines/"/> Çevrim içi kahve makinaları. Maalesef henüz benchmark testleri yok.</listitem>
<listitem><link xlink:href="http://en.tldp.org/LDP/khg/HyperNews/get/khg.html"/> Kendi aygıt sürücülerinizi nasıl yazarsınız. Hadi, durmayın!</listitem>
<listitem><link xlink:href="http://www.hut.fi/Misc/Electronics/circuits/parallel_output.html"/> Elektronikten hoşlanan herkesin görmesi gereken Tomi Engdahl'ın web sayfası</listitem>
<listitem><link xlink:href="http://www.cs.su.oz.au/~bob/Coffee/index.html"/> Bu kahve makinası sadece cappuccino yapabiliyor. Yükseltilmesi lazım!</listitem>
<listitem><link xlink:href="http://web.archive.org/web/19980121162752/http://einstein.et.tudelft.nl/~janssen/"/> Hollanda'dan sıcak kahve</listitem>
<listitem><link xlink:href="http://www.cl.cam.ac.uk/coffee/coffee.html"/> Truva odası Kahve Makinası</listitem>
<listitem><link xlink:href="http://www.menet.umn.edu/coffeecam/"/> CoffeCAM</listitem>
    </itemizedlist>
  <para>
Bu bölümdeki bağlar bazen zaman aşımına uğramaktadır, onları tekrar bulmak için mükemmel yol bulma aracını kullanabilirsiniz: <link xlink:href="http://www.archive.org/"/>
  </para></sect1>
</article>
