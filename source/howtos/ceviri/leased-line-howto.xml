<?xml version="1.0" encoding="UTF-8"?>
<!-- ********************************************************************
         leased-line-howto.xml, v1.1, GFDLv1.2, Aralık 2006
     ******************************************************************** -->
   <article xml:id="leased-line-howto" xmlns="http://docbook.org/ns/docbook"
 xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:lang="tr">
    <info>
     <title>Kiralık Hat-Mini NASIL</title>
     <authorgroup>
      <author>
       <personname>
        <firstname>Rob</firstname>
        <surname>van der Putten</surname>
       </personname>
       <affiliation>
        <address>
         <email>rob@sput.nl</email>
        </address>
       </affiliation>
      </author>
      <author role="translator">
       <personname>
        <firstname>Müzeyyen Hıştıroğlu</firstname>
       </personname>
       <affiliation>
        <address>
         <email>muzocomu@yahoo.com</email>
        </address>
       </affiliation>
      </author>
     </authorgroup>
     <pubdate>18 Şubat 2006</pubdate>
     <revhistory>
      <revision>
       <revnumber>1.1</revnumber>
       <date>Aralık 2006</date>
       <authorinitials>mh</authorinitials>
       <revremark>Güncelleme</revremark>
      </revision>
      <revision>
       <revnumber>1.0</revnumber>
       <date>Nisan 2006</date>
       <authorinitials>mh</authorinitials>
       <revremark>İlk çeviri</revremark>
      </revision>
     </revhistory>
     <revhistory>
      <revision>
       <revnumber>2.3b8</revnumber>
       <date>2006-02-18</date>
       <authorinitials>RvdP</authorinitials>
       <revremark>Modem belgeleri hatırlatmaları</revremark>
      </revision>
      <revision>
       <revnumber>2.3b7</revnumber>
       <date>2005-09-05</date>
       <authorinitials>RvdP</authorinitials>
       <revremark>Ek PPPD seçenekleri ve rota tespit etme</revremark>
      </revision>
      <revision>
       <revnumber>2.3b6</revnumber>
       <date>2005-01-19</date>
       <authorinitials>RvdP</authorinitials>
       <revremark>Yeni ağa nasıl bağlanılır</revremark>
      </revision>
      <revision>
       <revnumber>2.3b5</revnumber>
       <date>2004-12-31</date>
       <authorinitials>RvdP</authorinitials>
       <revremark>1. XML sürümü</revremark>
      </revision>
      <revision>
       <revnumber>2.3b4</revnumber>
       <date>2003-10-01</date>
       <authorinitials>RvdP</authorinitials>
       <revremark>Eposta adreslerinden kurtulma</revremark>
      </revision>
      <revision>
       <revnumber>2.3b3</revnumber>
       <date>2002-09-19</date>
       <authorinitials>RvdP</authorinitials>
       <revremark>1. deneysel DocBook sürümü</revremark>
      </revision>
      <revision>
       <revnumber>2.2</revnumber>
       <date>2001-12-05</date>
       <authorinitials>RvdP</authorinitials>
       <revremark>FDL telif hakkı</revremark>
      </revision>
      <revision>
       <revnumber>2.1</revnumber>
       <date>2000-08-03</date>
       <authorinitials>RvdP</authorinitials>
       <revremark>Yeni yazar epostü adresleri</revremark>
      </revision>
      <revision>
       <revnumber>2.0</revnumber>
       <date>2000-04-20</date>
       <authorinitials>RvdP</authorinitials>
       <revremark>1. LinuxDoc SGML versiyonu</revremark>
      </revision>
     </revhistory>
     <legalnotice>
      <para>
Bu belgenin, <emphasis>Kiralık Hat NASIL</emphasis> çevirisinin 1.0 sürümünün <emphasis role="bold">telif hakkı © 2006 <emphasis>Müzeyyen Hıştıroğlu</emphasis>'na</emphasis>, özgün İngilizce sürümünün <emphasis role="bold">telif hakkı © 2006 <emphasis>Rob van der Putten</emphasis>'e</emphasis> aittir. Bu belgeyi, Free Software Foundation tarafından yayınlanmış bulunan GNU Özgür Belgeleme Lisansının 1.2 ya da daha sonraki sürümünün koşullarına bağlı kalarak kopyalayabilir, dağıtabilir ve/veya değiştirebilirsiniz. Bu Lisansın bir kopyasını <link xlink:href="fdl.html">GNU Free Documentation License</link> başlıklı bölümde bulabilirsiniz.
</para>
      <para>
BU BELGE "ÜCRETSİZ" OLARAK RUHSATLANDIĞI İÇİN, İÇERDİĞİ BİLGİLER İÇİN İLGİLİ KANUNLARIN İZİN VERDİĞİ ÖLÇÜDE HERHANGİ BİR GARANTİ VERİLMEMEKTEDİR. AKSİ YAZILI OLARAK BELİRTİLMEDİĞİ MÜDDETÇE TELİF HAKKI SAHİPLERİ VE/VEYA BAŞKA ŞAHISLAR BELGEYİ "OLDUĞU GİBİ", AŞİKAR VEYA ZIMNEN, SATILABİLİRLİĞİ VEYA HERHANGİ BİR AMACA UYGUNLUĞU DA DAHİL OLMAK ÜZERE HİÇBİR GARANTİ VERMEKSİZİN DAĞITMAKTADIRLAR. BİLGİNİN KALİTESİ İLE İLGİLİ TÜM SORUNLAR SİZE AİTTİR. HERHANGİ BİR HATALI BİLGİDEN DOLAYI DOĞABİLECEK OLAN BÜTÜN SERVİS, TAMİR VEYA DÜZELTME MASRAFLARI SİZE AİTTİR.
</para>
      <para>
İLGİLİ KANUNUN İCBAR ETTİĞİ DURUMLAR VEYA YAZILI ANLAŞMA HARİCİNDE HERHANGİ BİR ŞEKİLDE TELİF HAKKI SAHİBİ VEYA YUKARIDA İZİN VERİLDİĞİ ŞEKİLDE BELGEYİ DEĞİŞTİREN VEYA YENİDEN DAĞITAN HERHANGİ BİR KİŞİ, BİLGİNİN KULLANIMI VEYA KULLANILAMAMASI (VEYA VERİ KAYBI OLUŞMASI, VERİNİN YANLIŞ HALE GELMESİ, SİZİN VEYA ÜÇÜNCÜ ŞAHISLARIN ZARARA UĞRAMASI VEYA BİLGİLERİN BAŞKA BİLGİLERLE UYUMSUZ OLMASI) YÜZÜNDEN OLUŞAN GENEL, ÖZEL, DOĞRUDAN YA DA DOLAYLI HERHANGİ BİR ZARARDAN, BÖYLE BİR TAZMİNAT TALEBİ TELİF HAKKI SAHİBİ VEYA İLGİLİ KİŞİYE BİLDİRİLMİŞ OLSA DAHİ, SORUMLU DEĞİLDİR.
</para>
      <para>
Tüm telif hakları aksi özellikle belirtilmediği sürece sahibine aittir. Belge içinde geçen herhangi bir terim, bir ticari isim ya da kuruma itibar kazandırma olarak algılanmamalıdır. Bir ürün ya da markanın kullanılmış olması ona onay verildiği anlamında görülmemelidir.
</para>
     </legalnotice>
    </info>
    <para role="only.html">Ek - <link xlink:href="fdl.html">GNU Free Documentation License</link></para>
    <section xml:id="leased-line-howto-intro">
     <info>
      <title>Giriş</title>
     </info>
     <section xml:id="leased-line-howto-whatis">
      <info>
       <title>Kiralık Hat Nedir</title>
      </info>
      <para>
Kiralık hat, herhangi bir telekom veya benzeri şirketten kiralanmış, kablolu bir uçtan uca veri iletişim hattıdır. Kiralık hat, ikili bükülü telefon kablosu, koaksiyel kablo, fiberoptik kablo, bobin, çevirici, güçlendirici, üreteç gibi donanımlarla tesis edilir.
</para>
      <para>
       <variablelist>
        <varlistentry>
         <term>Bu belge şunlarla ilgilenir:</term>
         <listitem>
          <para>
Modem ve pppd'nizin ikili bükülü kiralık hattı kullanmak üzere yapılandırılması.
</para>
         </listitem>
        </varlistentry>
        <varlistentry>
         <term>Bu belge şunlarla <emphasis>ilgilenmez</emphasis></term>
         <listitem>
          <para>
Modem belgelerinin bulunması, SLIP, pppd'nin temini ve kurulumu, eşzamanlı veri iletişimi, anabantlı modemler, xDSL.
</para>
         </listitem>
        </varlistentry>
       </variablelist>
      </para>
     </section>
     <section xml:id="leased-line-howto-assumptions">
      <info>
       <title>Varsayımlar</title>
      </info>
      <para>
Sisteminizde çalışan bir pppd'ye zaten sahipsinizdir. Ayrıca, modeminizi yapılandırmak için Minicom ya da benzeri küçük bir programa ve elbette modeminizin belgelerine ihtiyacınız olacak.
    </para>
      <note>Modeminizin belgelerine sahip değilim. Bu yüzden <emphasis>X marka Y model modemimi nasıl yapılandırırım?</emphasis> gibi sorular içeren epostalar göndermeyin.</note>
     </section>
    </section>
    <section xml:id="leased-line-howto-modem">
     <info>
      <title>Modem</title>
     </info>
     <para>
Bir kiralık hat bir telefon hattı değildir, bir doğru akım taşımaz, çevir sesi, meşgul sesi veya zil sesi sinyali yoktur. Yani, onlarla çalışmak için gereken herşeyi modemleriniz sağlayabilmelidir.
</para>
     <para>
Hem kiralık hattı hem de sessiz kipi destekleyen birbirinin aynı (gömülü yazılımları dahil) iki <emphasis>harici</emphasis> modeminiz olmalıdır. Modemlerinizin bunu gerçekten yapabildiğinden ve ayrıca <emphasis>olması gerektiği gibi belgelenmiş olduğundan</emphasis> emin olun. Ayrıca şunlara da gerek duyacaksınız:
</para>
     <para>
      <itemizedlist>
       <listitem>
İki tane ekranlı RS232 kablosu. Ekran tek uçta değil her iki uçta da soketin dışı ile irtibatlanmış olmalıdır.
</listitem>
       <listitem>
Bir RS232 test fişi deneme amacıyla bulundurulmalıdır.
</listitem>
       <listitem>
Kiralık hattın her ucu için bir tane olmak üzere 2 tane RJ11 kordonu.
</listitem>
       <listitem>
'AT' komutları hakkında temel bilgi.
</listitem>
      </itemizedlist>
     </para>
     <section xml:id="leased-line-howto-modem-conf">
      <info>
       <title>Modem Yapılandırması</title>
      </info>
      <para>
       <note>
        <info>
         <title>Modem yapılandırması ve ilklendirme dizgesi hakkında</title>
        </info>
        <para>
Modeminizi Minicom veya (m)getty gibi bir yazılımla olası en yüksek hızında kullanmak için yapılandırın; 14k4 modemler için 57600 bps ve 28k8 ve daha hızlı modemler için 115200 bps. Çoğu kimse çok uzun ve karmaşık ilklendirme dizgeleri kullanır, bunlar çoğunlukla AT&amp;F ile başlayan modemin markasına ve türüne özgü bir takım komutlar içeren dizgelerdir. Bu işi gereksiz yere karmaşıklaştırmaktan başka bir şey değildir. Bir çok program aynı modem ayarlarını kullanmaktan memnundur, o halde neden bütün modemlerin kalıcı belleklerine bu ayarlar yazılmaz ve bütün programlarda bir ilklendirme dizgesi olarak sadece 'ATZ' kullanılmaz ki. Böylece hiçbir yazılımın yeniden yapılandırılmasına gerek olmaksızın modem kolayca değiştirebilir ya da üst modele geçilebilirdi.
</para>
       </note>
      </para>
      <para>
Çoğu program aşağıdaki ayarların yapılmasını gerektirir:
</para>
      <para>
       <itemizedlist>
        <listitem>
Sabit (otomatik değil) baud hızı (bit/saniye cinsinden bilgi aktarım hızı)
</listitem>
        <listitem>
Donanımsal 2 yönlü RTS-CTS (x-on/x-off değil) akış denetimli
</listitem>
        <listitem>
8 Bitlik, eşlik biti yok, 1 sonlandırma biti
</listitem>
        <listitem>
Modem <emphasis role="bold">gerçek</emphasis> DCD durumu üretmeli (&amp;C1)
</listitem>
        <listitem>
Modem DTR durumunu  (&amp;D2 veya &amp;D3) <emphasis>yoksaymamalı</emphasis>
</listitem>
       </itemizedlist>
      </para>
      <para>
Bunu AT&amp;V veya AT&amp;Ix (modem belgelerine bakın) ile karşılaştırın.
</para>
      <para>
Bu ayarların öntanımlı üretim profili (&amp;F) ile aynı olması gerekli değildir, bu yüzden bir ilklendirme dizgesinin ilk anda AT&amp;F'yle başlatılması muhtemelen iyi bir fikir olmaz. Gerçekten bozulan kalıcı bellekte modemin kurulumunun saklandığına inanıyorsanız sadece AT&amp;F' yi kullanmak muhtemelen akıllıca bir düşüncedir. Eğer modemleriniz için doğru kurulumu bulduğunuza inanıyorsanız, onu AT&amp;W ile geçici olmayan belleğe yazın ve ASCII metni ve ikilik dosyaların her ikisini de Z-modem dosya transferiyle iyice test edin. Eğer bu işlemlerin hepsi sizce tamamen doğruysa, kiralık hat için modemlerinizi yapılandırın.
</para>
      <para>
Modeminizi sessiz kipe nasıl sokacağınızı ve daha da önemlisi sessiz kipten nasıl çıkarabileceğinizi bulun; Modem sadece sessiz kipte olmadığında yeniden yapılandırılabilir. Emin olun aslında modemlerinizi olası en yüksek hız için yapılandırabilirsiniz. İlk olarak, sessiz kipte tüm 'AT' komutlarını yoksayacak ve sonuçta COM portun hızına ayarlanmamış olacak, fakat  yapılandırıldığı hızı kullanacaktır (bu hız AT&amp;W komutu tarafından bir S-yazmacına saklanır).
</para>
      <para>
Artık modeminizi yapılandırabilirsiniz:
</para>
      <para><itemizedlist><listitem>
DTR'yi değiştirerek modemi sıfırlayın (&amp;D3, bu bazen bir S yazmacı olabilir). Bu ayar bazı ISP'ler tarafından gerekli görülür.
</listitem><listitem>
Kiralık hat kipi (&amp;L1 veya &amp;L2, modem belgenize bakın)
</listitem><listitem>
Uzak modem özdevinimli yanıt (S0=1), yerel başlangıç (S0=0)
</listitem><listitem>
Sonuç kodlarını hizmet dışı bırakın (Q1, bazen sessiz kip bunu sizin için yapar)
</listitem><listitem>
Sessiz kip (\D1 veya %D1, bu bazen bir atlama teli veya kısadevre fişi olabilir).
Sessiz kipte modem tüm AT komutlarını görmezden gelecektir (bazen ESC karakterini de iptal etmeniz gerekebilir).
</listitem></itemizedlist>
Değişken olmayan belleğe yapılandırmayı yazın (&amp;W).
</para>
     </section>
     <section xml:id="leased-line-howto-modem-test">
      <info>
       <title>Deneme</title>
      </info>
      <para>
Şimdi RS232 kabloları kullanarak 2 bilgisayarı modemlere ve RJ11 fişli bir kordon ile de modemleri birbirine bağlayın. Modemlerinizi denemek için her iki bilgisayarda da Minicom (Linux), procom veya telix (DOS) gibi bir modem programı kullanın. Bir bilgisayardan diğerine metin yazabiliyor olmalısınız (iki yönde de). Eğer metin bozuk geliyorsa seri port hızını ve diğer ayarları gözden geçirin. Şimdi bağlantıyı kesin ve RJ11 kordonunu tekrar bağlayın. Bağlantının kendiliğinden yeniden kurulmasını bekleyin. RJ232 kablolarını süküp takın, modemlerinizi açıp kapayın, Minicom'u durdurup başlatın.  Modemler daima olası en yüksek hızda yeniden bağlanmalıdır (bazı modemlerin hız gösteren LED'leri vardır).  Modemlerin gerçekten ESC (+++) karakterini yoksayıp saymadığına bakın Gerekiyorsa ESC karakterini iptal edin.
</para>
      <para>
Eğer bunlar çalışıyorsa modemlerinizi yeniden yapılandırmak isteyebilirsiniz; uzak modemin sesini kapatıp (MO) ve yerel modemin sesini kısın (L1).
</para>
     </section>
     <section xml:id="leased-line-howto-examples">
      <info>
       <title>Örnekler</title>
      </info>
      <section xml:id="leased-line-howto-hi-tech">
       <info>
        <title>Hi-Tech</title>
       </info>
       <para>
'Markasız kopya modem''den hallice bir modem. Yapılandırma dizgesi buna rağmen tipiktir ve bu dizgenin çoğu modemde çalışması gerekir.
</para>
       <para>
        <variablelist>
         <varlistentry>
          <term>Arayan (yerel):</term>
          <listitem>
           <para>
ATL1&amp;C1&amp;D3&amp;L2%D1&amp;W&amp;W1
</para>
          </listitem>
         </varlistentry>
         <varlistentry>
          <term>Aranan (uzak):</term>
          <listitem>
           <para>
ATM0L1&amp;C1&amp;D3&amp;L2%D1S0=1&amp;W&amp;W1
</para>
          </listitem>
         </varlistentry>
        </variablelist>
       </para>
      </section>
      <section xml:id="leased-line-howto-tornado">
       <info>
        <title>Tornado FM 228 E</title>
       </info>
       <para>
Ne yapsan çalışır;
</para>
       <para>
        <variablelist>
         <varlistentry>
          <term>Arayan (yerel):</term>
          <listitem>
           <para>
ATB15L1Q1&amp;C1&amp;D3&amp;L2&amp;W&amp;W1
</para>
          </listitem>
         </varlistentry>
         <varlistentry>
          <term>Aranan (uzak):</term>
          <listitem>
           <para>
ATM0B15M0Q1&amp;C1&amp;D3&amp;L2S0=1&amp;W&amp;W1
</para>
          </listitem>
         </varlistentry>
        </variablelist>
       </para>
       <para>
Sessiz kip seçim fişini 2-3 durumundan 1-2 durumuna getirin.
</para>
       <para>
Gömülü yazılımındaki bir hatadan dolayı modemler sadece DTR birken enerjileri kesilip verildikten sonra bağlanacaklardır. Ben, DTR geçişlerinde modemi açıp kapayan bir <link xlink:href="http://www.sput.nl/hardware/modem-reset.html#l2h">devre</link> hazırladım. FreeBSD pppd her nedense, bu durumdan çok memnun değil. DTR geçişlerinde sıfırlamak yerine <link xlink:href="http://www.sput.nl/hardware/modem-reset.html#h2l">devreyi</link> &amp;D0 ayarı ile birleştirince, bu sorun giderilebilir.
</para>
      </section>
      <section xml:id="leased-line-howto-tron">
       <info>
        <title>Tron DF</title>
       </info>
       <para>
S2 &gt; 127 yaparak ESC karakteri iptal edilmelidir;
</para>
       <para>
        <variablelist>
         <varlistentry>
          <term>Arayan (yerel):</term>
          <listitem>
           <para>
ATL1&amp;L1Q1&amp;C1&amp;D3S2=171\D1&amp;W
</para>
          </listitem>
         </varlistentry>
         <varlistentry>
          <term>Aranan (uzak):</term>
          <listitem>
           <para>
ATM0&amp;L2Q1&amp;C1&amp;D3S0=1S2=171\D1&amp;W
</para>
          </listitem>
         </varlistentry>
        </variablelist>
       </para>
      </section>
      <section xml:id="leased-line-howto-courier">
       <info>
        <title>US Robotics Courier V-hepsi</title>
       </info>
       <para>
USR Sportster ve USR Courier-I kiralık hattı desteklemez. Bu iş için Courier V-hepsi sürümüne ihtiyacınız var. USR sitesinde Courier modeminizi kiralık hat için nasıl ayarlayacağınızı açıklayan bir sayfa var. Bununla birlikte, eğer bu komutları takip ederseniz, bu işlemler sonunda elinizde sadece pppd'nizle algılanamayan ya da denetlenemeyen ölü beyinli bir modem olur.
</para>
       <para>
USR Courier kart üzerindeki mini anahtarlarla da yapılandırılabilir, yine de önce yapılandırma dizgesi ile beslemeniz gerekir. İlk doğru fabrika ayarlarının kullanıldığından emin olun. Diğer modemlerin bir çoğundan farklı olarak, &amp;F0, &amp;F1 ve &amp;F2 diye üç  profili vardır. Öntanımlı olanı ve sizin de kullanmanız gerekeni &amp;F1'dir. Eğer ona bir AT&amp;F gönderirseniz, buna rağmen abrika profili &amp;F0'ı yükleyecektir! DTR geçişi ile sıfırlamak için S yazmacı 13'ün sıfırıncı biti 1 yapılır. Bunun anlamı S13'e 1 yerleştirmektir. Ayrıca &amp;L1; ATS13=1&amp;L1&amp;W dizgesiyle kiralık hat kipine ayarlamanız gerekir. Kart üzerindeki mini anahtarların fabrika ayarlarına aşağıdakiler hariç dokunmayın:
</para>
       <para>
        <variablelist>
         <varlistentry>
          <term>3</term>
          <listitem>
           <para>
OFF Sonuç kodları iptal edilir.
</para>
          </listitem>
         </varlistentry>
         <varlistentry>
          <term>4</term>
          <listitem>
           <para>
ON Çevrimdışı komutlar iptal edilir
</para>
          </listitem>
         </varlistentry>
         <varlistentry>
          <term>5</term>
          <listitem>
           <para>
Arayan için ON, aranan için OFF
</para>
          </listitem>
         </varlistentry>
         <varlistentry>
          <term>8</term>
          <listitem>
           <para>
OFF Sessiz kip
</para>
          </listitem>
         </varlistentry>
        </variablelist>
       </para>
      </section>
     </section>
    </section>
    <section xml:id="leased-line-howto-pppd">
     <info>
      <title>PPPD</title>
     </info>
     <para>
Bir pppd'ye (Point to Point Protocol Deamon) ve nasıl çalıştığına dair makul bir bilgiye sahip olmalısınız. Eğer gerekliyse ilgili RFC'lere ya da <link xlink:href="http://www.tldp.org/HOWTO/PPP-HOWTO/index.html">Linux PPP NASIL</link> belgesine göz atabilirsiniz. Eğer bir login prosedürü kullanmayacaksanız, (m)getty kullanmanıza ya da bağlantınızı kontrol eden pppd ile ilişkilendirilmiş (sahte) bir kullanıcıya ihtiyacınız olmayacak. Eğer telefon etmeyecekseniz, herhangi bir konuşma betiğine de gerek kalmaz. Aslında kurduğunuz modem devreleri ve yapılandırması biraz da tamamen telli boş modem kablolarına benzer. Bu da pppd'nizi boş bir modem kablosunu nasıl yapacaksanız aynı yolla yapılandırmanız gerektiği anlamına gelir.
</para>
     <para>
Güvenilir bir bağlantı için, kurulumunuz aşağıdaki kriterleri izlemelidir;
</para>
     <para>
      <itemizedlist>
       <listitem>
Sisteminizin ön yüklemesinden kısa bir süre sonra pppd, RS232 portunuzda DTR sinyalini vermeli, DCD'nin çıkmasını beklemeli ve  bağlantıyı müzakere etmelidir.
</listitem>
       <listitem>
Eğer uzak sisteme erişilemiyorsa, pppd tekrar erişilene kadar beklemede kalmalıdır.
</listitem>
       <listitem>
Eğer bağlantı geldiyse ve devam ediyorsa, pppd modemi yeniden ayarlamalı (bu işlem DTR'yi düşürüp sonra da yükseltilerek yapılır) ve daha sonra yeniden bağlantı kurmaya çalışmalıdır.
</listitem>
       <listitem>
Eğer bağlantının kalitesi çok düşükse, pppd modemi yeniden ayarlamalı ve bağlantıyı yeniden kurmalıdır.
</listitem>
       <listitem>
Eğer bağlantıyı kontrol eden süreç, yani pppd ölürse bir gözcü (watchdog) pppd'yi yeniden başlatmalıdır.
</listitem>
      </itemizedlist>
     </para>
     <section xml:id="leased-line-howto-pppd-conf">
      <info>
       <title>Yapılandırma</title>
      </info>
      <para>
Örneğin modemin COM2'ye bağlı olduğunu, yerel IP adresinin <varname>loc_ip</varname> olduğunu ve
uzak IP adresinin <varname>rem_ip</varname> olduğunu düşünelim.
MTU için 576'yı kullanmak istiyoruz. <filename>/etc/ppp/options.ttyS1</filename> dosyamız aşağıdaki
gibi olmalıdır:
</para>
      <para>
       <screen>
crtscts
mru 576
mtu 576
passive
<emphasis>loc_ip</emphasis>:<emphasis>rem_ip</emphasis>
-chap
modem
#noauth
-pap
persist
#maxfail 0
#holdoff 10
</screen>
      </para>
      <para><!--
Stuff like `asyncmap 0', `lock', `modem' and `-detach' are probably
 already in /etc/ppp/options. If not, add them to your /etc/ppp/options.ttyS1.
 So, if the local system is 192.168.1.1 and the remote system is 10.1.1.1, then
  /etc/ppp/options.ttyS1 on the local system would be:
--><literal>asyncmap 0, lock, modem</literal> ve <option>-detach</option> gibi şeyler muhtemelen <filename>/etc/ppp/options</filename> dosyasında bulunuyordur. Eğer öyle değilse, bunları <filename>/etc/ppp/options.ttyS1</filename> dosyanıza eklemelisiniz. Eğer yerel sisteminiz 192.168.1.1 ve uzak sisteminiz 10.1.1.1 ise, yerel sisteminizdeki <filename>/etc/ppp/options.ttyS1</filename> dosyanız aşağıdaki gibi olmalıdır:
</para>
      <para>
       <screen>
crtscts
mru 576
mtu 576
passive
192.168.1.1:10.1.1.1
-chap
modem
#noauth
-pap
persist
#maxfail 0
#holdoff 10
</screen>
      </para>
      <para>
Uzak sistemdeki ttyS1 seçenekleri şöyle olmalıdır:
</para>
      <para>
       <screen>
crtscts
mru 576
mtu 576
passive
10.1.1.1:192.168.1.1
-chap
modem
#noauth
-pap
persist
#maxfail 0
#holdoff 10
</screen>
      </para>
      <para><literal>passive</literal> seçeneği bağlantı (ya da yeniden bağlantı) girişimlerinin sayısını sınırlar. <literal>persist</literal> seçeneği pppd'nin ilk seferde bağlantı kuramadığı takdirde ya da bağlantı koptuğunda ayakta olmasını sağlar.
</para>
      <para>
Eğer dosya transferleri sırasında (FTP ya da internette gezinirken) çok fazla telnet kullanırsanız 296 gibi daha küçük bir MTU ve MRU kullanmanız daha iyi olacaktır. Böylece uzak sisteminizi daha uyumlu hale getirmiş olacaksınız. Eğer FTP kullanırken telnet'i fazla umursamazsanız o zaman MTU ve MRU'yu 1500 gibi büyük bir değer yapabilirsiniz. Aynı zamanda UDP'nin parçalanamayacağını da aklınızda bulundurun. Örneğin UDP paketlerinin 512 bayt olduğunu kabul edelim. O halde asgari MTU'nun 552 bayt olması gerekecektir.
</para>
      <para><literal>noauth</literal> seçeneği bazı yeni dağıtımlar için gerekli olabilir. <literal>maxfail 0</literal> da daha yeni PPPD'ler için gerekli olabilir.
</para>
      <para>
Bağlantı kaybolduktan sonra PPPD yeniden bağlanmak için bir süre bekleyecektir. Bekleme süresi <literal>holdoff</literal> seçeneği ile ayarlanabilir. <literal>holdoff</literal> için öntanımlı değer 30 saniye idi ancak artık sıfır kullanılıyor. <literal>holdoff</literal> seçeneği genelde 10 olarak kullanılır.
</para>
     </section>
     <section xml:id="leased-line-howto-scripts">
      <info>
       <title>Betikler</title>
      </info>
      <section xml:id="leased-line-howto-start">
       <info>
        <title>  pppd'yi başlatma ve ayakta tutma</title>
       </info>
       <para>
pppd formunu bir önyükleme betiğinden (rc) çalıştırabilirsiniz. Buna rağmen eğer bu yolu kullanırsanız ve pppd ölürse, o zaman bir bağlantınız da olmayacaktır. Daha kararlı bir çözüm, pppd'yi <filename>/etc/inittab</filename>'dan başlatmak olacaktır;
</para>
       <para>
        <screen>
s1:23:respawn:/usr/sbin/pppd /dev/ttyS1 115200
</screen>
       </para>
       <para>
Bu yöntem sayesinde pppd ölürse, yeniden başlatılacaktır. Ancak <option>-detach</option> seçeneğiniz olduğundan (yeni sistemlerde <option>nodetach</option>) emin olun, aksi takdirde <filename>inittab</filename> pppd'nin bir çok örneğini başlatacaktır.
</para>
       <para>
        <note>
         <para>
Bazı eski sistemler `115200' hızını kabul etmeyecektir. Bu durumda hızı 38400 yapmanız ve <command>setserial</command> ile <option>spd_vhi</option> bayrağını ayarlamanız gerekecektir. Bazı sistemler <filename>ttyS</filename> aygıtı yerine <filename>cua</filename> kullandığınızı varsayarlar.
</para>
        </note>
       </para>
      </section>
      <section xml:id="leased-line-howto-routes">
       <info>
        <title>Rotaların Kurulumu</title>
       </info>
       <para>
Varsayılan rota <option>defaultroute</option> seçeneği ile ya da  <filename>/etc/ppp/ip-up</filename> betiğiyle ayarlanabilir;
</para>
       <para>
        <screen>
#!/bin/bash
case $2 in
     /dev/ttyS1)
          /sbin/route add -net 0.0.0.0 gw <emphasis>rem_ip</emphasis> netmask 0.0.0.0
          ;;
esac
</screen>
       </para>
       <para><filename>ip-up</filename> aynı zamanda sistem saatinizi <command>netdate</command> kullanarak eşzamanlamak için kullanılabilir.
</para>
       <para>
Rotanın <filename>ip-up</filename> içinde varsayılan rota olarak ayarlanması zorunlu değildir.
Sizin <filename>ip-up</filename>'ınız uzak ağdaki rotayı ayarlarlarken, uzak sistemdeki <filename>ip-up</filename> betiği de sizin ağınıza erişmek için gereken rotayı ayarlar. Eğer ağınız 192.168.1.0 ve ppp arayüzünüz 192.168.1.1 ise, uzak sistemdeki <filename>ip-up</filename> betiği aşağıdaki gibi olmalıdır;
</para>
       <para>
        <screen>
#!/bin/bash
case $2 in
   /dev/ttyS1)
      /sbin/route add -net 192.168.1.0 gw 192.168.1.1 netmask 255.255.255.0
      ;;
esac
</screen>
       </para>
       <para><literal>case $2</literal> ve <filename>/dev/ttyS1)</filename> birden fazla ppp bağlantınız olduğu durumlarda işinize yarar. <filename>ip-up</filename> bağlantı kurulduğu her sefer çalışacaktır, ama sadece <filename>/dev/ttySx)</filename> ve <literal>;;</literal> arasındakiler işletilecektir ve doğru <filename>ttyS</filename> için rota belirlenecektir. Yönlendirme hakkında daha fazla bilgiyi <link xlink:href="http://www.tldp.org/HOWTO/HOWTO-INDEX/networking.html">Linux Ağ Oluşturma NASIL</link> belgesinde bulabilirsiniz.
</para>
       <para>
Bazı sistemler temel bir tty üzerinden yönlendiremedikleri zaman dinamik ttys kullanmayı tercih ederler. Bu durumda ip adresini bir ppp arayüzüne çevirmek ve sonra da belli bir ppp arayüzünden yönlendirme (ve güvenlik duvarı) yapmak daha elverişli olabilir. Bu yüzden <filename>/etc/ppp/ip-up</filename> dosyasını aşağıdaki gibi düzenledim;
</para>
       <para>
        <screen>
# Bu değişkenler çalışan-kısımlar tarafından betiklerin çalıştırılması içindir
PPP_IFACE="$1"
PPP_TTY="$2"
PPP_SPEED="$3"
PPP_LOCAL="$4"
PPP_REMOTE="$5"
PPP_IPPARAM="$6"
export PPP_IFACE PPP_TTY PPP_SPEED PPP_LOCAL PPP_REMOTE PPP_IPPARAM

# ip'yi  ppp'ye çevirme
echo $PPP_IFACE &gt; "/var/run/ppp/if-$PPP_LOCAL"
sleep 1
# Güvenlik duvarını tekrar çalıştırma .
/usr/local/sbin/rc.block

# (Varsayılan) rotaya (ya da rotalara ) dikkat edilmesi
case $PPP_LOCAL in
        "<emphasis>ip_adresim</emphasis>")
                /sbin/route add -net 0.0.0.0 gw $PPP_REMOTE netmask 0.0.0.0
                ;;

esac

# Önyüklemede sabit şeyler atlandı
if ! ( netstat -an | grep '<emphasis>ip_adresim</emphasis>:53' &gt; /dev/null 2&gt;&amp;1 )
then
        # Just booted
        # Sync clock
        /usr/local/sbin/ntpdate.sh &amp;
        # Set the null routes
        /usr/local/sbin/null-route.sh &amp;
        # Bind 9 needs this;
        sleep 1
        /etc/init.d/bind9 restart
fi

# Bir sesli uyarı
/bin/echo -ne "\007" &gt;&gt; /dev/tty1
</screen>
       </para>
       <para><varname>ip_adresim</varname> kısmını kendi IP adresinizle değiştirin. <filename>/usr/local/sbin/ntpdate.sh</filename> dosyası saati eşzamanlamak için kullanılır.
Bu dosya NTPD'yi durdurur, <command>ntpdate</command> kullanarak eşzamanlamayı yapar ve NTPD'yi yeniden başlatır.  <filename>/usr/local/sbin/null-route.sh</filename> boş rotaları ayarlayan bir dosyadır;
</para>
       <para>
        <screen>
#!/bin/bash
route add -net 10.0.0.0    netmask 255.0.0.0   reject
route add -net 172.16.0.0  netmask 255.240.0.0 reject
route add -net 192.168.0.0 netmask 255.255.0.0 reject
</screen>
       </para>
       <para>
Eğer kullanımda RFC 1918 adreslerine sahipseniz, boş rotalar daha küçük bir ağ maskesi kullanmanıza izin vermeyeceklerdir.  192.168.1.0/24 ağı boş rota 192.168.0.0/16 tarafından rahatsız edilmeyecektir;
</para>
       <para>
        <screen>
Kernel IP rota tespit etme tablosu
Hedef           Ağ Geçidi       Bilgi Maskesi Bayrak Metrik Ref     Use Iface
255.255.255.255 0.0.0.0         255.255.255.255 UH    0      0        0 eth1
195.190.249.4   0.0.0.0         255.255.255.255 UH    0      0        0 ppp0
10.0.0.0        0.0.0.0         255.255.255.0   U     0      0        0 eth0
192.168.1.0     0.0.0.0         255.255.255.0   U     0      0        0 eth1
192.168.0.0     -               255.255.0.0     !     0      -        0 -
172.16.0.0      -               255.240.0.0     !     0      -        0 -
10.0.0.0        -               255.0.0.0       !     0      -        0 -
0.0.0.0         195.190.249.4   0.0.0.0         UG    0      0        0 ppp0
</screen>
       </para>
      </section>
     </section>
     <section xml:id="leased-line-howto-pppd-test">
      <info>
       <title>Test</title>
      </info>
      <para>
Her şeyi test etmek modemi test etmek gibidir. Eğer çalışırsa, bisikletinize atlayın ve uzak modemi
bağlantınızın uzak tarafına taşıyın. Eğer çalışmazsa, o zaman yapmanız gereken ilk işlerden biri COM portunun  hızını kontrol etmek olacaktır; genelde sıkça yapılan hatalardan biri Minicom'lu modemleri tek bir hız kullanarak yapılandırmak ve daha sonra da başka bir hız kullanarak pppd'yi ayarlamaktır. Bu hiç bir zaman <emphasis remap="bf">çalışmayacaktır! </emphasis>  Her zaman aynı hızı kullanmak zorundasınız!
</para>
     </section>
    </section>
   </article>
