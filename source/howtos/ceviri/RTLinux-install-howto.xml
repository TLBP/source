<?xml version="1.0" encoding="UTF-8"?>
<article xml:id="RTLinux-install-howto" xml:lang="tr">
 <info>
  <title>RTLinux Kurulumu NASIL</title>
  <authorgroup>
   <author>
    <personname>
     <firstname>Artemiy</firstname>
     <surname>I. Pavlov</surname>
    </personname>
    <affiliation>
     <address>
      <email>artemio@artemio.net&gt;</email>
     </address>
    </affiliation>
   </author>
   <author role="translator">
    <personname>
     <firstname>Necdet Yücel</firstname>
    </personname>
    <affiliation>
     <address>
      <email>nyucel@comu.edu.tr</email>
     </address>
    </affiliation>
   </author>
  </authorgroup>
  <pubdate>Kasım 2005</pubdate>
  <revhistory>
   <revision>
    <revnumber>1.0</revnumber>
    <date>Kasım 2005</date>
    <authorinitials>NY</authorinitials>
    <revremark>İlk çeviri</revremark>
   </revision>
  </revhistory>
  <revhistory>
   <revision>
    <revnumber>0.1</revnumber>
    <date>2004-05-22</date>
    <authorinitials>AIP</authorinitials>
    <revremark>İlk resmi sürüm</revremark>
   </revision>
  </revhistory>
 </info>
 <section xml:id="RTLinux-install-howto-intro">
  <info>
   <title>RTLinux'a Giriş</title>
  </info>
  <section xml:id="RTLinux-install-howto-background">
   <info>
    <title>RTLinux Nedir?</title>
   </info>
   <para>
RTLinux benzersiz patentli iki parçalı çekirdek teknolojisine sahip bir katı-gerçek zamanlı Linux genişletmesidir. Küçük bir RTLinux çekirdeği özgün Linux çekirdeğini kendisinin bir süreci gibi çalıştırır. Bu, uygulamaların iki farklı çekirdek seviyesinde çalıştırılabilmesinin kapılarını açar: gerçek zamanlı RTLinux çekirdeği ve alışılmış gerçek zamanlı olmayan Linux çekirdeği. Özgün Linux çekirdeğinin donanımı RTLinux çekirdeği aracılığı ile görmesi RTLinux'un donanım kaynakları üzerinde tam yetkili olmasına izin verir.
  </para>
   <para>
    <literallayout class="normal">
             --------------------
             I                  I
             I     donanım      I
             I                  I
             --------------------
                         ^
             ------------I-------
             I                  I
             I     RTLinux      I
             I     çekirdeği    I
             I                  I
             --------------------
                ^           ^
----------------I--      ---I---------------
I                 I      I                 I
I gerçek zamanlı  I      I     Linux       I
I    süreçler     I      I     çekirdeği   I
I                 I      I                 I
-------------------      -------------------
                            ^
                         ---I----------------
                         I                  I
                         I gerçek zamanlı   I
                         I olmayan süreçler I
                         I                  I
                         --------------------
</literallayout>
   </para>
   <para>
RTLinux'un iki farklı sürümü bulunmaktadır: RTLinux/Free (RTLinux/Open olarak da bilinmektedir) ve RTLinux/Pro. RTLinux/Pro; FSMLabs tarafından geliştirilen tamamen ticari gerçek zamanlı bir Linux'tur. RTLinux/Free ise gönüllüler tarafından geliştirilen açık-kodlu bir sürümdür.
</para>
  </section>
  <section xml:id="RTLinux-install-howto-process">
   <info>
    <title>Yöntem</title>
   </info>
   <para>
RTLinux'un derlenmesi ve kurulması süreci aşağıdaki temel adımlardan oluşur:
    </para>
   <para>
    <itemizedlist>
     <listitem>RTLinux'un indirilmesi</listitem>
     <listitem>Çekirdeğiniz için uygun yamanın bulunması</listitem>
     <listitem>Özgün (temiz) Linux çekirdeğinin indirilmesi</listitem>
     <listitem>Çekirdek kaynak koduna yama uygulanması</listitem>
     <listitem>Çekirdeğin yapılandırılması ve derlenmesi</listitem>
     <listitem>Bilgisayarın RTLinux'a uygun Linux çekirdeği ile yeniden başlatılması</listitem>
     <listitem>RTLinux çekirdeğinin ve modüllerinin derlenmesi, kurulması ve test edilmesi</listitem>
     <listitem>RTLinux çekirdeği ve modüllerinin başlatılması</listitem>
    </itemizedlist>
   </para>
  </section>
  <section xml:id="RTLinux-install-howto-download">
   <info>
    <title>RTLinux'u Edinmek</title>
   </info>
   <para>RTLinux'un son resmi sürümünü FSMLabs sitesinden indirebilirsiniz: <uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.fsmlabs.com">http://www.fsmlabs.com</uri>.
</para>
   <para>
Çekirdek yamalarını aşağıdaki adresten indirebilirsiniz:
</para>
   <para>
    <uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="ftp://ftp.rtlinux.at/pub/rtlinux/contrib/hofrat">ftp://ftp.rtlinux.at/pub/rtlinux/contrib/hofrat</uri>
   </para>
  </section>
 </section>
 <section xml:id="RTLinux-install-howto-upandrun">
  <info>
   <title>Hazır ve Çalışan RTLinux</title>
  </info>
  <section xml:id="RTLinux-install-howto-prepare">
   <info>
    <title>Hazırlık</title>
   </info>
   <para>
    Bu bölümde RTLinux derlemeye hazırlık aşamalarında gerekenler anlatılmaktadır:
    </para>
   <para>
    <itemizedlist>
     <listitem>
      <para>Önceki bölümde listelenen sunuculardan birinden RTLinux/Free'yi indirin. Kaynak kodları açın, yamaların bulunduğu dizine geçerek uygun çekirdek yamalarını kontrol edin. Eğer kullanmayı planladığınız çekirdek sürümü için yama bulunmuyorsa uygun yama için destekçilerin sayfalarına bakabilirsiniz.</para>
     </listitem>
     <listitem>
      <para>RTLinux yaması ile kullanmak istediğiniz Linux çekirdeğinin özgün halini <uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://kernel.org">http://kernel.org</uri> adresinden indirin.</para>
     </listitem>
     <listitem>
      <para>GCC sürümünüzü kontrol edin. Eğer 2.96 ise büyük ihtimalle SMP bilgisayarlarda çekirdek derleme ve çalıştırma konusunda problemlerle karşılaşırsınız. Bu nedenle ya daha eski (2.91, 2.95) ya da daha yeni (3.x) bir sürümü kurmalısınız. </para>
     </listitem>
    </itemizedlist>
   </para>
  </section>
  <section xml:id="RTLinux-install-howto-install">
   <info>
    <title>RTLinux'un derlenmesi ve kurulması</title>
   </info>
   <para>
  Linux çekirdeğinin kaynak kodlarını <filename>/usr/src/linux</filename> dizinine açın. Eğer başka bir dizine, örneğin <filename>linux-2.4.18</filename>'e açarsanız <filename>/usr/src/linux</filename> dizinine sembolik bağ vermeniz gerekir (bu RTLinux çekirdeğinin ve modüllerin derlenebilmesi için gereklidir):
  </para>
   <para>
    <screen>bash# <command>cd /usr/src</command>
bash# <command>ln -s linux-2.4.18 linux</command>
</screen>
   </para>
   <para>
RTLinux kodunu <filename>/usr/src/rtlinux</filename> dizinine açın. RTLinux çekirdek yamasını <filename>/usr/src</filename> dizinine taşıyın (yamanın adının <filename>rtlinux-patch</filename> olduğunu kabul edeceğiz). Linux çekirdeğinin kaynak kodunun bulunduğu dizine geçin ve çekirdeğe yamayı uygulayın:
</para>
   <para>
    <screen>bash# <command>cd /usr/src/linux</command>
bash# <command>patch -p1 &lt; ../rtlinux-patch</command>
</screen>
   </para>
   <para>
Şimdi tercih ettiğiniz yöntemle çekirdeği yapılandırın; <command>make config</command>, <command>make menuconfig</command> veya
<command>make xconfig</command>.
"İşlemci Türü ve Özellikleri" bölümünde CPU türü tam olarak işlemcinizi göstermelidir, bu bir zorunluluktur, aksi halde RTLinux makinanızda çalışmayacaktır. Eğer işlemciniz Pentium 4 veya Xeon ise Pentuim III veya başka bir şey yerine Pentuim 4 seçili olmalıdır. Birden fazla işlemciniz varsa SMP aktif edilmelidir. Diğer donanım sürücülerinizi ve ihtiyaç duyuduğunuz özellikleri de seçmelisiniz. APM BIOS desteğini aktif etmemeniz önerilmektedir - RTLinux ile çalışırken bazı problemlere yol açtığı rapor edilmiştir.
</para>
   <para>
    <note>
     <info>
      <title>kgcc kullananlar için bilgi (gcc 2.91)</title>
     </info>
     <para><filename>makefile</filename> dosyasının başlangıcındaki (<filename>/usr/src/linux/Makefile</filename>):
</para>
     <para>
      <screen>CC = $(CROSS_COMPILE)gcc</screen>
     </para>
     <para>
girdisini:
</para>
     <para>
      <screen>CC = kgcc</screen>
     </para>
     <para>
olarak değiştirin.</para>
    </note>
   </para>
   <para>Bağımlılıkları kontrol edin:
</para>
   <para>
    <screen>bash# <command>make dep</command></screen>
   </para>
   <para>
Sıkıştırılmış çekirdeği ve modülleri oluşturun
</para>
   <para>
    <screen>bash# <command>make bzImage</command>
bash# <command>make modules</command>
</screen>
   </para>
   <para>
Yeni çekirdeği ve modülleri yükleyin:
</para>
   <para>
    <screen>bash# <command>make modules_install</command>
bash# <command>cp arch/i386/boot/bzImage /boot/rtlinuz</command>
</screen>
   </para>
   <para>
Yeni çekirdeğiniz için önyükleyicinize bir girdi ekleyin. Biz örnek olarak root bölümünüzün <filename>/dev/sda1</filename> olduğunu kabul edeceğiz. RTLinux çekirdeği ile problem yaşama ihtimalini düşünerek eski çekirdeğinizle ilgili girdiyi korumayı ihmal etmeyin. Aşağıda LILO için bir girdi örneği yeralmaktadır (<filename>/etc/lilo.conf</filename>):
</para>
   <para>
    <screen>
        ...
        image=/boot/rtlinuz
                label=rtlinux
                root=/dev/sda1
                read-only
        ...
</screen>
   </para>
   <para>
Önyükleyicinizi (lilo veya grub) güncelleyin ve yeni RTLinux çekirdeğiniz ile yeniden başlatın. Eğer bilgisayarınız yeni çekirdekle başlamazsa eskisi ile açarak yeniden çekirdeği yapılandırın ve derleyin. Eski yapılandırmanızın yerine yenisini "<command>make clean</command>" komutuyla koyabilirsiniz.
</para>
   <para>
RTLinux kaynak kodunun bulunduğu dizine geçin:
</para>
   <para>
    <screen>bash# <command>cd /usr/src/rtlinux</command></screen>
   </para>
   <para>
RTLinux'u yapılandırın:
</para>
   <para>
    <screen>bash# <command>make menuconfig</command></screen>
   </para>
   <para>
Burada öntanımlı değerleri kabul edebilirsiniz.
</para>
   <para>
    <note>
     <para>
Eğer çekirdek <filename>Makefile</filename> dosyasında CC derleyicisini kgcc olarak değiştirmişseniz RTLinux kaynak kodundaki <filename>rtl.config</filename> dosyasında
</para>
     <para>
      <screen>CC="gcc"</screen>
     </para>
     <para>yerine:
</para>
     <para>
      <screen>CC="kgcc"</screen>
     </para>
     <para>
olduğundan emin olun.</para>
    </note>
   </para>
   <para>
Şimdi bağımlılıkları kontrol edin (isteğe bağlıdır, eğer bu adımı atlarsanız "<command>make</command>" komutu bu görevi yerine getirecektir):
</para>
   <para>
    <screen>bash# <command>make dep</command></screen>
   </para>
   <para>
RTLinux çekirdeğini ve modülleri oluşturun:
</para>
   <para>
    <screen>bash# <command>make</command></screen>
   </para>
   <para>
Aygıtları oluşturun ve RTLinux'u kurun:
</para>
   <para>
    <screen>bash# <command>make install</command></screen>
   </para>
   <para>
Artık RTLinux'u ve modülleri denetleyin. RTLinux yapılandırmanızı denetlemenize yardımcı olacak bir regresyon analizi paketi ile birlikte gelmektedir.
</para>
   <para>
    <screen>bash# <command>make regression</command></screen>
   </para>
   <para>
Bu işlem sonucunda eğer Linux çekirdeğiniz veya RTLinux hatalı yapılandırılmış ya da hatalı derlenmişse bilgisayarınız kilitlenecektir. Tüm testler "[ OK ]" ile sonuçlanmalıdır. Eğer bazıları başarısız olursa tekrar deneyin (bazı testler ilk başarısız denemeden sonra başarılı olabilmektedir!).
  </para>
  </section>
  <section xml:id="RTLinux-install-howto-running">
   <info>
    <title>RTLinux'u çalıştırmak</title>
   </info>
   <para>
  RTLinux'u başlatın:
</para>
   <para>
    <screen>bash# <command>rtlinux start</command></screen>
   </para>
   <para>
Bu komutun çıktılarında başarı ile yüklenmiş RTLinux modülleri (+) ile başarısız olanları ile (-) ile gösterilecektir.
Liste sizin yapılandırmanıza bağlı olacaktır:
</para>
   <para>
    <screen>        (+)rtl.o
        (+)rtl_fifo.o
        (+)mbuff.o
        ...
</screen>
   </para>
   <para><command>rtlinux</command>'un durumunu kontrol edin:
</para>
   <para>
    <screen>bash# <command>rtlinux status</command></screen>
   </para>
   <para>
Bu komut size yüklenmiş (+) ve yüklenmemiş (-) modülleri gösterecektir.
</para>
   <para>
RTLinux'u durdurun:
</para>
   <para>
    <screen>bash# <command>rtlinux stop</command></screen>
   </para>
   <para>
Bu RTLinux modüllerini boşaltacak ve aşağıdaki gibi bir çıktı verecektir:
</para>
   <para>
    <screen>        (-)rtl.o
        (-)rtl_fifo.o
        (-)mbuff.o
        ...
</screen>
   </para>
  </section>
 </section>
 <section xml:id="RTLinux-install-howto-other">
  <info>
   <title>Diğer Bilgiler</title>
  </info>
  <section xml:id="RTLinux-install-howto-more">
   <info>
    <title>RTLinux/Free hakkında daha fazla bilgi</title>
   </info>
   <para><link xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://tldp.org/HOWTO/RTLinux-HOWTO.html">http://tldp.org</link> adresinden ulaşılabilen bir "RTLinux-HOWTO" belgesi mevcuttur. Kendi <command>rtlinux</command> modüllerinizi yazmanız için iyi bir başlangıçtır.
</para>
   <para>
RTLinux ile ilgili tartışmalara katılmak isterseniz, RTLinux eposta listelerine <uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www2.fsmlabs.com/mailman/listinfo.cgi/rtl">http://www2.fsmlabs.com/mailman/listinfo.cgi/rtl</uri> adresinden üye olabilirsiniz.
  </para>
  </section>
  <section xml:id="RTLinux-install-howto-acknowledgements">
   <info>
    <title>Teşekkür</title>
   </info>
   <para>
Başta Hofrat, Linus, Nils and Zwane olmak üzere RTLinux listesindeki herkese teşekkür ediyorum. Linux çekirdek listesindeki herkese de teşekkürlerimi ve saygılarımı sunuyorum.
  </para>
  </section>
  <section xml:id="RTLinux-install-howto-licence">
   <info>
    <title>Lisans</title>
   </info>
   <para>
Bu belgeyi Open Content lisans koşullarına bağlı kalarak kullanabilir ve dağıtabilirsiniz. Bu kısaca, yazar ve lisans bilgisini koruduğunuz sürece belgeyi özgürce değiştirebileceğiniz ve tekrar dağıtabileceğiniz anlamına gelmektedir. Lisansın tam metnini <uri xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="http://www.opencontent.org/opl.shtml">http://www.opencontent.org/opl.shtml</uri> adresinde bulabilirsiniz.
  </para>
  </section>
 </section>
</article>
