<?xml version="1.0" encoding="UTF-8"?>
<!-- ********************************************************************
        nvidia-kurulum.xml, v1.1, GPLv2, Aralık 2006
     ******************************************************************** -->
<article xml:id="nvidia-kurulum" xmlns="http://docbook.org/ns/docbook"
 xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:lang="tr">
    <info>
     <title>NVIDIA 1.0-4191 Kurulumu</title>
     <author>
      <personname>
       <firstname>Erkan Kaplan</firstname>
      </personname>
      <affiliation>
       <address>
        <email>erkan@linux-sevenler.de</email>
       </address>
      </affiliation>
     </author>
     <pubdate>17 Aralık 2006</pubdate>
     <revhistory>
      <revision>
       <revnumber>1.1</revnumber>
       <date>17 Aralık 2006</date>
       <authorinitials>NBB</authorinitials>
       <revremark>Güncel nvidia paketleri hakkında uyarı eklendi.</revremark>
      </revision>
      <revision>
       <revnumber>1.0</revnumber>
       <date>17 Aralık 2002</date>
       <authorinitials>EK</authorinitials>
       <revremark>İlk sürüm</revremark>
      </revision>
     </revhistory>
     <legalnotice>
      <para>
Bu belge çevirisinin, <emphasis>NVIDIA 1.0-4191 Kurulumu</emphasis>, 1.0 sürümünün <emphasis role="bold"> telif hakkı © 2002 <emphasis>Erkan Kaplan</emphasis></emphasis>'a aittir.
    Bu belgeyi, Free Software Foundation tarafından
yayınlanmış bulunan GNU Genel Kamu Lisansının 2. ya da daha sonraki
sürümünün koşullarına bağlı kalarak kopyalayabilir, dağıtabilir ve/veya
değiştirebilirsiniz. Bu Lisansın özgün kopyasını <uri xlink:href="http://www.gnu.org/copyleft/gpl.html">http://www.gnu.org/copyleft/gpl.html</uri> adresinde bulabilirsiniz.</para>
      <para>
BU BELGE <quote>ÜCRETSİZ</quote> OLARAK RUHSATLANDIĞI İÇİN, İÇERDİĞİ
BİLGİLER İÇİN İLGİLİ KANUNLARIN İZİN VERDİĞİ ÖLÇÜDE HERHANGİ BİR GARANTİ
VERİLMEMEKTEDİR. AKSİ YAZILI OLARAK BELİRTİLMEDİĞİ MÜDDETÇE TELİF HAKKI
SAHİPLERİ VE/VEYA BAŞKA ŞAHISLAR BELGEYİ <quote>OLDUĞU GİBİ</quote>,
AŞİKAR VEYA ZIMNEN, SATILABİLİRLİĞİ VEYA HERHANGİ BİR AMACA UYGUNLUĞU DA
DAHİL OLMAK ÜZERE HİÇBİR GARANTİ VERMEKSİZİN DAĞITMAKTADIRLAR. BİLGİNİN
KALİTESİ İLE İLGİLİ TÜM SORUNLAR SİZE AİTTİR. HERHANGİ BİR HATALI BİLGİDEN
DOLAYI DOĞABİLECEK OLAN BÜTÜN SERVİS, TAMİR VEYA DÜZELTME MASRAFLARI SİZE
AİTTİR.
  </para>
      <para>
İLGİLİ KANUNUN İCBAR ETTİĞİ DURUMLAR VEYA YAZILI ANLAŞMA HARİCİNDE HERHANGİ
BİR ŞEKİLDE TELİF HAKKI SAHİBİ VEYA YUKARIDA İZİN VERİLDİĞİ ŞEKİLDE BELGEYİ
DEĞİŞTİREN VEYA YENİDEN DAĞITAN HERHANGİ BİR KİŞİ, BİLGİNİN KULLANIMI VEYA
KULLANILAMAMASI (VEYA VERİ KAYBI OLUŞMASI, VERİNİN YANLIŞ HALE GELMESİ,
SİZİN VEYA ÜÇÜNCÜ ŞAHISLARIN ZARARA UĞRAMASI VEYA BİLGİLERİN BAŞKA BİLGİLERLE
UYUMSUZ OLMASI) YÜZÜNDEN OLUŞAN GENEL, ÖZEL, DOĞRUDAN YA DA DOLAYLI HERHANGİ
BİR ZARARDAN, BÖYLE BİR TAZMİNAT TALEBİ TELİF HAKKI SAHİBİ VEYA İLGİLİ KİŞİYE
BİLDİRİLMİŞ OLSA DAHİ, SORUMLU DEĞİLDİR.
  </para>
      <para>
Tüm telif hakları aksi özellikle belirtilmediği sürece sahibine aittir.
Belge içinde geçen herhangi bir terim, bir ticari isim ya da kuruma itibar
kazandırma olarak algılanmamalıdır. Bir ürün ya da markanın kullanılmış
olması ona onay verildiği anlamında görülmemelidir.
  </para>
     </legalnotice>
    </info>
    <section xml:id="nvidia-kurulum_giris">
     <info>
      <title>Başlarken</title>
     </info>
     <warning>
      <para>
       NVIDIA ekran kartlarının sürücüleri artık (tarih: 2006) çalıştırılabilir  paket olarak gelmekte ve bu belgede anlatılan herşey paketin kendisi tarafından yapılmaktadır. İşler beklendiği gibi gitmezse sorunlarınızın çözümlerini bu belgede bulma olasılığınız hala yüksektir.</para>
     </warning>
     <para>
      NVIDIA firması uzun bir zamandır Linux için kendi grafik kartları
      için tam olarak destek vermektedir.
     </para>
     <para>
      3D Grafik kartları ile ünlü NVIDIA, çıkardığı bu sürümde OpenGL
    1.4 (<link xlink:href="http://www.nvidia.com/view.asp?IO=feature_cinefx">CineFX</link>
    yapısı ile) ve OpenGL 1.3 desteğide bulunmakta. Ayrıca IndexOverlay aynı
    zamanda Quadro4 Chip'li kartlarda bu sürücü sayesinde kolay bir
    şekilde kullanılabilmekte. Ayrıntılı bilgi almak için <uri xlink:href="http://nvidia.com/view.asp?IO=linux_display_ia32_1.0-4191">http://nvidia.com/view.asp?IO=linux_display_ia32_1.0-4191</uri>
    adresine göz atmakta fayda vardır.</para>
     <para>Şimdi birlikte <literal>src.rpm</literal> olarak nasıl bu yeni
    sürücüleri kuracağımızı anlatacağız.</para>
     <para>Not1: Bu belge hazırlanırken sadece Gelecek Linux 2.0 RedHat
    7.3/8.0 temel alınmış ve bu sistemlerin altında denenmiştir.</para>
     <para>Not2: Bu belgenin son sürümlerini tar.gz olarak www.linux-sevenler.de
    sitesinden Downloads/Linux Kitaplar-Howto/ Türkçe Kitap-Belge bölümünden
    indirebilirsiniz.</para>
     <para>Saygılar</para>
     <para>erkaN</para>
    </section>
    <section xml:id="nvidia-kurulum_gereken">
     <info>
      <title>Kurulum için gereksinimler</title>
     </info>
     <para>Gerçi güncel Linux sürümlerinin hiçbirinde böyle bir sorun
    çıkacağını sanmıyorum ama NVIDIA sürücülerini kurmak için gerekli olan
    önkoşulları kısaca önbilgi olması açısından hatırlatmakta yarar var.</para>
     <para>Kısaca en azından gerekli olanları sıralamak gerekirse:</para>
     <para>
      <variablelist>
       <varlistentry>
        <term>linux kernel 2.2.12</term>
        <listitem>
         <para>
          <literal># cat /proc/version</literal>
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term>XFree86 4.0.1</term>
        <listitem>
         <para>
          <literal># XFree86 -version</literal>
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term>Kernel modutils 2.1.121</term>
        <listitem>
         <para>
          <literal># insmod -V</literal>
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term>binutils 2.9.5</term>
        <listitem>
         <para>
          <literal># size --version</literal>
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term>GNU make 3.77</term>
        <listitem>
         <para>
          <literal># make --version</literal>
         </para>
        </listitem>
       </varlistentry>
       <varlistentry>
        <term>gcc 2.91.66</term>
        <listitem>
         <para>
          <literal># gcc --version</literal>
         </para>
        </listitem>
       </varlistentry>
      </variablelist>
     </para>
     <para>Bu paketlerin sisteminizde kurulu olması gerekmektedir. En yeni
    Linux sürümlerinde bu programların daha yeni sürümlerini
    bulabileceğiniz için burayı kafanıza takmanıza gerek yok.:-)</para>
    </section>
    <section xml:id="nvidia-kurulum_kartlar">
     <info>
      <title>Desteklenen Kartlar</title>
     </info>
     <para>NVIDIA Version 1.0-4191 ile desteklenen kartların
    listesi aşağıdaki gibidir:</para>
     <para>
      <literallayout class="normal">
  NVIDIA kartları                       PCI ID

  o RIVA TNT                            0x0020
  o RIVA TNT2                           0x0028
  o RIVA TNT2 Ultra                     0x0029
  o Vanta                               0x002C
  o RIVA TNT2 Model 64                  0x002D
  o Aladdin TNT2                        0x00A0
  o GeForce 256                         0x0100
  o GeForce DDR                         0x0101
  o Quadro                              0x0103
  o GeForce2 MX/MX 400                  0x0110
  o GeForce2 MX 100/200                 0x0111
  o GeForce2 Go                         0x0112
  o Quadro2 MXR/EX/Go                   0x0113
  o GeForce2 GTS                        0x0150
  o GeForce2 Ti                         0x0151
  o GeForce2 Ultra                      0x0152
  o Quadro2 Pro                         0x0153
  o GeForce4 MX 460                     0x0170
  o GeForce4 MX 440                     0x0171
  o GeForce4 MX 420                     0x0172
  o GeForce4 MX 440-SE                  0x0173
  o GeForce4 440 Go                     0x0174
  o GeForce4 420 Go                     0x0175
  o GeForce4 420 Go 32M                 0x0176
  o GeForce4 460 Go                     0x0177
  o Quadro4 550 XGL                     0x0178
  o GeForce4 440 Go 64M                 0x0179
  o Quadro4 NVS                         0x017A
  o Quadro4 500 GoGL                    0x017C
  o GeForce4 410 Go 16M                 0x017D
  o GeForce4 MX 440 with AGP8X          0x0181
  o GeForce4 MX 440SE with AGP8X        0x0182
  o GeForce4 MX 420 with AGP8X          0x0183
  o Quadro4 580 XGL                     0x0188
  o Quadro4 280 NVS                     0x018A
  o Quadro4 380 XGL                     0x018B
  o NV18M                               0x0186
  o NV18M Pro                           0x0187
  o GeForce2 Integrated GPU             0x01A0
  o GeForce4 MX Integrated GPU          0x01F0
  o GeForce3                            0x0200
  o GeForce3 Ti 200                     0x0201
  o GeForce3 Ti 500                     0x0202
  o Quadro DCC                          0x0203
  o GeForce4 Ti 4600                    0x0250
  o GeForce4 Ti 4400                    0x0251
  o NV25                                0x0252
  o GeForce4 Ti 4200                    0x0253
  o Quadro4 900 XGL                     0x0258
  o Quadro4 750 XGL                     0x0259
  o Quadro4 700 XGL                     0x025B
  o GeForce4 Ti 4800                    0x0280
  o GeForce4 Ti 4200 with AGP8X         0x0281
  o GeForce4 Ti 4800 SE                 0x0282
  o GeForce4 4200 Go                    0x0286
  o Quadro4 980 XGL                     0x0288
  o Quadro4 780 XGL                     0x0289
  o Quadro4 700 GoGL                    0x028C
  o NV30                                0x0300
  o NV30                                0x0301
  o NV30                                0x0302
  o NV30GL                              0x0308
  o NV30GL                              0x0309
</literallayout>
     </para>
     <para>Eğer kullandığınız grafik kartının CHIP'i yukardaki listede
    yoksa, XFree86( 4.0 sürümünden beri) sürücüleri içinde olan nvidia
    sürücülerini ( nv.o ) kullanabilirsiniz. Ancak bu sürücülerde 3D desteği
    olmadığını unutmayın.</para>
     <para>Yukardaki listede grafik chip'inizin olup olmadığını anlamak
    için şu komutları deneyin:</para>
     <para>
      <screen>
$ lspci   -n  |  grep   "10de"
01:00.0 Class 0300: <command>10de:0175</command> (rev a3)
</screen>
     </para>
     <para>Yukardaki komutun cevabını incelediğimizde, bizi ilgilendiren
    bölüm sadece <command>10de:</command> den sonraki ilk 4 rakam. Benim
    kartıma göre <command>0175</command> rakamını verdiğine göre nasıl bir
    grafik kartım olduğunu sanırım tahmın ettiniz :-))</para>
     <para>Efet..Doğru. .-)</para>
     <para>Benim kartım <command> GeForce4 420 Go 0x0175.</command></para>
     <para>
      <command>DIKKAT: RIVA 128/128ZX KARTLARIN nvidia.o
    MODÜLLERI İLE ÇALIŞTIRAMAZSINIZ VE NVIDIA DESTEĞI YOKTUR. SADECE XFREE86
    İLE GELEN VE 3D DESTEĞI OLMAYAN SÜRÜCÜLERİ KULLANMAK ZORUNDASINIZ. (
    YANİ nv.o MODULU )</command>
     </para>
    </section>
    <section xml:id="nvidia-kurulum_indirin">
     <info>
      <title>Önhazırlık ve Paketlerin İndirilmesi</title>
     </info>
     <para>İlkönce X sunucusunun kullandığı ayar dosyasını tespit edelim:</para>
     <para>
      <screen>
# echo $DISPLAY
:0.0

# cat /var/log/XFree86.0.log | grep "Using config file:" | cut -d":" -f2
"/etc/X11/XF86Config-4"
</screen>
     </para>
     <para>Ayar dosyamız demekki; <literal>/etc/X11/XF86Config-4</literal></para>
     <para>Daha sonra çekirdek kaynak paketinin olup olmadığını kontrol
      ediyoruz. Çekirdek kaynak paketinin sistemizinde kurulu olması
      gereklidir:</para>
     <para>
      <screen>
# rpm -qa  |  grep kernel
kernel-2.4.18-10
kernel-source-2.4.18-10
</screen>
     </para>
     <para>Eğer <literal>src.rpm</literal> olarak kurmak istiyorsanız,
    <literal>rpm-build</literal> paketinin
    sisteminizde kurulu olması gerekmekdedir:</para>
     <para>
      <screen>
# rpm -qa  |  grep rpm-build
rpm-build-4.0.4-7x.18
</screen>
     </para>
     <para>Bundan sonra nasıl kuracağımıza karar vermemiz gerekli. Biz burda
    sadece <literal>src.rpm</literal> olarak nasıl
    kuracağımızı anlatacağız.</para>
     <section>
      <info>
       <title><literal>src.rpm</literal> olarak kurulum</title>
      </info>
      <para><literal>src.rpm</literal> olarak kurmak için önce gerekli olan
      2 paketi indirmemiz gerekli.</para>
      <para>
       <orderedlist inheritnum="ignore" continuation="restarts">
        <listitem>
            Modül paketi: <uri xlink:href="http://download.nvidia.com/XFree86_40/1.0-4191/NVIDIA_kernel-1.0-4191.src.rpm">http://download.nvidia.com/XFree86_40/1.0-4191/NVIDIA_kernel-1.0-4191.src.rpm</uri>
          </listitem>
        <listitem>
            GLX paketi: <uri xlink:href="http://download.nvidia.com/XFree86_40/1.0-4191/NVIDIA_GLX-1.0-4191.src.rpm">http://download.nvidia.com/XFree86_40/1.0-4191/NVIDIA_GLX-1.0-4191.src.rpm</uri>
          </listitem>
       </orderedlist>
      </para>
      <para>Şimdi gerekli olan RPM paketlerini oluşturuyoruz: (ilk önce
      modül paketi)</para>
      <para>
       <screen>
# rpm --rebuild NVIDIA_kernel-1.0-4191.src.rpm
</screen>
      </para>
      <para>İşlem bittikten sonra nereye kaydolduğunu açıklayan satırlara
        dikkat ediyoruz:
        </para>
      <para>
       <screen>
Requires(pre): /bin/sh
Requires(post): /bin/sh
Requires(preun): /bin/sh
Requires: kernel &gt;= 2.2.0 rpm &gt;= 3.0.4
<command>Wrote: /usr/src/redhat/RPMS/i386/NVIDIA_kernel-1.0-4191.i586.rpm</command>
Executing(%clean): /bin/sh -e /root/redhat/tmp/rpm-tmp.9714
+ umask 022
+ cd /root/redhat/BUILD
+ cd NVIDIA_kernel-1.0-4191
+ '[' -n /root/redhat/tmp/NVIDIA_kernel-1.0
¬ -a /root/redhat/tmp/NVIDIA_kernel-1.0 '!=' / ']'
+ rm -rf /root/redhat/tmp/NVIDIA_kernel-1.0
+ exit 0
</screen>
      </para>
      <para>Daha sonra GLX paketi için RPM paketi hazırlıyoruz:</para>
      <para>
       <screen>
rpm --rebuild NVIDIA_GLX-1.0-4191.src.rpm
......
......
......
Requires: XFree86 &gt;= 4.0.1 NVIDIA_kernel kernel &gt; 2.2.0 ld-linux.so.2
¬ libc.so.6 libdl.so.2
libGLcore.so.1 libm.so.6 libX11.so.6 libXext.so.6 libc.so.6(GLIBC_2.0)
libdl.so.2(GLIBC_2.0) libdl.so.2(GLIBC_2.1)
<command>Wrote: /usr/src/redhat/RPMS/i386/NVIDIA_GLX-1.0-4191.i586.rpm</command>
Executing(%clean): /bin/sh -e /root/redhat/tmp/rpm-tmp.28702
+ umask 022
+ cd /root/redhat/BUILD
+ cd NVIDIA_GLX-1.0-4191
+ '[' -n /root/redhat/tmp/NVIDIA_GLX-1.0 -a /root/redhat/tmp/NVIDIA_GLX-1.0
¬ '!=' / ']'
+ rm -rf /root/redhat/tmp/NVIDIA_GLX-1.0
+ exit 0
.........
</screen>
      </para>
      <para>Bu işlemlerden sonra bize lazım olan paketler hazırlandı. Bu
      paketler:</para>
      <para>
       <literallayout class="normal">
/usr/src/redhat/RPMS/i386/NVIDIA_GLX-1.0-4191.i586.rpm
/usr/src/redhat/RPMS/i386/NVIDIA_kernel-1.0-4191.i586.rpm

</literallayout>
      </para>
      <para>Bu paketleri kurmadan önce grafik ortamı ile olan ilişkimizi
      kesmemiz lazım. Bunun için root olarak aşağıdaki komutu verdiğimizde
      otomatikman runlevel 3'e geçeceğiz ve bundan sonraki
      işlemlerimizi bir süre oradan devam ettireceğiz:</para>
      <para>
       <screen># init 3</screen>
      </para>
      <para>Şimdi burdan tekrar root olarak sisteme giriş yapıyoruz.</para>
     </section>
    </section>
    <section xml:id="nvidia-kurulum_kurun">
     <info>
      <title>Paketlerin Kurulumu ve Ayarlar</title>
     </info>
     <section>
      <info>
       <title>Paketlerin kurulması</title>
      </info>
      <para>Hazırladığımız RPM paketlerini şimdi root olarak kurmak için
      aşağıdaki komutları veriyoruz:</para>
      <para>
       <screen>
#rpm -Uhv   /usr/src/redhat/RPMS/i386/NVIDIA_kernel-1.0-4191.i586.rpm \
/usr/src/redhat/RPMS/i386/NVIDIA_GLX-1.0-4191.i586.rpm
</screen>
      </para>
      <para>Not: Komutların uygulanması esnasında herhangi bir UYARI veya
      buna benzer bir mesaj gelebilir. HATA olmadığı sürece bu uyarıları
      önemsemeyin.</para>
      <para>Daha sonra <literal>nvidia.o</literal> modülünün yüklenip
      yüklenmediği her ihtimale karşı kontrol ediyoruz.</para>
      <para>
       <screen>
# lsmod | grep nvidia
nvidia               1593920  10  (unused)
</screen>
      </para>
      <para>Tamam..demekki yüklenmiş...</para>
      <para>Not: Bundan önceki NVIDIA modülü <literal>NVdriver</literal>
      olarak kullanılıyordu. Bu sürümünde bu modülün ismi <literal>nvidia</literal>
      olarak değişmiştir.</para>
     </section>
     <section>
      <info>
       <title>Aygıt dosyalarının kontrolü</title>
      </info>
      <para>README dosyasında modül paketlerinin hemen yüklenmesinin
      ardından uygulanan <literal>ldconfig</literal> komutunun bazen yanlış
      ilintileme ile sembolik bağlama yapabileceğinden bahsetmekte. Bu yüzden
      aşağıdaki komut ve komut çıktılarının karşılaştırılmasında yarar
      olacaktır:</para>
      <para>
       <screen>
# ls -l /dev/nvidia*

crw-rw-rw-    1 root     root     195,   0 Ara 13 18:45 /dev/nvidia0
crw-rw-rw-    1 root     root     195,   1 Ara 13 18:45 /dev/nvidia1
crw-rw-rw-    1 root     root     195,   2 Ara 13 18:45 /dev/nvidia2
crw-rw-rw-    1 root     root     195,   3 Ara 13 18:45 /dev/nvidia3
crw-rw-rw-    1 root     root     195, 255 Ara 13 18:45 /dev/nvidiactl
</screen>
      </para>
     </section>
     <section>
      <info>
       <title>modules.conf dosyasının ayarlanması</title>
      </info>
      <para><literal>nvidia.o</literal> modülünün geçiçi olarak yüklendiğini
      <literal>lsmod</literal> komutu ile tespit ettik. Ancak bu geçiçi.
      Bunun kalıcı olması için mesela <literal>/etc/modules.conf</literal>
      dosyasının içine aşağıdaki gibi satırları ekleyebiliriz.</para>
      <para>
       <screen>alias char-major-195 nvidia</screen>
      </para>
      <para>NOT: Eski NVIDIA sürümlerinde bu satır <literal>NVdriver</literal>
      olarak tanımlanıyordu. Ancak yeni NVDIA sürücülerinde bu modulun ismi
      <literal>nvidia</literal> olarak değişmiştir.</para>
      <para>LAPTOP / LCD veya daha özel monitor kullanıyorsanız, bu dosyanın
      içine extra başka seçenekler eklemeniz gerekebilir. Mesela benim
      kullandığım Laptop(Toshiba) ayarları çok değişik:</para>
      <para>
       <screen>
alias char-major-195 nvidia
options nvidia NVreg_SoftEDIDs=0 NVreg_Mobile=4
</screen>
      </para>
      <para>Eğer sizde de böyle özel bir durum mevcut ise lütfen ilk önce
      README dosyasına gözatmayı unutmayın. README dosyasında gerekli olan
      açıklamalar ve kullanılabilecek seçenekler ayrıntılarıyla anlatılmakta.</para>
     </section>
     <section>
      <info>
       <title><literal>XF86Config-4</literal> dosyasının ayarlanması</title>
      </info>
      <para><literal>/etc/X11/XF86Config-4</literal> dosyasının herhangi bir
      metin düzenleyici ile root olarak açın ve sırası ile şunlara dikkat edin:</para>
      <procedure>
       <step performance="required">
        <para>Dosya içinde aşağıdaki gibi bir satırlar varsa bu satırları silin.</para>
        <screen>
Load "dri"
Load "GLcore"
</screen>
       </step>
       <step performance="required">
        <para> veya</para>
        <screen>
# Load "dri"
# Load "GLcore"
</screen>
        <para>olarak değiştirin. </para>
       </step>
       <step performance="required">
        <para>Daha sonra bu satırların hemen altına</para>
        <para>
         <screen>Load "glx"</screen>
        </para>
        <para>satırını ekleyin...</para>
       </step>
      </procedure>
      <procedure>
       <step performance="required">
        <para>Dosya içinde aşağıdaki gibi bir satırlar varsa bu satırları silin.</para>
        <screen>
Driver "nv"
Drive "vesa"
</screen>
       </step>
       <step performance="required">
        <para>veya</para>
        <screen>
# Driver "nv"
# Driver "vesa"
</screen>
        <para>olarak değiştirin.</para>
       </step>
       <step performance="required">
        <para> Daha sonra bu satırın hemen altına</para>
        <screen>Driver "nvidia"</screen>
        <para>satırını ekleyin...</para>
       </step>
      </procedure>
      <procedure>
       <step performance="required">
        <para><literal>XF86Config-4</literal> dosyasının en son satırlarında
          aşağıdaki gibi satırlar olabilir:</para>
        <screen>
Section "DRI"
Mode "0666"
EndSection
</screen>
        <para>Bu satırları ya silin</para>
       </step>
       <step performance="required">
        <para>ya da en güzeli</para>
        <screen>
# Section "DRI"
# Mode "0666"
# EndSection
</screen>
        <para>şeklinde değiştirin. Çünkü artık DRI modüllerine ihtiyacınız
          yok.</para>
       </step>
      </procedure>
      <note>
       <para>Bu ayarları değiştirdikten sonra sakın bir daha
      <literal>Xconfigurator</literal> komutunu kullanarak grafik kartınızı
      ayarlamayın. Çünkü <literal>Xconfigurator</literal> kendi kafasına
      göre yeniden ayarlama yapacaktır (<literal>nv.o</literal> modülüne göre)</para>
      </note>
     </section>
    </section>
    <section xml:id="nvidia-kurulum_deneyin">
     <info>
      <title>Ayar sonrası kontrol</title>
     </info>
     <para>Bütün ayarları yaptıktan sonra bence en güzeli sistemi yeniden
    başlatmak veya root olarak</para>
     <para>
      <screen># depmod  -a</screen>
     </para>
     <para>komutunu uygulamak.</para>
     <para>Daha sonra GLX kitaplıklarının yüklendiğinden emin olun:</para>
     <para>
      <screen>
# xdpyinfo | grep -i glx

    GLX
    NV-GLX
    NVIDIA-GLX
</screen>
     </para>
    </section>
    <section xml:id="nvidia-kurulum_XF86Config">
     <info>
      <title>Örnek bir XF86Config-4 dosyası</title>
     </info>
     <para>Aşağıda benim kullandığım bir ayar dosyası bulunmaktadır. Bir
    fikir vermesi açısından örnek bir dosya olarak gözden geçirebilirsiniz</para>
     <para>
      <screen>
Section "ServerLayout"
  Identifier     "Anaconda Configured"
  Screen      0  "Screen0" 0 0
  InputDevice    "Mouse0" "CorePointer"
  InputDevice    "Mouse1" "SendCoreEvents"
  InputDevice    "Keyboard0" "CoreKeyboard"
EndSection

Section "Files"
  RgbPath      "/usr/X11R6/lib/X11/rgb"
  FontPath     "unix/:7100"
EndSection

Section "Module"
  #Bu satırı iptal ediyoruz
  # Load "GLcore"

  Load  "dbe"
  Load  "extmod"
  Load  "fbdevhw"

  #Bu satırı iptal ediyyorruz.
  #Load  "dri"

  #Bu satırı sonradan ekliyoruz.
  Load  "glx"

  Load  "record"

  # xfs çalışıyorsa bunlara gerek yok. Açık kalmasındada sakınca yok.
  #Load  "freetype"
  #Load  "type1"
EndSection

Section "InputDevice"
  Identifier  "Keyboard0"
  Driver      "keyboard"
  Option            "XkbRules" "xfree86"
  Option            "XkbModel" "pc102"
  Option            "XkbLayout" "tr"
EndSection

Section "InputDevice"
  Identifier  "Mouse0"
  Driver      "mouse"
  Option            "Protocol" "PS/2"
  Option            "Device" "/dev/psaux"
  Option            "ZAxisMapping" "4 5"
  Option            "Emulate3Buttons" "yes"
EndSection

Section "InputDevice"
  Identifier  "Mouse1"
  Driver      "mouse"
  Option            "Device" "/dev/input/mice"
  Option            "Protocol" "IMPS/2"
  Option            "Emulate3Buttons" "no"
  Option            "ZAxisMapping" "4 5"
EndSection

Section "Monitor"
  Identifier   "Monitor0"
  VendorName   "Monitor Vendor"
  ModelName    "Monitor Model"
  HorizSync    31.5 - 48.5
  VertRefresh  50 - 70
  Option            "dpms"
EndSection

Section "Device"
  # no known options
  Identifier  "NVIDIA GeForce 4 (generic)"

  #Bu satır daha önceden Driver  "vesa" şeklindeydi
  # bu satırı aşağıdaki gibi degiştirdik
  Driver      "nvidia"

  VendorName  "NVIDIA GeForce 4 (generic)"
  BoardName   "NVIDIA GeForce 4 (generic)"

  #Kartın RAM kapasitesi. İsteğe bağlı olarak eklennebilir.
  VideoRam    32768

  #Başlangıçdaki NVIDIA logosununu iptal eder
  #Herşey tamamlandığında satırın başından # işaretini kaldırabilirsiniz.
  # Option          "NoLogo" "true"

  #Otomatik AGP destegi
  Option            "NvAGP" "3"
EndSection

Section "Screen"
  Identifier "Screen0"
  Device     "NVIDIA GeForce 4 (generic)"
  Monitor    "Monitor0"
  DefaultDepth     16
  SubSection "Display"
    Depth     16
    Modes    "1024x768" "800x600" "640x480"
  EndSubSection
EndSection

#Bu satırrlar iptal edildi.
#Section "DRI"
#     Mode 0666
#EndSection
</screen>
     </para>
     <para>Sizin ayar dosyanızıda yukarıdakini örnek alarak
    düzenleyebilirsiniz.</para>
    </section>
    <section xml:id="nvidia-kurulum_startx">
     <info>
      <title>startx</title>
     </info>
     <para>Bütün bu işlemlerden sonra artık NVIDIA modülleri sorun olmadan
    hizmet vermesi lazım.</para>
     <para>
      <screen>$ startx</screen>
     </para>
     <para>komutunu verin ve ekranda ilk açılışda NVIDIA firmasının Logosunu
    görürseniz yaptığınız işlemler doğru demektir. Eğer
    göremiyorsanız ya bir yerde hata yaptınız veya yanlış ayarlamış
    olabilirsiniz. Bütün herşeyi tekrar gözden geçirin ve tekrar uygulayın.</para>
    </section>
    <section xml:id="nvidia-kurulum_sorunlar">
     <info>
      <title>Olası Hatalar ve Tavsiyeler</title>
     </info>
     <para>Kurulum esnasında ve sonrasında karşılaşabileceğiniz hataları
    kısaca gözden geçirelim</para>
     <section>
      <info>
       <title>NVIDIA_kernel (modül) paketinin kurulumunda</title>
      </info>
      <para>Bu RPM paketini kurarken</para>
      <para>
       <screen>
#error Modules should never use kernel-headers system headers
#error but headers from an appropriate kernel-source
</screen>
      </para>
      <para>hatası alırsanız, çekirdek kaynak paketinin kurulu olmadığına
      işaret edebilir. Çekirdek kaynak paketini sisteminize kurun.</para>
     </section>
     <section>
      <info>
       <title>Log dosyası</title>
      </info>
      <para>XFree86'nın Log dosyası <literal>/var/log/XFree86.0.log</literal>'dur.
      Herhangi bir hata karşısında</para>
      <para>
       <screen>
$ startx   --   -verbose  5   -logverbose  5
</screen>
      </para>
      <para>komutunu verin ve daha sonra <literal>/var/log/XFree86.0.log</literal> dosyasını
      inceleyin ve başkasından yardım istediğinizde bu dosyayıda sorunuza
      ekleyin. Sorunun çözümünde bu dosya daha hızlı bir şekilde yardımcı
      olacaktır.</para>
     </section>
     <section>
      <info>
       <title>TNT Kartlarına özel bazı durumlar</title>
      </info>
      <para>TNT kartlarına özel bilinen birçok hata düzeltilmiş durumda.
      Ancak bazı durumlarda (SGRAM/SDRAM kullanan TNT kartlarında) grafik
      kartının yanlış BIOS kullanması sonucu, bu kurulacak olan sürücülerin
      görevlerini yapmadığı durumlar olabilir.</para>
      <para>Sürücünün kullandığınız grafik kartını çalıştırmaması halinde;</para>
      <para>
       <variablelist>
        <varlistentry>
         <term>SDRAM/SGRAM tespiti yapın,</term>
         <listitem>
          <para>Bilgisayarı ilk açtığınızda RAM'lerı sayarken kısa bir
            süre içinde ekranda kullandığınız RAM türünü yazar.Buna dikkat
            edin. Burdan tespit edebilirsiniz.</para>
         </listitem>
        </varlistentry>
        <varlistentry>
         <term>tar.gz paketlerinden derlemeyi deneyin</term>
         <listitem>
          <para>Bunun için bütün paketleri tar.gz olarak indirin.</para>
          <para>NVIDIA_kernel dosyasının açın ve
            <literal>os-registry.c</literal> dosyasını herhangi bir
            metin düzenleyici ile açın.</para>
          <para>NVreg_VideoMemoryTypeOverride</para>
          <para>satırını bulun. Bu satırınn üstündeki açıklamayı dikkatle
            okuyun ve kullandığınız SDRAM/SGRAM olmasına göre bu değişkenin
            değerini 1 veya 0 olarak değiştirin. Kaydedin
            ve işleme <literal>make</literal> komutu ile devam edin.</para>
         </listitem>
        </varlistentry>
       </variablelist>
      </para>
      <para>Ayrıntılı açıklamalar için README dosyasını gözden geçirmeyi
      unutmayın.</para>
     </section>
     <section>
      <info>
       <title>Bazı oyunlara haz özellikler</title>
      </info>
      <para>Bazı oyunlara has özellikler ve fazladan uygulanması gereken başka
      ayarlar olabilir. Bunun için lütfen ilk önce,
      <literal>/usr/share/doc/NVIDIA_GLX-1.0/README</literal>
      dosyasını gözden geçirin. Bu oyunların çalışabilmesi için bazı
      extra seçeneklerin verilmesi gerekebilir. Mesela birçok oyunun
      çalışabilmesi için 800x600 veya 640x480 çözünümlerinin
      <literal>XF86Config-4</literal>
      dosyasında tanımlanması gerekir. Mesela aşağıdaki örnekdeki gibi:</para>
      <para>
       <screen>
......
......
Subsection "Display"
Depth 16
Modes "1024x768" "800x600" "640x480"
EndSubsection
.......
.......
</screen>
      </para>
     </section>
     <section>
      <info>
       <title>Nvidia Logosunu istemiyorum</title>
      </info>
      <para>Nvidia sürücülerini kurduktan sonra, X sunucusu başlarken NVIDIA
      logosu bazen sinir bozucu olabilir. Eğer başlangıçda bu logonun
      görülmemesini istiyorsanız <literal>Section "Device"</literal>
      bölümüne <literal>Option   "NoLogo"   "true"</literal>
      satırını ekleyebilirsiniz. Logo bir daha görünmeyecektir.</para>
     </section>
     <section>
      <info>
       <title>AGP ayarları</title>
      </info>
      <para><literal>nvidia.o</literal> çekirdel modülü ile AGP kullanımını
      çeşitli şekilde yapabilirsiniz. Mesela NVIDIA sürücüsünün kendi AGP
      modülü (NVAGP) veya Linux çekirdeğindeki AGP Modülü (AGPGART).</para>
      <para>Bunun ayarlanması için "NvAGP" seçeneğinden sonra bir
      tamsayı değer vermeniz gereklidir. Kısaca şöyle</para>
      <para>
       <screen>
  Option "NvAgp" "0" ... AGP desteği etkin değil
  Option "NvAgp" "1" ... mümkünse NVAGP kullan
  Option "NvAgp" "2" ... mümkünse AGPART kullan
  Option "NvAGP" "3" ... ilk önce AGPGART, sonra NVAGP kullanmayı dene
</screen>
      </para>
      <para>Nvidia modülünün kararlı olmaması halinde, yukardaki ayarlar ile
      biraz oynanması belki bir çözüm yolu olabilir. Bazı durumlarda bu
      özelliğin kaldırılmasında da fayda vardır.</para>
      <para>AGPGART çekirdek modülünün kullanılabilmesi için çekirdek ile
      birlikte derlenmesi gerekmektedir ya çekirdek modülü olarak ya da statik
      olarak ilintilenmiş şekilde. Eğer AGPGART statik olarak ilintilenirse
      bu sefer AGP desteği kullanılamaz. Bu yüzden modül olarak derlemek en
      güzeli.</para>
      <para>NVIDIA'nın kendi AGP desteği aşağıdaki AGP chiplerde
      mevcuttur:</para>
      <para>
       <screen>
  o Intel 440LX
  o Intel 440BX
  o Intel 440GX
  o Intel 815 ("Solano")
  o Intel 820 ("Camino")
  o Intel 830
  o Intel 840 ("Carmel")
  o Intel 845 ("Brookdale")
  o Intel 845G
  o Intel 850 ("Tehama")
  o Intel 860 ("Colusa")
  o AMD 751 ("Irongate")
  o AMD 761 ("IGD4")
  o AMD 762 ("IGD4 MP")
  o VIA 8371
  o VIA 82C694X
  o VIA KT133
  o VIA KT266
  o RCC 6585HE
  o Micron SAMDDR ("Samurai")
  o Micron SCIDDR ("Scimitar")
  o nForce AGP
  o ALi 1621
  o ALi 1631
  o ALi 1647
  o ALi 1651
  o ALi 1671
  o SiS 630
  o SiS 633
  o SiS 635
  o SiS 645
  o SiS 730
  o SiS 733
  o SiS 735
  o SiS 745
</screen>
      </para>
     </section>
     <section>
      <info>
       <title>AGP hızı</title>
      </info>
      <para>Eğer bazı durumlarda kararlı olmama durumu varsa, bu durumda AGP
      hızını biraz aşağıya çekmekte de yarar olabilir. Bunun için
      <literal>modules.conf</literal> dosyasındaki <literal>nvidia</literal>
      ile ilgili <literal>options</literal> satırında
      <literal>NVreg_ReqAGPRate</literal> ile hızı belirleyebilirsiniz.
      Mesela:</para>
      <para>
       <screen>
alias char-major-195 nvidia
options nvidia NVreg_ReqAGPRate=2  # force AGP Rate to 2x
</screen>
      </para>
      <para>veya</para>
      <para>
       <screen>
options nvidia NVreg_ReqAGPRate=1  # force AGP Rate to 1x
</screen>
      </para>
      <para>Diğer bazı anakartlara has özellikleri ayrıntılı bir şekilde
      README dosyasında bulabilirsiniz. (Athlon Motherbords with VIA KX133
      or 694X chip set,ASUS K7V, ALi1541, ALi1647)</para>
      <para/>
     </section>
     <section>
      <info>
       <title>TV-OUT Kullanımı</title>
      </info>
      <para>Eğer Nvidia kartınızın TV-OUT (S-Video) özelligi varsa, TV
      çıkışını kullanabilirsiniz.</para>
      <para>TV-OUT tespiti için aşağıdaki komutu verin ve Encoder çıktısına
      dikkat edin:</para>
      <para>
       <screen>
# cat  /var/log/XFree86.0.log  |  grep  Encoder

(--) NVIDIA(0): Detected TV Encoder: NVIDIA
</screen>
      </para>
      <para><literal>XF86Config</literal> dosyasındaki çözünürlüklerin
      aşağıdaki gibi olmasına dikkat edin:</para>
      <para>
       <screen>
#  cat  /etc/X11/XF86Config-4   |    grep  Modes

Modes    "1024x768" "800x600" "640x480"
</screen>
      </para>
      <para><literal>XF86Config</literal> dosyasındaki
      <literal>Section "Screen"</literal>
      bölümüne <literal>Option "TVStandard" "ULKE_KODU"</literal>
      şeklinde bir satır eklemeniz gerekli. Ülke kodları aşağıdaki gibidir.
      Türkiye için PAL-B kullanılır.</para>
      <para>
       <screen>
"PAL-B"  : used in Belgium, Denmark, Finland, Germany, Guinea,
                   Hong Kong, India, Indonesia, Italy, Malaysia, The
                   Netherlands, Norway, Portugal, Singapore, Spain,
                   Sweden, and Switzerland
"PAL-D"  : used in China and North Korea
"PAL-G"  : used in Denmark, Finland, Germany, Italy, Malaysia,
                   The Netherlands, Norway, Portugal, Spain, Sweden,
                   and Switzerland
"PAL-H"  : used in Belgium
"PAL-I"  : used in Hong Kong and The United Kingdom
"PAL-K1" : used in Guinea
"PAL-M"  : used in Brazil
"PAL-N"  : used in France, Paraguay, and Uruguay
"PAL-NC" : used in Argentina
"NTSC-J" : used in Japan
"NTSC-M" : used in Canada, Chile, Colombia, Costa Rica, Ecuador,
                   Haiti, Honduras, Mexico, Panama, Puerto Rico, South
                   Korea, Taiwan, United States of America, and Venezuela
</screen>
      </para>
      <para>Geçersiz veya yanlış bir ülke kodu vermeniz halinde
      <literal>Option "TVStandard" "NTSC-M"</literal>
      satırı öntanımlı olarak kullanılır.</para>
      <para>Daha sonra aynı bölüme
      <literal>Option "ConnectedMonitor" "TV"</literal>
      satırını ekleyerek, televizyon ekranının bir monitor gibi
      kullanılmasını sağlayan satırı ekleyin.</para>
      <para>Son olarak, görüntünün biçemini belirleyin. Bu kablolu
      yayın girişleri için SVIDEO, anten girişleri için COMPOSITE'dir.
      (bende SVIDEO):
      <literal>Option "TVOutFormat" "SVIDEO"</literal></para>
      <para>Hepsi bu kadar. Bundan sonra televizyonu tıpkı bir monitor gibi
      kullanabilirsiniz.</para>
      <para>Ayrıntılar için lütfen README dosyasını gözden geçirmeyi
      unutmayın.</para>
     </section>
     <section>
      <info>
       <title>LAPTOP ayarları</title>
      </info>
      <para>Laptoplarda da NVIDIA sürücülerinin kurulması aynen normal
      monitorlar gibidir. Fazla bir fark yoktur.</para>
      <para>NVIDIA Version 1.0-2802 den beri video bios hesaplanması dinamik
      olarak yapılmaktadır. Ancak Laptop ekranlarında durum farklı olduğu
      için bu hesaplama <literal>"SoftEDIDs" "0"</literal> satırı ile
      engellenebilir. Daha sonra "Mobile" modül seçeneğinin seçilmesi
      gereklidir.</para>
      <para>"Mobile" modül seçeneğinin alabileceği değerler
      şunlardır.</para>
      <para>
       <screen>
0xFFFFFFFF : let the kernel module auto detect the correct value
             1 : Dell laptops
             2 : non-Compal Toshiba laptops
             3 : all other laptops
             4 : Compal Toshiba laptops
             5 : Gateway laptops
</screen>
      </para>
      <para>Mesela benim Laptopum Toshiba Satellite 2410-404. Benim bu
      açıklamalara göre <literal>modules.conf</literal> dosyamdaki ayarlar
      şu şekilde:</para>
      <para>
       <screen>
alias   char-major-195   nvidia
options   nvidia   NVreg_SoftEDIDs=0   NVreg_Mobile=4
</screen>
      </para>
      <para>Sizde kendinize göre ayarlarınızı bu bilgiler ışığında sanırım
      değiştirebilirssiniz.</para>
      <para>Ayrıntılar için lütfen README dosyasına gözatmayı unutmayın.</para>
     </section>
    </section>
   </article>
